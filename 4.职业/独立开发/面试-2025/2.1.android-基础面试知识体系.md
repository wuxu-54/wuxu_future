# 基础知识点

大厂Android面试需要掌握的知识点较为广泛，涵盖基础知识、进阶技术、开源框架等多个方面，以下是详细介绍：

- **基础知识**
  - **Java基础**：包括JVM相关知识，如内存分区、GC机制、内存模型、锁、字节码、类加载等；还有容器，如HashMap、CurrentHashMap、ArrayList等；以及线程池、注解、同步工具、动态代理、notify/wait/sleep等。
  - **Android基础组件**：四大组件（Activity、Service、BroadcastReceiver、ContentProvider）的生命周期、启动模式、应用场景等；Handler机制的原理及应用，如子线程与主线程通信、Handler导致的内存泄露解决等；AsyncTask、Thread、HandlerThread的区别与使用；Fragment的懒加载、与Activity及其他Fragment的通信等。
  - **View相关**：View绘制流程，包括draw、onDraw、dispatchDraw的执行顺序等；触摸事件传递机制，如触摸事件是否先传递到Activity再到View等；RecyclerView与ListView的区别与优化，如RecyclerView的DiffUtil使用等。
  - **数据持久化**：Android中数据持久化的方式，如SharedPreference、SQLite、Room等，需了解它们的使用场景、特点及线程安全性等。
  - **计算机基础**：计算机网络知识，如7层网络模型、Http和Https的区别、TCP的三次握手和四次挥手等；git工作流和常用命令；UML相关知识等。
- **进阶技术**
  - **性能优化**：内存优化，如LeakCanary原理与二次开发、Native层内存泄漏检测等；布局优化，如使用ViewStub+Merge标签减少层级嵌套等；冷启动优化，如合并ContentProvider初始化逻辑、使用MMKV替换SharedPreferences等；还有ANR问题的排查与解决等。
  - **Binder机制**：Binder通信的原理，如Binder驱动如何实现一次内存拷贝、Binder驱动通过mmap在内核空间创建共享内存区域等，以及Binder在跨进程通信中的应用。
  - **多线程与并发**：多线程的实现方式，如继承Thread类、实现Runnable接口、使用Callable和Future等；线程池的原理与使用，如ThreadPoolExecutor的饱和策略等；并发编程的相关概念，如原子性、可见性、有序性等，以及如何保证这些特性。
  - **Android版本新特性**：了解各版本的重要更新，如Android 6.0的动态权限管理、Android 12的隐私政策更新等，以及这些新特性对应用开发的影响。
- **开源框架与架构**
  - **Jetpack组件**：如Room数据库的使用、LiveData的原理与应用、ViewModel如何与Lifecycle配合使用、WorkManager的任务调度等。
  - **网络框架**：OkHttp的原理与优化，如连接池管理等；Retrofit的动态代理实现及使用；Volley的特点与应用场景等。
  - **图片加载框架**：Glide的原理、缓存策略及使用，如内存缓存和磁盘缓存的机制等，以及其他图片加载框架如Picasso、Fresco等的特点。
  - **架构模式**：MVP、MVVM、MVC等架构模式的原理、优缺点及在项目中的应用，如如何用MVVM架构解决复杂业务逻辑等。
- **其他**
  - **Kotlin语言**：Kotlin的基本语法、特性，如协程的使用、扩展函数、空安全等，以及Kotlin在Android开发中的优势和应用场景。
  - **Flutter相关**：了解Flutter的基本概念、架构和特性，如Flutter的渲染机制、状态管理等，以及Flutter在跨平台开发中的应用。
  - **设计模式**：常见设计模式的原理与应用，如单例模式、工厂模式、观察者模式、状态模式、责任链模式等，能够在项目中合理运用设计模式优化代码结构。

---

## 年薪百万

要冲击年薪百万的Android岗位，需在技术深度、项目经验、系统设计、软技能等维度形成差异化竞争力。以下是结合大厂高频考点和实战经验的关键突破点：

### 一、技术深度突破

#### 1. 性能优化的纵深掌控

- **内存优化**：
  - 掌握LeakCanary二次开发能力，能定位Native层内存泄漏（如通过ndk-stack分析.so崩溃日志）
  - 实现Bitmap内存复用（inBitmap），了解不同设备内存阈值适配策略
  - 内存抖动解决方案：对象池技术（如RecyclerView的ViewHolder池）、SparseArray替代HashMap
- **启动优化**：
  - 冷启动优化：使用BlockCanary检测主线程耗时，合并ContentProvider初始化，采用MMKV替代SharedPreferences
  - 启动阶段异步化：通过App Startup库管理组件初始化顺序，实现后台线程加载非必需资源
- **渲染优化**：
  - 过度绘制检测与优化：使用GPU Overdraw工具，通过merge标签减少布局层级
  - 自定义View性能调优：避免onDraw中创建对象，启用硬件加速

#### 2. 架构设计的实战能力

- **组件化架构**：
  - 实现AAR化模块解耦，通过ARouter进行跨模块通信，解决组件间依赖冲突
  - 掌握动态加载技术（如DroidPlugin），实现插件化更新核心功能模块
- **MVVM深度实践**：
  - 自定义LiveData实现数据变化监听，结合ViewModelStore解决配置变更内存泄漏
  - 用协程替代RxJava处理异步数据流，优化代码复杂度
- **高并发架构**：
  - 设计支持百万级DAU的推送SDK，采用长连接心跳机制和消息队列削峰
  - 实现基于Token Bucket算法的接口限流策略，防止服务器过载

### 二、项目经验的价值提炼

#### 1. 核心项目的技术拆解

- **案例1：千万级用户电商App性能重构**
  - 背景：启动耗时1.8秒，内存泄漏率0.3%
  - 方案：
    - 启动阶段拆分：首屏渲染与后台初始化并行（使用AsyncTaskLoader）
    - 内存优化：通过MAT分析发现Activity泄漏，改用WeakReference持有上下文
    - 网络优化：OkHttp连接池复用，实现HTTP/2+TLS 1.3加速数据传输
  - 效果：启动耗时降至600ms，内存泄漏率降至0.05%，流量消耗减少20%
- **案例2：音视频编辑SDK设计**
  - 技术点：
    - 使用FFmpeg进行视频转码，通过MediaCodec实现硬解码
    - 多线程协作：采用生产者-消费者模型处理帧数据，使用CyclicBarrier同步线程
    - 内存管理：通过Native层分配内存（ashmem）减少Java层GC压力

#### 2. 问题解决的STAR法则

- **场景**：处理用户反馈的列表滑动卡顿问题
- **Situation**：某社交App动态列表在低端机型帧率低于30fps
- **Task**：定位卡顿原因并提出优化方案
- **Action**：
  - 用Systrace分析发现RecyclerView onBindViewHolder耗时
  - 优化措施：
    - 预加载离屏Item的图片（使用Glide的预取接口）
    - 采用DiffUtil进行局部刷新，减少布局计算
    - 启用ItemView缓存池，避免频繁创建对象
- **Result**：低端机型帧率提升至55fps，内存占用降低30%

### 三、系统设计的降维打击

#### 1. 高并发场景设计

- **需求**：设计支持10万QPS的直播弹幕系统
- **架构方案**：
  - **客户端**：
    - 采用ProtoBuf替代JSON减少数据传输量
    - 消息队列：用RxJava实现本地队列，处理网络抖动导致的消息堆积
    - 限流策略：基于Token Bucket算法限制每秒发送弹幕数
  - **服务端**：
    - 负载均衡：Nginx+LVS四层负载均衡
    - 消息存储：Kafka集群处理实时消息，Redis存储热点数据
    - 容灾设计：多机房异地多活，数据同步延迟<50ms

#### 2. 跨平台架构选型

- **混合开发方案对比**：

  | 方案       | 启动速度 | 性能   | 维护成本 | 适用场景         |
  |------------|----------|--------|----------|------------------|
  | Flutter    | 中       | 高     | 高       | 复杂动画界面     |
  | React Native| 慢       | 中     | 中       | 业务逻辑复杂场景 |
  | 原生+JSBridge| 快       | 低     | 低       | 简单H5嵌入       |

- **落地策略**：
  - 核心模块用Flutter实现（如直播特效），基础功能保留原生
  - 通过MethodChannel实现双向通信，使用SharedPreferences跨平台数据同步

### 四、软技能的精准呈现

#### 1. 技术影响力塑造

- **开源贡献**：
  - 维护过Star数>1000的Android库（如自定义网络拦截器）
  - 参与过大型开源项目（如AOSP代码提交）
- **技术沉淀**：
  - 发表过技术文章（如在InfoQ、掘金等平台）
  - 主导过内部技术方案评审，推动团队技术栈升级

#### 2. 领导力展现

- **案例**：主导团队完成某核心功能重构
  - 背景：原架构耦合严重，迭代效率低下
  - 行动：
    - 制定技术方案：采用组件化架构，划分基础库、业务组件
    - 推动落地：组织技术培训，建立Code Review机制
    - 风险管理：通过AB测试灰度发布，监控回滚率<0.1%
  - 成果：迭代周期缩短40%，线上故障率下降60%

### 五、高频考点的终极准备

#### 1. 必问核心问题

- **Binder机制**：
  - 为什么Binder是Android IPC首选？（性能、安全性、易用性）
  - 实现一个简单的AIDL通信案例，说明跨进程调用流程
- **Handler内存泄漏**：
  - 根本原因：非静态内部类持有外部Activity引用
  - 解决方案：
    - 使用静态内部类+WeakReference
    - 在Activity onDestroy时移除所有未处理消息
- **性能优化**：
  - 如何定位ANR？（使用ANR日志分析工具，检查主线程耗时操作）
  - 启动速度优化的关键指标（FirstDraw、FirstContentDraw）

#### 2. 算法与数据结构

- **高频题型**：
  - 链表反转（要求空间复杂度O(1)）
  - 二叉树的层序遍历（使用队列实现）
  - 字符串匹配（KMP算法的实现与优化）
- **刷题策略**：
  - 重点刷LeetCode中等难度题（如Top 100高频题）
  - 练习白板编程，确保代码规范性（边界条件处理、异常捕获）

### 六、面试策略的精准执行

#### 1. 简历包装技巧

- **技术深度呈现**：
  - 项目描述采用"技术点+挑战+成果"结构：
    - "主导某电商App性能优化，通过内存泄漏检测与布局优化，使启动速度提升40%，获公司季度创新奖"
- **差异化亮点**：
  - 突出技术栈广度："精通Android+Flutter混合开发，熟悉Kotlin/Native跨平台方案"
  - 强调系统设计经验："设计过支持百万用户的推送系统，QPS峰值达10万"

#### 2. 面试应答话术

- **回答结构**：
  - 结论先行："这个问题我认为需要从三个层面分析..."
  - 逻辑展开："首先...其次...最后..."
  - 案例支撑："在某项目中我们采用了...方案，效果是..."
- **经典问题应答**：
  - "为什么选择离开上家公司？"
    - 错误回答："加班太多"
    - 正确回答："为了挑战更高复杂度的项目，上家公司的业务规模已无法满足我的技术成长需求"

### 七、学习资源的精准投入

#### 1. 深度阅读

- **书籍**：
  - 《Android开发艺术探索》（任玉刚）
  - 《深入理解Java虚拟机》（周志明）
  - 《设计模式之美》（王争）
- **论文**：
  - 阅读Android Framework相关论文（如Binder机制的设计文档）
  - 研究Google I/O技术演讲（如Jetpack Compose的底层实现）

#### 2. 实战训练

- **项目复现**：
  - 复现大厂开源项目（如抖音的架构方案）
  - 参与Kaggle竞赛（提升数据处理能力）
- **模拟面试**：
  - 加入技术交流群进行Mock Interview
  - 使用面试模拟平台（如Pramp）进行实战演练

年薪百万的Android岗位本质是技术深度、项目价值、系统思维和软技能的综合较量。建议用6个月时间完成：

1. 技术攻坚（3个月）：重点突破性能优化、架构设计、算法
2. 项目包装（2个月）：提炼3个以上高价值项目案例
3. 面试冲刺（1个月）：模拟高频面试场景，打磨应答话术

记住：面试的本质是价值交换，你的技术方案能为企业节省多少成本、创造多少收益，决定了你能拿到的薪资水平。
