# 动态规划

动态规划（Dynamic Programming，DP）是一种在数学、管理科学、计算机科学、经济学和生物信息学等领域中用来求解决策过程最优化问题的方法。动态规划算法通过把原问题分解为相对简单的子问题的方式求解复杂问题。以下是动态规划解题的一般步骤：

1. **定义状态**：
   - 确定状态变量，通常是`dp[i]`，表示到第`i`个位置（或时间点、或其他）的状态。
   - 状态变量通常与问题中的决策点有关。

2. **确定状态转移方程**：
   - 状态转移方程描述了状态之间的关系，即`dp[i]`如何由前一个或多个状态计算得出。
   - 这是动态规划最核心的部分，需要根据问题的具体逻辑来推导。

3. **确定初始状态**：
   - 确定`dp[0]`或`dp[i]`在初始条件下的值，这通常是边界条件。

4. **确定边界条件**：
   - 边界条件是状态转移的基础，通常对应于子问题的最小规模。

5. **计算顺序**：
   - 确定计算状态的顺序，这通常依赖于状态转移方程。在某些情况下，可以自底向上计算，也可以自顶向下计算。

6. **实现算法**：
   - 根据上述步骤实现算法。通常有两种方法：
     - 自顶向下（Top-Down）：使用递归，通常需要记忆化（Memoization）来避免重复计算。
     - 自底向上（Bottom-Up）：使用迭代，从最小的子问题开始，逐步构建解决方案。

7. **优化**：
   - 在实现算法后，检查是否可以优化空间复杂度，例如通过滚动数组（滚动优化）来减少空间使用。

8. **测试**：
   - 对算法进行测试，确保它可以正确解决所有边界情况和特殊情况。

9. **分析复杂度**：
   - 分析算法的时间复杂度和空间复杂度。

## 示例：斐波那契数列

**问题**：计算斐波那契数列的第`n`项。

1. **定义状态**：`dp[i]`表示第`i`项的斐波那契数。
2. **状态转移方程**：`dp[i] = dp[i-1] + dp[i-2]`。
3. **初始状态**：`dp[0] = 0`，`dp[1] = 1`。
4. **边界条件**：`n = 0`时，答案为`0`；`n = 1`时，答案为`1`。
5. **计算顺序**：从小到大计算`dp[i]`。
6. **实现算法**：

   ```python
   def fib(n):
       if n <= 1:
           return n
       dp = [0] * (n + 1)
       dp[1] = 1
       for i in range(2, n + 1):
           dp[i] = dp[i - 1] + dp[i - 2]
       return dp[n]
   ```

7. **优化**：可以使用滚动数组减少空间复杂度。
8. **测试**：确保算法可以正确计算出不同`n`值的斐波那契数。
9. **分析复杂度**：时间复杂度为`O(n)`，空间复杂度为`O(n)`，可以优化到`O(1)`。

动态规划的关键在于正确地定义状态和推导出状态转移方程，这通常需要对问题有深入的理解。
