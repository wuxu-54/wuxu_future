# 定长滑窗

定长滑动窗口是滑动窗口算法的一种特殊形式，在这种算法中，窗口的大小是固定的。这意味着在遍历数组或字符串时，窗口包含的元素数量始终保持不变。定长滑动窗口算法通过移动窗口的起始位置和结束位置来遍历整个数据集合，从而找到满足特定条件的子序列或计算相关的统计信息。

以下是定长滑动窗口算法的基本步骤：

1. **初始化窗口**：
   - 确定窗口的大小 `k`。
   - 初始化左指针 `left` 和右指针 `right` 都指向数组的起始位置（索引为0）。
   - 根据窗口大小，初始化一个临时容器（如数组或队列）来存储窗口中的元素。

2. **填充初始窗口**：
   - 将前 `k` 个元素添加到临时容器中。
   - 如果需要，计算初始窗口的某种统计信息或检查是否满足特定条件。

3. **移动窗口**：
   - 从左到右遍历数组，每次移动右指针 `right` 来包含下一个元素。
   - 同时，为了保持窗口大小不变，需要移动左指针 `left` 来排除窗口最左边的元素。
   - 更新临时容器以反映当前窗口的内容。
   - 根据问题的需求，计算或更新当前窗口的统计信息或检查结果。

4. **记录结果**：
   - 在每次移动窗口后，如果当前窗口满足特定条件或得到了期望的结果，则记录下来。
   - 这可能包括最大值、最小值、和、频率、出现次数等统计信息。

5. **继续遍历**：
   - 重复步骤3和步骤4，直到右指针遍历完整个数组。

6. **返回结果**：
   - 最后，返回所有记录的结果或从中选择最优解。

定长滑动窗口算法在处理具有固定长度子序列的问题时非常有效，例如：

- 找到数组中的最大子数组和（但子数组长度固定）。
- 在字符串中找到所有长度为 `k` 的子串的出现次数。
- 在数组中找到长度为 `k` 的连续子数组的最小值或最大值。

由于窗口大小是固定的，定长滑动窗口算法通常比不定长滑动窗口算法更容易实现和理解。然而，它的灵活性较低，因为窗口大小不能根据问题的需求动态调整。

## 更多介绍

1. **什么是定长滑窗（固定大小的滑动窗口）**
   - 滑动窗口是一种在数组、字符串等数据结构上使用的处理技巧。定长滑窗就是窗口的大小（包含的元素个数）是固定的。
   - 例如，对于一个数组`[1, 2, 3, 4, 5]`，如果窗口大小为3，那么可能的窗口有`[1, 2, 3]`、`[2, 3, 4]`、`[3, 4, 5]`。窗口就像一个固定长度的“框”，在数据结构上滑动，每次框住一组元素进行处理。
2. **在LeetCode题目中的应用场景**
   - **求和问题**
     - 比如给定一个数组`nums`和一个整数`k`，要求找出数组中所有长度为`k`的子数组的和。例如，`nums = [1, 2, 3, 4, 5]`，`k = 3`，我们需要计算`[1, 2, 3]`的和、`[2, 3, 4]`的和、`[3, 4, 5]`的和。
     - 实现思路：
       - 首先计算初始窗口（前`k`个元素）的和。可以使用一个变量`window_sum`来记录。
       - 然后通过滑动窗口，每次移除窗口最左边的元素，添加窗口最右边新元素，更新`window_sum`。
       - 对于上述例子，初始窗口`[1, 2, 3]`的和为`1 + 2 + 3=6`。当窗口向右滑动一格变为`[2, 3, 4]`时，新的和可以通过`window_sum - 1（移除的左边元素）+ 4（新添加的右边元素）`来计算，得到`6 - 1+4 = 9`。
   - **查找子串问题**
     - 给定一个字符串`s`和一个长度`k`，判断是否存在长度为`k`的子串满足某种条件。例如，判断是否存在长度为`k`的子串，其中所有字符都是唯一的。
     - 实现思路：
       - 用一个窗口来框住字符串的一部分。初始窗口包含字符串的前`k`个字符。
       - 可以使用一个数据结构（如哈希集合）来记录窗口中的字符，方便检查字符的唯一性。
       - 当窗口滑动时，移除左边的字符，添加右边的新字符，同时更新哈希集合和判断条件。比如对于字符串`abcdea`，`k = 4`，初始窗口`abcd`，哈希集合中有`a`、`b`、`c`、`d`四个字符，满足字符唯一的条件。当窗口滑动到`bcde`时，移除`a`，添加`e`，更新哈希集合，继续检查条件。
3. **代码模板（以计算定长窗口的元素和为例）**

```python
nums = [1, 2, 3, 4, 5]
k = 3
window_sum = sum(nums[:k])
result = [window_sum]
for i in range(len(nums) - k):
    window_sum = window_sum - nums[i] + nums[i + k]
    result.append(window_sum)
print(result)
```

- 在上述Python代码中：
  - 首先计算初始窗口的和`window_sum = sum(nums[:k])`，并将其添加到结果列表`result`中。
  - 然后通过循环滑动窗口，每次更新`window_sum`，并将新的和添加到`result`中。循环条件`for i in range(len(nums) - k)`保证窗口能够在数组内正确滑动，直到最后一个可能的窗口。

定长滑窗问题是一种比较基础但很实用的算法技巧，通过不断滑动固定大小的窗口来高效地解决一些连续子数组或子串相关的问题。
