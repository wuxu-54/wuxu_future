# 三段式版本号

版本号的三段式，又称为语义化版本控制（Semantic Versioning），是一种版本编号的约定，用来指导软件的版本控制和更新。它由三部分组成，每部分之间用点号（.）分隔，格式如下：

```txt
主版本号.次版本号.修订号
```

* **主版本号（Major Version）**：当你做了不兼容的 API 修改时，需要增加主版本号。例如，从 1.0.0 升级到 2.0.0 时，主版本号增加。这些更改可能包括：
  * 引入了破坏现有工作流程或功能的重大新特性。
  * 对API进行了修改，导致现有的用户代码无法正常工作。
  * 对软件架构进行了重大改变，影响了其核心功能或性能。
  * 升级了依赖的库或框架，导致不兼容的问题。
  * 任何其他对现有用户来说可能需要重大变更才能适应的更新。

* **次版本号（Minor Version）**：当你添加了向下兼容的新功能时，需要增加次版本号。例如，从 1.0.0 升级到 1.1.0 时，次版本号增加。这些更改可能包括：
  * 增加了新特性，但这些特性不会破坏现有的功能或工作流程。
  * 对现有功能进行了增强或优化，提升了用户体验。
  * 提供了更好的文档或开发资源。
  * 改进了性能或效率，但这些改进不会改变软件的现有行为。

* **修订号（Patch Version）**：当你进行了向下兼容的问题修正时，需要增加修订号。例如，从 1.0.0 升级到 1.0.1 时，修订号增加。这些更改可能包括：
  * 修复了软件中的错误或问题。
  * 改进了安全性，防止了潜在的安全风险。
  * 对文档进行了小的更新或修正。
  * 进行了小的代码优化，但不添加新功能或不改变现有功能的行为。

此外，版本号后面还可以附加一些额外的信息，如预发布版本（Pre-release）和构建元数据（Build metadata）：

* **预发布版本（Pre-release）**：版本号后面可以跟一个连字符（-）和一串预发布标识，如 alpha、beta、rc1 等，表示这个版本还未稳定，仅供测试使用。

* **构建元数据（Build metadata）**：版本号后面可以跟一个加号（+）和一串构建元数据，如 commit.hash、build.date 等，用于提供额外的构建信息，但不会改变版本的语义。

例如，一个遵循语义化版本的软件可能会有如下的版本号：

* 1.0.0：初始版本，功能完备。
* 1.1.0：在原有基础上增加了新功能，但保持向后兼容。
* 1.1.1: 修复了一些小问题，不影响现有功能。
* 2.1.0：进行了重大更新，可能引入了不兼容的变更。
* 3.2.1: 主版本号、次版本号、修订号同时变化，说明：1.做了不兼容的 API 修改。2.添加了向下兼容的新功能。3.进行了向下兼容的问题修正
* 4.0.0-alpha：4.0 版本的预览版，可能还有很多问题。
* 4.0.0+2018031501：构建日期为 2018 年 3 月 15 日的版本。

遵循语义化版本控制可以帮助开发者和用户更好地理解每次版本更新的影响，从而做出更合适的决策。

---

* [其他资料](https://semver.org/lang/zh-CN/)
