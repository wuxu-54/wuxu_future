# declare

告诉TS编译器，保证某个类型一定存在，同时具体实现是无需关注的（即使在declare声明中写了实现，编译器也会忽略），我们只需要正常调用。

>.d.ts 是 非TS 文件，如JS，TS编译会生成一个.d.ts文件，在TS文件中可以直接使用，而不用引入。目的是加快编译速度和减小体积

## `.ts文件`中使用declare

`.ts文件`中使用declare只会被当成是类型或者变量的定义，最后编译在声明文件.d.ts中，**不会编译在.js文件中**，就像下面这个类

```typescript
// index.ts
declare class Animal {
    name?: string;
}
 
// index.js
// 空文件
 
// index.d.ts
declare class Animal {
    name?: string;
}
```

这个案例最能表现declare作用

## 补充说明

1. interface 和 type 无需加declare，默认效果和加上一样，但在具体使用场景侧重上有差异，看下面[`declare interface` 和 `interface` 区别](#declare-interface-和-interface-区别)

---

## `declare interface` 和 `interface` 区别

在 TypeScript 里，`declare interface` 和 `interface` 都用于定义接口，但它们在使用场景和作用上存在一些差异，下面为你详细介绍：

### 1. `interface`

- **定义**：`interface` 是 TypeScript 中用于定义对象类型结构的常用方式，可用于定义类的形状、函数的参数和返回值类型等，还能用来描述对象的属性和方法。
- **使用场景**：主要在 TypeScript 文件（`.ts`）中定义接口，用于本地代码的类型检查和类型约束。
- **示例代码**：

```typescript
// 定义一个接口来描述一个人的信息
interface Person {
    name: string;
    age: number;
    sayHello(): void;
}

// 创建一个符合 Person 接口的对象
const person: Person = {
    name: 'John',
    age: 30,
    sayHello() {
        console.log(`Hello, my name is ${this.name}.`);
    }
};

person.sayHello(); 
```

- **特点**：`interface` 定义的接口会参与到类型系统的编译过程中，并且会影响最终生成的 JavaScript 代码（尽管接口本身不会生成 JavaScript 代码，但使用接口的地方会进行类型检查）。

### 2. `declare interface`

- **定义**：`declare interface` 通常用于类型声明文件（`.d.ts`）中，它的作用是告诉 TypeScript 编译器某个接口在其他地方（如 JavaScript 代码或第三方库）已经存在，这里只是对其进行类型声明，而不会实际定义接口的实现。
- **使用场景**：主要用于为已有的 JavaScript 代码提供类型信息，尤其是在处理第三方 JavaScript 库时。当你引入一个 JavaScript 库，又想在 TypeScript 项目中使用它，就可以通过 `declare interface` 为该库中的对象或函数定义类型。
- **示例代码**：

```typescript
// 假设这是一个类型声明文件（.d.ts）
declare interface jQuery {
    (selector: string): jQuery;
    css(property: string, value: string): jQuery;
}

// 假设全局有一个 jQuery 对象
declare const $: jQuery;

// 在 TypeScript 文件中使用
$(document).ready(() => {
    $('body').css('background-color', 'red');
});
```

- **特点**：`declare interface` 只用于声明类型，不会生成任何 JavaScript 代码，它只是在编译阶段为 TypeScript 提供类型信息，帮助进行类型检查和代码提示。

### 3. 主要区别总结

- **使用位置**：
  - `interface` 主要用于 `.ts` 文件中，用于本地代码的类型定义和类型约束。
  - `declare interface` 主要用于 `.d.ts` 类型声明文件中，为已有的 JavaScript 代码提供类型信息。
- **编译影响**：
  - `interface` 会参与到类型系统的编译过程中，对使用该接口的代码进行类型检查。
  - `declare interface` 只在编译阶段提供类型信息，不会生成任何 JavaScript 代码。

综上所述，`interface` 侧重于本地代码的类型定义，而 `declare interface` 侧重于为外部 JavaScript 代码提供类型声明。
