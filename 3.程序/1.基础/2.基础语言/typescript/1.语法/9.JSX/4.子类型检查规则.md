# 子类型检查规则

像HTML结构中，一个节点中有子节点，所以编译器需要对子节点进行检查。

从TypeScript 2.3开始，我们引入了children类型检查。

## 定义

使用`JSX.ElementChildrenAttribute`来决定children名
>`JSX.ElementChildrenAttribute`应该被声明在单一的属性(property)里。

```typescript
declare namespace JSX {
    interface ElementChildrenAttribute {
    children: {};  // 指明 children 是子节点名字
    }
}
```

## 未指定子节点名字情况

如不特殊指定子孙的类型，我们将使用`React typings`里的默认类型。

```typescript
<div>
    <h1>Hello</h1>
</div>;

<div>
    <h1>Hello</h1>
    World
</div>;

const CustomComp = (props) => <div>props.children</div>
<CustomComp>
    <div>Hello World</div>
    {"This is just a JS expression..." + 1000}
</CustomComp>
```

```typescript
interface PropsType {
    children: JSX.Element
    name: string
}

class Component extends React.Component<PropsType, {}> {
    render() {
        return (
            <h2>
            {this.props.children}
            </h2>
        )
    }
}

// OK
<Component>
    <h1>Hello World</h1>
</Component>

// Error: children is of type JSX.Element not array of JSX.Element
<Component>
    <h1>Hello World</h1>
    <h2>Hello World</h2>
</Component>

// Error: children is of type JSX.Element not array of JSX.Element or string.
<Component>
    <h1>Hello</h1>
    World
</Component>
```