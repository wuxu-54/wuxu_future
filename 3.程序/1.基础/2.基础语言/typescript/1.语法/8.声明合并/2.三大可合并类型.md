# 三大可合并的类型

1. 合并`接口`
2. 合并`命名空间`
3. 合并`命名空间` 与 `类、函数、枚举`类型

>目前，类不能与其它类或变量合并

## 合并`接口`

```typescript
interface Box {
    height: number;
    width: number;
}

interface Box {
    scale: number;
}

let box: Box = {height: 5, width: 6, scale: 10};//这里相当于两个Box结构合并。注意 同名属性合并会报错，因为同一结构中本来就不允许重名
```

## 合并`命名空间`

命名空间合并的是导出的成员，非导出成员不会被合并

合并前

```typescript
namespace Animals {
    export class Zebra { }
}

namespace Animals {
    export interface Legged { numberOfLegs: number; }
    export class Dog { }
}
```

合并后

```typescript
namespace Animals {
    export interface Legged { numberOfLegs: number; }

    export class Zebra { }
    export class Dog { }
}
```

对非导出成员的合并处理

```typescript
namespace Animal {
    let haveMuscles = true;

    export function animalsHaveMuscles() {
        return haveMuscles;
    }
}

namespace Animal {
    export function doAnimalsHaveMuscles() {
        return haveMuscles;  // 报错，因为非导出成员不会被合并，也就是合并后不存在此成员，所以访问会报错。
    }
}
```

## 合并`命名空间` 与 `类、函数、枚举`类型

这类合并，其实跟`命名空间`之间的合并处理一样。只是这里单独再说一下

### 合并`命名空间` 与 `类`

合并前

```typescript
class Album {
    label: Album.AlbumLabel;
}
namespace Album {
    export class AlbumLabel { }//这就相当于类的成员，也就是内部类了
}
```

合并后相当于：

```typescript
class Album {
    label: Album.AlbumLabel;
    class AlbumLabel { }//相当于是内部类
}
```

### 合并`命名空间` 与 `函数`

```typescript
function buildLabel(name: string): string {
    return buildLabel.prefix + name + buildLabel.suffix;
}

namespace buildLabel {
    export let suffix = "";//这就相当于同名函数的成员属性了，函数体可以直接访问
    export let prefix = "Hello, ";
}

console.log(buildLabel("Sam Smith"));
```

### 合并`命名空间` 与 `枚举`

跟合并类一样，看例子，不多说了

```typescript
enum Color {
    red = 1,
    green = 2,
    blue = 4
}

namespace Color {
    export function mixColor(colorName: string) {
        if (colorName == "yellow") {
            return Color.red + Color.green;
        }
        else if (colorName == "white") {
            return Color.red + Color.green + Color.blue;
        }
        else if (colorName == "magenta") {
            return Color.red + Color.blue;
        }
        else if (colorName == "cyan") {
            return Color.green + Color.blue;
        }
    }
}
```
