
# 字典

Swift中的字典（`Dictionary` 类型）是一种集合，用于存储键值对（key-value pairs）。每个键（key）映射到一个特定的值（value），键在字典中必须是唯一的。
>跟java的Map一样，Swift 字典的key没有类型限制可以是整型或字符串，但必须是唯一的，且不能为`nil`。如果value设定是非可选类型，那么返回值不能出现空。

1. **创建字典**：
   - 使用字典字面量或构造器来创建字典。

   ```swift
   let points = ["Alice": 53, "Bob": 60]
   var scores = [String: Int]()
   ```

2. **访问字典元素**：
   - 使用下标语法通过键来访问或修改字典中的值。

   ```swift
   let alicePoints = points["Alice"]
   scores["Charlie"] = 70
   ```

3. **获取所有键和值**：
   - 使用`keys`和`values`属性来获取字典中的所有键和值。

   ```swift
   let allKeys = points.keys
   let allValues = points.values
   ```

4. **检查字典是否为空**：
   - 使用`isEmpty`属性来检查字典是否为空。

   ```swift
   print(scores.isEmpty)
   ```

5. **获取字典中的元素数量**：
   - 使用`count`属性来获取字典中的元素数量。

   ```swift
   print(points.count)
   ```

6. **遍历字典**：
   - 使用`for-in`循环来遍历字典中的所有键值对。

   ```swift
   for (name, points) in points {
       print("\(name) has \(points) points")
   }
   ```

7. **添加或更新元素**：
   - 使用下标语法添加新元素或更新已存在元素的值。

   ```swift
   scores["Alice"] = 50  // 如果"Alice"已存在，则更新其值
   ```

8. **删除元素**：
   - 使用`removeValue(forKey:)`方法来删除指定键的元素。

   ```swift
   let removedPoints = scores.removeValue(forKey: "Charlie")
   ```

9. **查找元素**：
   - 使用`first(where:)`方法来查找字典中满足条件的第一个元素。

   ```swift
   if let (name, points) = points.first(where: { $1 > 50 }) {
       print("\(name) has more than 50 points")
   }
   ```

10. **过滤元素**：
    - 使用`filter(_:)`方法来过滤字典中的元素。

    ```swift
    let filteredScores = scores.filter { $1 >= 60 }
    ```

11. **映射元素**：
    - 使用`map(_:)`方法来映射字典中的每个键值对到新的字典或数组。

    ```swift
    let pointsDescriptions = points.map { "\($0): \($1)" }
    ```

12. **合并字典**：
    - 使用`merge(_:)`方法来合并两个字典。

    ```swift
    let newPoints = ["Dave": 75]
    points.merge(newPoints) { (current, _) in current }
    ```

13. **检查键是否存在**：
    - 使用`contains(_:)`方法来检查字典中是否存在某个键。

    ```swift
    if points.contains(where: { $0.key == "Alice" }) {
        print("Alice is in the dictionary")
    }
    ```

14. **扩展性**：
    - 可以扩展`Dictionary`类型来添加自定义方法或计算属性。

以下是一些示例代码，演示如何使用这些API：

```swift
var userScores = ["Alice": 100, "Bob": 90]

// 添加或更新元素
userScores["Alice"] = 120  // 更新Alice的分数
userScores["Charlie"] = 85  // 添加Charlie的分数

// 访问元素
if let aliceScore = userScores["Alice"] {
    print("Alice's score is \(aliceScore)")
}

// 删除元素
userScores.removeValue(forKey: "Bob")

// 检查字典是否为空
print("Is the dictionary empty? \(userScores.isEmpty)")

// 获取所有键
let allKeys = userScores.keys

// 遍历字典
for (name, score) in userScores {
    print("\(name) has a score of \(score)")
}

// 过滤字典
let passingScores = userScores.filter { $1 >= 75 }
print(passingScores)
```

Swift的字典类型提供了丰富的API来处理键值对数据，无论是添加、删除、查找、排序还是转换元素，都能以声明性和类型安全的方式进行。
