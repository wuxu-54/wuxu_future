# 基本类型

Swift 语言提供了多种类型，用于定义变量、常量和函数的返回类型。以下是 Swift 中的主要类型分类和示例：

1. **基本数据类型**：
   - `Int`：整数类型，用于存储整数。Int，Int32，Int64
      >在32位平台上，Int和Int32长度相同。在64位平台上，Int和Int64长度相同。
   - `UInt`:无符号整型（尽量不用，避免出现与Int类型转换兼容问题）。UInt，UInt32，UInt64
   - `Float`：单精度浮点数类型。
   - `Double`：双精度浮点数类型。
   - `Bool`：布尔类型，值为 `true` 或 `false`。
   - `Character`：字符类型，表示单个字符。
   - `String`：字符串类型，表示文本数据。

2. **复合类型**：
   - 数组（`Array`）：存储相同类型的多个值的有序集合。
   - 元组（`Tuple`）：可以存储不同类型的值的有序组合。
   - 字典（`Dictionary`）：存储键值对的无序集合，键和值可以是不同的类型。

3. **可选类型（Optional）**：
   - `Optional<T>`：表示可以存储类型 `T` 的值，或者 `nil`（表示没有值）
   - 定义使用`?`,如：String?
   - 可选类型默认值（类似kotlin`?:`、dart的`??`）用法：`??`,如：`a??33`
   - 强制使用，可以使用关键字`!`表示
      - 声明时直接用感叹号替换问号：`var a:String!`，等同于kotlin的`lateinit var`，表示一定不为空。
      - 在使用时`a!.api()`

4. **枚举类型（Enumeration）**：
   - `enum`：定义一个枚举类型，可以包含不同的数据类型和关联值。

5. **结构体（Structure）**：
   - `struct`：定义一个结构体，用于创建自定义数据类型。

6. **类（Class）类型**：
   - `class`：定义一个类，用于创建对象和实现面向对象编程。

7. **函数类型**：
   - 函数可以被视为类型，例如 `(Int, Int) -> Int` 表示接受两个 `Int` 类型的参数并返回一个 `Int` 类型的值。

8. **闭包类型**：
   - 闭包是自包含的函数代码块，可以被赋值和传递。
n
9. **协议（Protocol）**：
   - `protocol`：定义一个协议，可以被类、结构体或枚举遵守。

10. **泛型（Generics）**：
    - 使用泛型可以创建类型安全和灵活的代码，允许函数、结构体、类或枚举使用类型参数。

11. **错误处理**：
    - 使用 `Error` 协议和 `throw`、`try`、`catch` 关键字来处理错误。

12. **访问控制**：
    - `public`、`internal`、`private` 和 `fileprivate` 关键字用于控制代码的访问级别。

13. **类型别名（Type Alias）**：
    - `typealias`：为现有类型创建别名。

Swift 的类型系统非常灵活，支持**类型推断**，这意味着编译器可以根据上下文自动推断变量或常量的类型，从而减少代码的冗余。同时，Swift 的类型系统也支持高级特性，如泛型和协议，使得代码更加模块化和可重用。

```swift
let a =123 // 推断类型为 Int
```

---

## nil（空）

作用等同于java的null，js中的null+undefined

- nil只能分配给类类型的属性、变量、常量或函数返回值。结构体、枚举和基本数据类型（如Int、String、Bool等）不能为nil，除非它们是可选类型。
- 类的实例在没有明确赋值的情况下默认为nil。这意味着如果你声明一个类的变量而不初始化它，它的值将是nil。

---

## 引用类型有哪些

在Swift中，以下类型被视为引用类型：

1. **类（Class）**：
   - 类实例总是引用类型。当类实例被赋值给一个新的变量或常量时，它们之间共享同一个对象的引用。

   ```swift
   class MyClass {
       var property = "Value"
   }
   let instance1 = MyClass()
   let instance2 = instance1 // instance2 和 instance1 引用同一个对象
   ```

2. **闭包（Closure）**：
   - 闭包也是引用类型。当闭包赋值给另一个变量时，两个变量都引用同一个闭包实例。

   ```swift
   let closure = { print("Hello") }
   let anotherClosure = closure // anotherClosure 引用同一个闭包
   ```

3. **函数类型**：
   - 函数类型本身是引用类型，尽管函数字面量是值类型。

4. **协议（Protocol）**：
   - 当协议作为类型使用时，只有类类型的实现可以是引用类型。

5. **可选类型（Optional）**：
   - 可选类型是引用类型，即使它们包含的是值类型的值。

   ```swift
   var optionalString: String? = "Hello" // String 是值类型，但 optionalString 是引用类型
   ```

6. **数组（Array）**：
   - 数组是引用类型，因为它们可以包含引用类型的元素。

7. **字典（Dictionary）**：
   - 字典也是引用类型，因为它们存储键值对，键和值都可以是引用类型。

8. **集合（Set）**：
   - 集合是引用类型，尽管它们通常包含值类型的元素。

9. **枚举（Enumeration）**：
   - 如果枚举没有关联值，它通常表现为值类型。但如果枚举的某个案例包含类类型的关联值，那么这个枚举案例表现为引用类型。

   ```swift
   enum Payload {
       case data(MyClass) // MyClass 是引用类型，因此 data 案例表现为引用类型
       case id(String)   // String 是值类型，因此 id 案例表现为值类型
   }
   ```

10. **结构体（Structure）** 和 **枚举（Enum）**：
    - 通常被视为值类型，但它们可以包含引用类型的属性或关联值，这可能会影响它们的复制行为。

请注意，Swift中的`Equatable`协议和恒等性运算符（`===` 和 `!==`）对引用类型和值类型的实例有不同的行为。对于引用类型，恒等性运算符检查两个变量是否引用同一个对象；对于值类型，等价运算符（`==`）检查两个实例的值是否相等。
