# 条件语句

在Swift中，条件语句用于基于特定条件执行不同的代码分支。Swift提供了两种主要的条件语句：`if` 语句和 `switch` 语句。

---

## if 语句

`if` 语句是最基本的条件语句，它允许你根据条件是否为真来执行一段代码。`if` 语句可以单独使用，也可以与 `else` 或 `else if` 结合使用。

### if 语句基本用法

>对比c、java等没有小括号

```swift
let score = 75
if score > 90 {
    print("A")
} else if score > 80 {
    print("B")
} else if score > 70 {
    print("C")
} else {
    print("D or F")
}
```

### 带有条件范围的用法

```swift
if 0...10 ~= score {
    // 条件满足，执行代码
}
```

### 带有可选绑定的用法

```swift
let optionalNumber: Int? = 10
if let actualNumber = optionalNumber {
    print("The number is \(actualNumber)")
} else {
    print("No number available")
}
```

---

## switch 语句

`switch` 语句是一种更灵活的条件语句，它可以匹配多个条件，并允许模式匹配和范围匹配。

### switch 语句基本用法

```swift
let grade = 85
switch grade {
case 90...100:
    print("A")
case 80...89:
    print("B")
case 70...79:
    print("C")
default:
    print("D or F")
}
```

### 匹配特定值

```swift
let fruit = "Apple"
switch fruit {
case "Apple", "Orange":
    print("Common fruit")
case "Banana":
    print("Long fruit")
default:
    print("Not common")
}
```

### 使用元组和多个条件

```swift
let point = (x: 1, y: 2)
switch point {
case (let x, let y) where x == y:
    print("x and y are equal")
case (_, 0), (0, _):
    print("One of the coordinates is zero")
default:
    print("Normal point")
}
```

### 使用`where`子句

提供额外的判定条件

```swift
let number = 2
switch number {
case let n where n > 0:
    print("Positive number")
case let n where n < 0:
    print("Negative number")
default:
    print("Zero")
}
```

---

## guard 语句

`guard` 语句是另一种条件语句，通常用于提前退出作用域。它与 `if` 语句类似，但更适合用于检查条件不满足时的情况。
>个人理解，是一种语义化的处理，可直观明确不合条件会结束作用域，本质与if没有区别。

### guard 语句基本用法

```swift
func doSomething(with value: Int) {
    guard value > 0 else {
        print("Value must be positive")
        return
    }
    // 继续执行其他代码
}
```

`guard` 语句通常用于函数或方法的开始，以确保在继续执行之前满足某个条件。如果不满足条件，可以使用 `else` 块来执行一些清理工作，然后使用 `return`、`break` 或 `continue` 退出当前的作用域。

这些条件语句是Swift编程中控制流的基本构建块，允许你根据不同的条件执行不同的代码路径。

---

## where

在 Swift 语言中，`where` 关键字有几个不同的用途，主要用在泛型约束、条件语句和过滤集合中。以下是一些 `where` 的常见用法：

1. **泛型约束**：
   当你定义一个泛型函数或者类型时，你可能需要对泛型的类型参数进行特定的约束。这时可以使用 `where` 关键字来指定这些约束。

   ```swift
   func printAllPairs<T: Equatable>(_ array: [T]) {
       for i in 0..<array.count {
           for j in i + 1..<array.count {
               print("(\(array[i]), \(array[j]))")
           }
       }
   }
   ```

   在这个例子中，`T` 被约束为遵循 `Equatable` 协议的类型。

2. **条件语句**：
   在 `if`、`for`、`while` 等条件语句中，`where` 可用于提供额外的条件。

   ```swift
   let numbers = [1, 2, 3, 4, 5]
   for number in numbers where number > 3 {
       print(number)
   }
   ```

   这里 `where` 用来过滤出数组中大于3的数字。

3. **过滤集合**：
   在集合操作中，`where` 用于对集合中的元素进行过滤。

   ```swift
   let filteredNumbers = numbers.filter { $0 % 2 == 0 }
   ```

   在这个例子中，`filter` 方法使用 `where` 子句来过滤出数组中的偶数。

4. **可选链中的条件解包**：
   当你需要在可选值存在时执行某些操作，但在此之前要验证它的值是否满足特定条件时，可以使用 `where`。

   ```swift
   let optionalNumber: Int? = 10
   optionalNumber.map { number in
       where number > 5, return number * 2
   }
   ```

   这个例子中，`map` 在可选值存在时使用 `where` 来检查 `number` 是否大于5，如果是，则返回它的两倍。

5. **闭包中的条件**：
   当使用闭包时，你可以在参数列表的后面使用 `where` 来添加额外的约束。

   ```swift
   func performAction<T>(with item: T, using action: (T) -> Void) where T: Equatable {
       action(item)
   }
   ```

   在这个函数中，`T` 必须是 `Equatable` 类型的约束是通过 `where` 指定的。

`where` 在 Swift 中是一种表达条件或者约束的灵活方式，可以在多种场合使用以增强代码的表达能力和安全性。
