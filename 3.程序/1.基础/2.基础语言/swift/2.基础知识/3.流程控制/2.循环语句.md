# 循环

Swift提供了几种循环控制结构，允许你根据需要重复执行一段代码。以下是Swift中主要的循环控制语句：

1. **for-in 循环**：
   - 用于遍历序列（如数组、字符串、范围等）中的元素。

   ```swift
   for number in 1...5 {
       print(number)
   }
   ```

    >另外还有一种循环方式在 Swift 3 中已经弃用，了解即可。普通for，如：`for var index = 0; index < 3; ++index{}`

2. **while 循环**：
   - 当条件为真时，重复执行代码块。需要手动更新循环变量，否则可能导致无限循环。

   ```swift
   var index = 1
   while index <= 5 {
       print(index)
       index += 1
   }
   ```

3. **repeat-while 循环**（也称为 do-while 循环）：
   - 至少执行一次循环体，然后在条件为真时重复执行。与 `while` 循环不同，`repeat-while` 循环的条件检查在循环体执行之后。

   ```swift
   var index = 1
   repeat {
       print(index)
       index += 1
   } while index <= 5
   ```

4. **break 语句**：
   - 用于立即退出最近的循环或 `switch` 语句。

   ```swift
   for number in 1...10 {
       if number == 6 {
           break
       }
       print(number)
   }
   ```

5. **continue 语句**：
   - 用于跳过当前循环的剩余部分，并立即开始下一次迭代。

   ```swift
   for number in 1...10 {
       if number % 2 == 0 {
           continue
       }
       print(number)
   }
   ```

6. **return 语句**：
   - 在函数内部使用 `return` 可以退出函数并返回一个值。在循环中使用 `return` 也会退出循环，并且退出函数。

   ```swift
   func findFirstEven(numbers: [Int]) -> Int? {
       for number in numbers {
           if number % 2 == 0 {
               return number
           }
       }
       return nil
   }
   ```

7. **标签语句**：
   - 用于标识循环，可以与 `break` 和 `continue` 一起使用，以退出或继续特定的循环。

   ```swift
   outerLoop: for i in 0..<3 {
       for j in 0..<3 {
           if i == j {
               continue outerLoop
           }
           print("\(i), \(j)")
       }
   }
   ```

使用这些循环控制语句，你可以灵活地控制循环的执行流程，包括提前退出循环、跳过当前迭代或从循环中返回值。这些控制结构是编写高效、可读性强的循环代码的关键。

---

## for-in 带有下标

在Swift中，当你使用`for-in`循环遍历数组或其他集合时，通常只能访问到元素的值。但如果你想要同时获取元素的索引（index）和值（value），可以使用以下几种方法：

### 使用`enumerated()`方法

`enumerated()`方法会返回一个包含索引和值的元组序列，你可以在`for-in`循环中遍历这些元组。

```swift
let array = ["apple", "banana", "cherry"]

for (index, value) in array.enumerated() {
    print("Index: \(index), Value: \(value)")
}
```

这段代码会输出每个元素的索引和值。

### 使用下标访问

如果你不想使用`enumerated()`方法，也可以在循环中手动计算索引。

```swift
let array = ["apple", "banana", "cherry"]

for i in 0..<array.count {
    let value = array[i]
    print("Index: \(i), Value: \(value)")
}
```

这种方法虽然可以达到目的，但不如使用`enumerated()`方法简洁。

### 使用`indices`属性

数组的`indices`属性返回一个包含所有索引的范围，你可以结合这个范围和数组本身来获取索引和值。

```swift
let array = ["apple", "banana", "cherry"]

for index in array.indices {
    let value = array[index]
    print("Index: \(index), Value: \(value)")
}
```

这种方法同样可以达到获取索引和值的目的。

### 使用`zip`函数

如果你想要同时遍历两个或多个集合，并获取它们的索引和值，可以使用`zip`函数。

```swift
let array = ["apple", "banana", "cherry"]
let numbers = [1, 2, 3]

for (index, (value, number)) in zip(array.indices, zip(array, numbers)).enumerated() {
    print("Index: \(index), Value: \(value), Number: \(number)")
}
```

这段代码会同时遍历数组和数字序列，打印出每个元素的索引和对应的值。

在Swift中，`enumerated()`方法是最常用且最简洁的方式来在`for-in`循环中同时获取元素的索引和值。
