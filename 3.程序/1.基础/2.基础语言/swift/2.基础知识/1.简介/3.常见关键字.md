# 常见关键字

- `class`：定义一个类。
- `deinit`：析构器，用于类实例销毁时执行清理工作。
- `enum`：定义一个枚举类型。
- `extension`：扩展现有类、结构体、枚举或协议的功能。
- `func`：定义一个函数。
- `import`：导入模块。
- `init`：构造器，用于创建类的实例。
- `inout`：定义函数参数时，表示参数可以被修改并且修改结果会传回给调用者。
- `internal`：默认访问级别，只能在定义它的模块内部访问。
- `let`：声明一个常量。（注意，常量的声明使用的关键字与其他语言有差异，比如JS 变量是let，常量是const）
- `operator`：定义一个操作符。
- `private`：访问级别，只能在定义它的文件内部访问。
- `protocol`：定义一个协议。
- `public`：访问级别，可以被任何模块访问。
- `static`：表示类属性或方法，与类的实例无关。(静态类、静态变量、静态方法)
- `struct`：定义一个结构体。
- `subscript`：定义一个下标，允许使用下标语法访问值。
- `typealias`：为现有类型创建别名。
- `var`：声明一个变量。
- `break`：跳出最近的循环或switch语句。
- `case`：用于switch语句中匹配值。
- `continue`：跳过当前循环的剩余部分，开始下一次迭代。
- `default`：在switch语句中作为默认情况。
- `defer`：在离开作用域时执行代码块。
- `do`：通常与catch一起使用，定义一个错误处理的代码块。
- `else`：与if或switch一起使用，定义条件不满足时的代码块。
- `fallthrough`：在switch语句中，表示继续执行下一个case。
- `for`：用于遍历数组、集合等。
- `guard`：用于提前退出作用域，如果条件不满足。
- `if`：条件语句。
- `in`：用于for循环和范围运算符。
- `repeat`：与while一起使用，创建一个循环。
- `return`：从函数返回一个值。
- `switch`：多条件分支语句。
- `throw`：抛出一个错误。
- `try`：尝试执行可能抛出错误的表达式或函数。
- `where`：在定义泛型时，指定约束条件。
- `while`：循环语句。
- `self`： 指代当前类或结构体的实例。
- `some`：协议的类型擦除
    some关键字可以用于创建一个遵循特定协议但隐藏具体类型的类型。这通常用于协议的类型擦除：

    ```swift
    class SomeClass: SomeProtocol {
        // Some implementation
    }

    let instance: some SomeProtocol = SomeClass()
    ```

    在这个例子中，instance的类型被擦除为some SomeProtocol，这意味着它只能被当作遵循SomeProtocol的类型来使用，而不能访问SomeClass的具体实现。
- `mutating`：mutating 关键字用于类的实例方法或结构体的成员方法中，它允许方法修改其所属实例的属性。
  注意：
  - 不可变方法不能修改属性：如果你尝试在没有标记为 mutating 的结构体或枚举的方法中修改属性，Swift 编译器将会报错。
  - mutating 只用于实例方法：你不能在静态方法或类的方法中使用 mutating 关键字。
  - mutating 不能用于计算属性的 setter：你只能在方法中使用 mutating，而不能在计算属性的 setter 中使用。

---

## 关键字`in`作用

在Swift中，关键字`in`在函数中通常与`for-in`循环和闭包（closure）的使用有关。以下是`in`在函数中一些常见的作用：

### 1. `for-in` 循环

`in`用于`for-in`循环，来指定循环的迭代范围。

```swift
for number in 1...5 {
    print(number)
}
```

在这个例子中，`in`关键字用于表示`number`变量将在`1...5`这个范围内迭代。

### 2. 闭包参数的值传递

在闭包作为函数参数时，`in`用于指示闭包参数的值是如何传递的。

```swift
array.forEach { value in
    // 使用 value
}
```

这里，`in`表示闭包内部的代码块将对数组`array`中的每个`value`执行。

### 3. 闭包的捕获列表

在逃逸闭包（escaping closure）的情况下，`in`用于定义闭包捕获的外部上下文中的变量。

```swift
someFunctionWithEscapingClosure { [weak self] in
    // 使用 'self'，但避免了强引用循环
}
```

在这个例子中，`[weak self] in`是一个捕获列表，它告诉编译器`self`应该以弱引用的方式被捕获，从而避免强引用循环。

### 4. `switch` 语句中的模式匹配

虽然不是直接在函数内部使用，`switch`语句中的`in`用于模式匹配，检查某个值是否存在于某个范围内。

```swift
let age = 25
switch age {
case 18...30:
    print("Young adult")
default:
    print("Not a young adult")
}
```

在这个例子中，`in`用于判断`age`是否在`18...30`的范围内。

### 5. 函数定义中的 `inout` 参数

`in`也出现在`inout`参数的函数定义中，表示该参数是传入函数的可变引用。

```swift
func modifyValue(inout value: Int) {
    value += 1
}

var myValue = 10
modifyValue(&myValue) // myValue 现在是 11
```

在这里，`inout`参数`value`允许函数内部修改`myValue`的值。

### 6. 泛型约束中的 `in`

在泛型中使用`in`来指定类型参数必须遵循的协议或类。

```swift
func printElements<T: Sequence>(of collection: T) {
    for element in collection {
        print(element)
    }
}
```

在这个例子中，`T`是一个泛型参数，`in Sequence`是一个约束，表示`T`必须是遵循`Sequence`协议的类型。

`in`在Swift中的用法多样，通常与迭代、闭包的使用以及类型约束有关，它帮助明确代码中值的传递和作用域。

### 补充

示例：

```swift
  AsyncImage(url: URL(string: imgUrl)!){
            phase in
                switch phase {
                case .empty:
                    ProgressView()
                case .success(let image):
                    image.resizable().aspectRatio(contentMode: .fill).frame(width: 50,height: 50)
                case .failure(let error):
                        Image(systemName: "photo")
                }
   }
```

这里重点说明，`phase in` 这里的in什么意思，我理解这里等同于 kotlin中的 `phase ->` , 即匿名函数中指定参数的名称。
