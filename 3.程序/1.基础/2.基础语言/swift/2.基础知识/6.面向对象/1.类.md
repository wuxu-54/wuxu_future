# 类

在Swift中，类（Class）是一种引用类型，用于创建具有特定属性和行为的对象(面向对象设计思想)。类可以被继承，允许你定义一个具有特定功能的通用类，然后通过继承来扩展或修改这些功能。以下是Swift中类的一些主要特性和用法：

1. **定义类**：
   使用`class`关键字来定义类。

   ```swift
   class Vehicle {
       var numberOfWheels: Int
       
       init(numberOfWheels: Int) {
           self.numberOfWheels = numberOfWheels
       }
       
       func drive() {
           print("The vehicle drives with \(numberOfWheels) wheels.")
       }
   }
   ```

2. **属性**：
   类可以拥有存储属性，用于存储数据。

3. **构造器**：
   类可以定义一个或多个构造器来初始化其属性。
   - **指定初始化器**：用来初始化存储属性。
   - **便利初始化器**：提供额外的构造功能，但必须调用一个指定初始化器。

4. **析构器**：
   类可以定义析构器（`deinit`），在类的实例被销毁时执行清理工作。

   ```swift
   deinit {
       print("The vehicle is being deinitialized.")
   }
   ```

5. **继承**：
   类可以继承自另一个类，获得父类的所有属性和方法，并可以添加或重写它们。

   ```swift
   class Car: Vehicle {
       var make: String
       
       init(make: String, numberOfWheels: Int) {
           self.make = make
           super.init(numberOfWheels: numberOfWheels)
       }
   }
   ```

6. **方法**：
   类可以定义实例方法，这些方法可以访问和修改类的属性。

7. **计算属性**：
   类可以定义计算属性，这些属性不直接存储值，而是根据其他属性计算得出。

8. **属性观察器**：
   类属性可以拥有`willSet`和`didSet`观察器，用于在属性值变更时执行代码。

9. **静态属性和方法**：
   类可以定义静态属性和方法，这些属性和方法属于类本身，而不是类的实例。

   ```swift
   class Counter {
       static var count = 0
       class func increment() {
           Counter.count += 1
       }
   }
   ```

10. **类方法和属性**（使用`class`关键字）：
    类方法和属性可以在类的所有子类中被重写。

11. **下标脚本**：
    类可以实现下标脚本，允许使用下标语法访问元素。

12. **遵循协议**：
    类可以遵循协议，并实现协议中定义的方法和属性。

13. **类型转换**：
    类支持向下类型转换和类型检查，可以使用`as`、`as?`、`is`、`is?`操作符。

14. **内存管理**：
    由于类是引用类型，它们需要考虑内存管理，尤其是在循环引用的情况下，可能需要使用弱引用（`weak`）或无主引用（`unowned`）。

15. **访问控制**：
    类支持访问控制，可以设置属性和方法的访问级别（`private`、`fileprivate`、`internal`、`public`、`open`）。

以下是使用类的示例代码：

```swift
class Vehicle {
    var numberOfWheels: Int
    
    init(numberOfWheels: Int) {
        self.numberOfWheels = numberOfWheels
    }
    
    func drive() {
        print("The vehicle drives with \(numberOfWheels) wheels.")
    }
}

class Car: Vehicle {
    var make: String
    
    override init(numberOfWheels: Int) {
        super.init(numberOfWheels: numberOfWheels)
    }
    
    func displayMake() {
        print("The car is made by \(make).")
    }
}

let car = Car(numberOfWheels: 4)
car.drive() // 使用继承的drive方法
```

类是面向对象编程的基础构建块之一，它们允许代码复用和扩展，是构建大型应用程序的有用工具。在Swift中，类的设计旨在与结构体和枚举等其他数据类型协同工作，以提供灵活性和功能性。
