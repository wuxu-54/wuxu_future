# 类相关方法

- 类方法（静态方法）
- 实例方法

## 类方法（静态方法）

在Swift中，类方法是属于类本身的函数，而不是类的任何特定实例。类方法可以用静态数据和功能来操作类，而不需要创建类的实例。以下是类方法的一些关键特性：

1. **声明类方法**：
   使用`class`关键字来声明类方法。这意味着方法可以在没有创建类实例的情况下调用，并且它不能访问任何实例属性或方法。

   ```swift
   class MyClass {
       class func classMethod() {
           print("This is a class method.")
       }
   }
   ```

2. **调用类方法**：
   类方法通过类名直接调用，而不是通过类的实例。

   ```swift
   MyClass.classMethod() // "This is a class method."
   ```

3. **类方法和实例方法的区别**：
   - 类方法使用`class`关键字声明，而实例方法使用`func`关键字。
   - 类方法可以访问类属性和类方法，但不能访问实例属性或实例方法。
   - 实例方法可以访问所有类属性、类方法以及实例属性和方法。

4. **类方法中定义的属性**：
   类方法中可以定义局部变量，但它们不能直接访问类的存储属性，除非这些属性被声明为`static`或`class`。

5. **类方法和继承**：
   - 类方法可以被子类重写。如果子类提供了类方法的实现，它会覆盖父类中的方法。
   - 使用`class`关键字声明的类方法可以在子类中被重写，并且可以调用`super`来访问父类的方法。

6. **静态属性和类方法**：
   类可以拥有静态属性，这些属性也使用`static`关键字声明，并且可以通过类名直接访问。

   ```swift
   class MyClass {
       static var staticProperty = 10
       class func modifyStaticProperty() {
           staticProperty += 1
       }
   }
   
   MyClass.modifyStaticProperty() // 修改静态属性
   print(MyClass.staticProperty) // 输出 11
   ```

7. **使用场景**：
   类方法通常用于以下场景：
   - 创建和管理共享资源。
   - 提供与类相关但与实例无关的功能。
   - 实现工厂模式，返回类的实例。

8. **类型方法**：
   在Swift中，还可以使用`typealias`为类方法创建更易读的名字。

   ```swift
   class AnotherClass {
       class func createInstance() -> AnotherClass {
           return AnotherClass()
       }
   }
   
   let instance = AnotherClass.createInstance()
   ```

---

## 实例方法

在Swift中，实例方法（Instance Methods）是属于类的特定实例的方法。每个实例方法都可以访问并操作其所属实例的属性和其它实例方法。以下是实例方法的一些关键特性：

1. **声明实例方法**：
   使用`func`关键字声明实例方法。这些方法只能通过类的实例来调用。

   ```swift
   class MyClass {
       var instanceProperty = "Instance Property"
   
       func instanceMethod() {
           print("Accessing instance property: \(instanceProperty)")
       }
   }
   ```

2. **调用实例方法**：
   通过创建类的实例，并在该实例上调用实例方法。

   ```swift
   let myInstance = MyClass()
   myInstance.instanceMethod() // "Accessing instance property: Instance Property"
   ```

3. **访问实例属性**：
   实例方法可以访问和修改其所属实例的属性。

   ```swift
   func modifyInstanceProperty() {
       instanceProperty.uppercased()
   }
   ```

4. **修改实例状态**：
   实例方法可以改变实例的状态，例如修改属性值或触发其他实例方法。

5. **继承和重写**：
   - 实例方法可以被子类继承。
   - 子类可以重写父类的实例方法，提供定制的行为。

6. **实例方法和类方法的区别**：
   - 实例方法使用`func`关键字声明，而类方法使用`class`关键字。
   - 实例方法可以访问实例属性和类方法，但类方法不能访问实例属性。

7. **使用`self`关键字**：
   在实例方法中，使用`self`关键字来引用当前实例的属性和方法。

   ```swift
   func printProperty() {
       print(self.instanceProperty)
   }
   ```

8. **闭包和实例方法**：
   实例方法可以作为闭包传递给其他方法，特别是那些接受回调的API。

9. **实例方法的内存管理**：
   在类中，实例方法需要注意循环引用的问题，特别是在使用闭包时。

10. **实例方法的参数**：
    实例方法可以有参数，并且可以有默认值。

   ```swift
   func greet(_ name: String = "World") {
       print("Hello, \(name)!")
   }
   ```

11. **实例方法和协议**：
    如果一个协议要求实现一个方法，任何遵循该协议的类都必须实现该方法。

      以下是使用实例方法的示例代码：

      ```swift
      class Person {
         var name: String
         var age: Int

         init(name: String, age: Int) {
            self.name = name
            self.age = age
         }

         func introduce() {
            print("Hello, my name is \(name) and I am \(age) years old.")
         }

         func celebrateBirthday() {
            age += 1
            print("Happy \(name)'s birthday! You are now \(age) years old.")
         }
      }

      let person = Person(name: "Alice", age: 30)
      person.introduce() // "Hello, my name is Alice and I am 30 years old."
      person.celebrateBirthday() // "Happy Alice's birthday! You are now 31 years old."
      ```

实例方法是面向对象编程中的一个基础概念，允许开发者定义可以在对象上执行的操作，从而实现对象的行为和交互。
