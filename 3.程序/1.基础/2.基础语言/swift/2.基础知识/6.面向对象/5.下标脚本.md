# 下标脚本

在Swift中，下标脚本（Subscripts）可以定义在类（Class）、结构体（structure）和枚举（enumeration）这些目标中，可以认为是访问对象、集合或序列的快捷方式，不需要再调用实例的特定的赋值和访问方法。

## 详解

1. **定义下标脚本**：
   使用`subscript`关键字定义下标脚本，可以指定一个或多个参数，并返回一个值。

   ```swift
   subscript(index: Int) -> Int {
       get {
           // 返回对应索引的元素
       }
       set(newValue) {
           // 设置对应索引的元素为newValue
       }
   }
   ```

2. **只读下标脚本**：
   如果只需要通过下标获取值，可以只定义`get`访问器。

   ```swift
   subscript(index: Int) -> Int {
       get {
           return someArray[index]
       }
   }
   ```

3. **参数类型**：
   下标脚本可以有不同类型的参数，不仅限于整数索引。

   ```swift
   subscript(day: Int, month: Int) -> String {
       return "Date(\(day), \(month))"
   }
   ```

4. **多维下标脚本**：
   下标脚本可以定义多个参数，用于多维数据结构。

5. **类型注解**：
   在定义下标脚本时，需要指定返回值的类型，如果使用`set`，则还需要指定新值的类型。

6. **下标脚本和继承**：
   如果子类重写了父类的下标脚本，它必须具有相同的参数和返回类型。

7. **自定义下标脚本**：
   可以为任何类型添加自定义下标脚本，包括结构体、类、枚举等。

## 示例

以下是使用下标脚本的一些示例：

### 示例1：简单的数组包装器

```swift
struct ArrayWrapper {
    private var elements = [Int]()
    
    subscript(index: Int) -> Int {
        get {
            return elements[index]
        }
        set {
            elements[index] = newValue
        }
    }
}

var wrapper = ArrayWrapper()
wrapper.elements.append(10)
print(wrapper[0])  // 输出 "10"
wrapper[0] = 20
print(wrapper.elements[0])  // 输出 "20"
```

### 示例2：二维数组的下标脚本

```swift
class TwoDimensionalArray {
    private var array = [[Int]]()
    
    subscript(row: Int, column: Int) -> Int {
        get {
            return array[row][column]
        }
        set {
            array[row][column] = newValue
        }
    }
    
    func append(row: [Int]) {
        array.append(row)
    }
}

var array2D = TwoDimensionalArray()
array2D.append(row: [1, 2, 3])
array2D.append(row: [4, 5, 6])
print(array2D[1, 2])  // 输出 "6"
array2D[1, 2] = 10
print(array2D.array[1][2])  // 输出 "10"
```

### 示例3：使用字符串作为下标

```swift
class SpanishToEnglishDictionary {
    private var dictionary = [String: String]()
    
    subscript(spanish: String) -> String? {
        get {
            return dictionary[spanish]
        }
        set {
            dictionary[spanish] = newValue
        }
    }
}

var spanishDictionary = SpanishToEnglishDictionary()
spanishDictionary["hola"] = "hello"
print(spanishDictionary["hola"]!)  // 输出 "hello"
```

下标脚本提供了一种方便的方式来访问和修改数据，使得代码更加简洁和易于阅读。通过定义自定义的下标脚本，可以为各种数据结构提供类似数组的访问方式。
