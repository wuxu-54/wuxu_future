# 文件读写

在Swift中进行文件操作，通常涉及到读取和写入文件。Swift标准库提供了一些基础的文件操作API，但是更高级的文件操作通常使用`Foundation`框架中的类。以下是一些基本的文件操作示例：

## 1. 获取文件路径

首先，你需要获取文件的路径。这可以通过`FileManager`类来实现：

```swift
import Foundation

let fileManager = FileManager.default
let documentDirectory = fileManager.urls(for: .documentDirectory, in: .userDomainMask).first!
```

## 2. 读取文件

使用`String`或`Data`类型的初始化方法来读取文件内容：

```swift
if let filePath = documentDirectory?.appendingPathComponent("example.txt") {
    do {
        let fileContent = try String(contentsOf: filePath, encoding: .utf8)
        print(fileContent)
    } catch {
        print("Error reading file: \(error)")
    }
}
```

## 3. 写入文件

使用`String`或`Data`的`write`方法来写入文件：

```swift
let contentToWrite = "Hello, world!"
if let filePath = documentDirectory?.appendingPathComponent("example.txt") {
    do {
        try contentToWrite.write(to: filePath, atomically: true, encoding: .utf8)
    } catch {
        print("Error writing to file: \(error)")
    }
}
```

## 4. 检查文件是否存在

使用`FileManager`来检查文件是否存在：

```swift
let fileExists = fileManager.fileExists(atPath: filePath.path)
print("File exists: \(fileExists)")
```

## 5. 删除文件

使用`FileManager`来删除文件：

```swift
if fileManager.fileExists(atPath: filePath.path) {
    do {
        try fileManager.removeItem(at: filePath)
    } catch {
        print("Error deleting file: \(error)")
    }
}
```

## 6. 遍历文件夹内容

使用`FileManager`来遍历文件夹中的所有项：

```swift
do {
    let items = try fileManager.contentsOfDirectory(at: documentDirectory, includingPropertiesForKeys: nil)
    for item in items {
        print(item.lastPathComponent)
    }
} catch {
    print("Error reading directory contents: \(error)")
}
```

## 7. 使用`URLSession`下载文件

如果你需要从网络下载文件，可以使用`URLSession`：

```swift
let downloadTask = URLSession.shared.downloadTask(with: URL(string: "https://example.com/file.txt")!) { (tempFileURL, response, error) in
    guard let tempFileURL = tempFileURL else { return }
    if let destinationURL = documentDirectory?.appendingPathComponent("downloadedFile.txt") {
        do {
            try fileManager.moveItem(at: tempFileURL, to: destinationURL)
        } catch {
            print("Error moving downloaded file: \(error)")
        }
    }
}
downloadTask.resume()
```

这些是Swift中进行文件操作的一些基本示例。根据你的具体需求，可能还需要处理更多的细节，例如错误处理、文件属性访问、文件锁定等。
