# 重写与重载

在 Kotlin 中，重写（Overriding）和重载（Overloading）是面向对象编程中两个重要的概念，它们允许你扩展和定制类的行为。

## 重写（Overriding）

重写是指子类提供一个与父类中具有相同名称和参数的方法的新实现。在 Kotlin 中，要重写一个方法，你需要使用 `override` 关键字。

### 重写规则和示例

1. **方法必须在父类中声明为 `open`**：默认情况下，Kotlin 中的类和成员都是 `final` 的，这意味着它们不能被继承类重写。要使方法可重写，你需要将其声明为 `open`。
2. **方法签名必须匹配**：重写的方法必须具有与父类中方法相同的名称和参数列表。
3. **访问级别**：重写的方法不能拥有比父类方法更严格的访问级别。

```kotlin
open class Animal {
    open fun makeSound() {
        println("Some sound")
    }
}

class Dog : Animal() {
    override fun makeSound() {
        println("Woof!")
    }
}

fun main() {
    val dog = Dog()
    dog.makeSound() // 输出：Woof!
}
```

在这个例子中，`Dog` 类重写了 `Animal` 类中的 `makeSound` 方法。

---

## 重载（Overloading）

重载是指在同一个类中声明多个具有相同名称但不同参数列表的方法。Kotlin 支持方法重载。

### 重载规则和示例

1. **参数列表必须不同**：重载的方法必须在参数的数量或类型上有所不同。
2. **返回类型不参与重载**：仅参数列表的不同就足以区分重载的方法。
3. **使用 `fun` 关键字**：在同一个类中定义多个同名函数。

```kotlin
class Calculator {
    fun add(a: Int, b: Int): Int {
        return a + b
    }

    fun add(a: Int, b: Double): Double {
        return a + b
    }

    fun add(a: Double, b: Int): Double {
        return a + b
    }
}

fun main() {
    val calculator = Calculator()
    println(calculator.add(1, 2)) // 输出：3
    println(calculator.add(1, 2.0)) // 输出：3.0
    println(calculator.add(1.0, 2)) // 输出：3.0
}
```

在这个例子中，`Calculator` 类有三个重载的 `add` 方法，它们根据参数的类型和数量进行区分。

---

## 注意事项

- **构造函数不能被重写**：在 Kotlin 中，你不能重写构造函数，但你可以定义多个构造函数，它们可以使用主构造函数和次构造函数。
- **属性可以被重写**：你可以重写属性，并且可以为它们提供自定义的 getter 和 setter。
- **重载与命名冲突**：避免在同一个类中定义多个重载方法，这些方法在不使用参数时看起来相同，这会导致编译错误。

通过合理使用重写和重载，你可以创建灵活且可扩展的代码，同时保持代码的清晰和可维护性。
