# 数组

## 数组类型

在 Kotlin 中，数组是一种用于存储多个相同类型元素的集合。Kotlin 提供了多种数组类型，每种类型都有其特定的用途和行为。以下是 Kotlin 中的主要数组类型：

### 1. 基本类型数组

这些数组用于存储基本数据类型的值，如整数、浮点数、字符等。
>都是不可变数组

- `IntArray`：存储整数的数组。
- `DoubleArray`：存储双精度浮点数的数组。
- `FloatArray`：存储单精度浮点数的数组。
- `LongArray`：存储长整数的数组。
- `CharArray`：存储字符的数组。
- `ByteArray`：存储字节的数组。
- `ShortArray`：存储短整数的数组。
- `BooleanArray`：存储布尔值的数组。

### 2. 泛型数组

`Array<T>` 是一个泛型数组，可以存储任何类型的元素。

- `arrayOf()`：创建一个不可变数组。
- `arrayOfNulls()`：创建一个指定大小的不可变空数组。
- `emptyArray<T>()`：创建一个指定类型的空数组。

### 3. 可变数组

`MutableArray<T>` 是一个可变数组，可以修改其元素。

- `mutableArrayOf()`：创建一个可变数组。
- `mutableArrayOfNulls()`：创建一个指定大小的可变空数组。

### 4. 特定用途的数组

Kotlin 还提供了一些特定用途的数组类型，如：

- `BooleanArray`：存储布尔值的数组，提供 `set` 和 `get` 方法。
- `CharArray`：存储字符的数组，提供 `set` 和 `get` 方法，以及对字符串操作的扩展函数。

### 5. 数组的操作和方法

Kotlin 数组支持多种操作和方法，包括：

- `size`：获取数组的大小。
- `get(index)`：获取指定索引的元素。
- `set(index, value)`：设置指定索引的元素。
- `isEmpty()`：检查数组是否为空。
- `indices`：获取数组的索引范围。
- `contentEquals(other)`：检查两个数组的内容是否相等。

### 6. 数组的转换

Kotlin 提供了多种将数组转换为其他集合类型的函数：

- `asList()`：将数组转换为列表。
- `toList()`：将数组转换为列表。
- `toSet()`：将数组转换为集合。
- `toMutableList()`：将数组转换为可变列表。
- `toMutableSet()`：将数组转换为可变集合。

### 7. 数组的迭代

可以使用 `for` 循环或 `forEach` 函数来迭代数组中的元素。

### 8. 数组的排序

Kotlin 提供了 `sort()` 和 `sortDescending()` 函数来对数组进行排序。

### 9. 数组的复制

可以使用 `copyOf()` 和 `copyOfRange()` 函数来复制数组或数组的一部分。

这些数组类型和操作为 Kotlin 程序员提供了强大的工具，以处理各种数组相关的任务。

---

## 数组常用API

在 Kotlin 中，数组是一种提供有序集合的类，它具有固定的大小和可变的内容。Kotlin 提供了丰富的 API 来操作数组。以下是一些常用的数组 API：

### 创建数组

- `arrayOf(vararg elements: T): Array<T>`：创建一个包含指定元素的数组。
- `intArrayOf(vararg elements: Int): IntArray`：创建一个包含指定 `Int` 元素的数组。
- `doubleArrayOf(vararg elements: Double): DoubleArray`：创建一个包含指定 `Double` 元素的数组。
- `floatArrayOf(vararg elements: Float): FloatArray`：创建一个包含指定 `Float` 元素的数组。
- `longArrayOf(vararg elements: Long): LongArray`：创建一个包含指定 `Long` 元素的数组。
- `shortArrayOf(vararg elements: Short): ShortArray`：创建一个包含指定 `Short` 元素的数组。
- `byteArrayOf(vararg elements: Byte): ByteArray`：创建一个包含指定 `Byte` 元素的数组。
- `booleanArrayOf(vararg elements: Boolean): BooleanArray`：创建一个包含指定 `Boolean` 元素的数组。
- `charArrayOf(vararg elements: Char): CharArray`：创建一个包含指定 `Char` 元素的数组。

### 访问和修改数组

- `array[size: Int]: T`：获取或设置指定索引的元素。
- `array.size: Int`：获取数组的大小。

### 遍历数组

- `array.forEach(action: (T) -> Unit)`：对数组中的每个元素执行给定的操作。
- `array.forEachIndexed(action: (index: Int, T) -> Unit)`：对数组中的每个元素执行给定的操作，同时提供索引。

### 搜索数组

- `array.contains(element: T): Boolean`：检查数组是否包含指定的元素。
- `array.indexOf(element: T): Int`：返回指定元素在数组中的索引，如果不存在则返回 `-1`。
- `array.lastIndexOf(element: T): Int`：返回指定元素在数组中的最后一个索引，如果不存在则返回 `-1`。

### 转换数组

- `array.toList(): List<T>`：将数组转换为列表。
- `array.toTypedArray(): Array<T>`：创建一个新的数组，包含原始数组的所有元素。

### 过滤数组

- `array.filter(predicate: (T) -> Boolean): List<T>`：返回一个包含所有满足给定条件的元素的新列表。
- `array.filterNot(predicate: (T) -> Boolean): List<T>`：返回一个包含所有不满足给定条件的元素的新列表。

### 映射数组

- `array.map(transform: (T) -> R): List<R>`：将数组中的每个元素转换成新元素，返回一个新的列表。

### 排序数组

- `array.sort(): Unit`：对数组进行升序排序。
- `array.sortBy(selector: (T) -> Comparable<*>): Unit`：根据选择器函数选择的键对数组进行排序。

### 合并数组

- `array.plus(other: Array<out T>): Array<T>`：将两个数组合并。

### 切割数组

- `array.sliceArray(indices: IntRange): Array<T>`：从数组中提取一段范围的元素。

### 填充数组

- `array.fill(value: T): Unit`：用指定的值填充数组。

### 连接数组

- `array.joinToString(separator: CharSequence = ", ", prefix: CharSequence = "", postfix: CharSequence = ""): String`：将数组元素连接成一个字符串。

这些 API 提供了对数组进行各种操作的强大工具，使得在 Kotlin 中处理数组数据变得更加简单和直观。

---

## 数组排序

在 Kotlin 中，对数组进行高效的数据排序可以通过多种方式实现。以下是一些常用的方法：

### 1. 使用标准库函数 `sort()`

对于 `Array` 类型，Kotlin 标准库提供了 `sort()` 函数，它会对数组进行原地排序，即直接修改原数组。

```kotlin
val numbers = arrayOf(5, 2, 9, 1, 5, 6)
numbers.sort()
println(numbers.contentToString())  // 输出: [1, 2, 5, 5, 6, 9]
```

### 2. 使用 `sortDescending()` 函数

如果你需要对数组进行降序排序，可以使用 `sortDescending()` 函数。

```kotlin
val numbers = arrayOf(5, 2, 9, 1, 5, 6)
numbers.sortDescending()
println(numbers.contentToString())  // 输出: [9, 6, 5, 5, 2, 1]
```

### 3. 使用 `sorted()` 函数

如果你不想修改原数组，可以使用 `sorted()` 函数，它会返回一个新的排序后的数组。

```kotlin
val numbers = arrayOf(5, 2, 9, 1, 5, 6)
val sortedNumbers = numbers.sorted()
println(sortedNumbers.contentToString())  // 输出: [1, 2, 5, 5, 6, 9]
```

### 4. 使用 `sortWith()` 函数

如果你需要自定义排序逻辑，可以使用 `sortWith()` 函数，它接受一个比较器作为参数。

```kotlin
val numbers = arrayOf(5, 2, 9, 1, 5, 6)
val sortedNumbers = numbers.sortWith(compareBy({ it % 2 }, { it }))
println(sortedNumbers.contentToString())  // 输出: [5, 1, 9, 2, 6, 5]
```

在这个例子中，`compareBy` 首先根据数字是否为偶数进行排序，然后根据数字的大小进行排序。

### 5. 使用 `sortArray()` 函数

对于基本类型数组，如 `IntArray`、`DoubleArray` 等，可以使用 `sortArray()` 函数进行排序。

```kotlin
val intNumbers = intArrayOf(5, 2, 9, 1, 5, 6)
sortArray(intNumbers)
println(intNumbers.contentToString())  // 输出: [1, 2, 5, 5, 6, 9]
```

### 6. 使用 `Arrays.sort()` 方法

对于 Java 互操作性，你可以使用 `Arrays.sort()` 方法，它在 Java 中用于排序数组。

```kotlin
import java.util.Arrays

val intNumbers = intArrayOf(5, 2, 9, 1, 5, 6)
Arrays.sort(intNumbers)
println(intNumbers.contentToString())  // 输出: [1, 2, 5, 5, 6, 9]
```

### 7. 使用 `Collections.sort()` 方法

对于 `Array<T>` 类型的数组，你可以将其转换为列表，然后使用 `Collections.sort()` 方法进行排序。

```kotlin
import java.util.Collections

val numbers = arrayOf(5, 2, 9, 1, 5, 6)
val list = numbers.toList()
Collections.sort(list)
println(list.joinToString())  // 输出: [1, 2, 5, 5, 6, 9]
```

### 8. 使用自定义排序算法

对于更复杂的排序需求，你可以实现自己的排序算法，如快速排序、归并排序等。

选择哪种排序方法取决于你的具体需求，如是否需要原地排序、是否需要稳定的排序、是否需要处理大数据集等。对于大多数日常用途，Kotlin 标准库提供的函数已经足够高效和方便。
