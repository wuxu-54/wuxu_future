
# 判断类是否创建的一种姿势

有如下一种代码，其本质是使用kotlin的属性引用、属性访问：

```kotlin
if (!::mFabricEngineAdapterTV.isInitialized) {//对类属性的引用
    mFabricEngineAdapterTV = DeviceAdapterFactory.createDeviceAdapter(FabricEngineAdapterTV::class.java)
}
```

解：

这段代码的主要目的是检查一个名为 `mFabricEngineAdapterTV` 的对象是否已经被初始化。如果没有被初始化，那么它会通过 `DeviceAdapterFactory` 的 `createDeviceAdapter` 方法来创建一个 `FabricEngineAdapterTV` 类型的设备适配器实例，并将其赋值给 `mFabricEngineAdapterTV`。

具体解释如下：

1. `if (!::mFabricEngineAdapterTV.isInitialized)`：这行代码使用了 Kotlin 的属性引用（`::mFabricEngineAdapterTV`）和属性访问（`.isInitialized`）。这里检查 `mFabricEngineAdapterTV` 对象是否有一个名为 `isInitialized` 的属性，并且这个属性是否为 `false`。这意味着如果 `mFabricEngineAdapterTV` 没有被初始化（或者其 `isInitialized` 属性为 `false`），则条件为真。

2. `mFabricEngineAdapterTV = DeviceAdapterFactory.createDeviceAdapter(FabricEngineAdapterTV::class.java)`：如果上述条件为真，即 `mFabricEngineAdapterTV` 没有被初始化，那么这行代码将执行。这里调用了 `DeviceAdapterFactory` 的静态方法 `createDeviceAdapter`，并传入 `FabricEngineAdapterTV::class.java` 作为参数。`FabricEngineAdapterTV::class.java` 获取了 `FabricEngineAdapterTV` 类的 `Class` 对象，这通常用于在运行时反射地创建该类的实例。`createDeviceAdapter` 方法根据传入的类信息创建一个 `FabricEngineAdapterTV` 的实例，并将这个新创建的实例赋值给 `mFabricEngineAdapterTV`。

简而言之，这段代码的作用是确保 `mFabricEngineAdapterTV` 被正确初始化。如果它尚未初始化，则通过工厂方法创建一个新的实例。
