
# Kotlin 命名规范

以下是 Kotlin 命名规范的详细总结，涵盖代码元素命名、风格约定及最佳实践，结合官方文档建议与社区最佳实践整理而成：

## **一、基础命名规则（驼峰命名法）**

Kotlin 采用 **驼峰命名法（Camel Case）**，区分大小写，不同代码元素遵循不同的首字母规则：

| 元素类型       | 命名规则                | 示例                                  | 反例                  |
|----------------|-------------------------|---------------------------------------|-----------------------|
| **类、接口、对象、枚举** | PascalCase（首字母大写） | `AccountManager`, `UserService`, `SealedOrder` | `accountManager`, `USER_SERVICE` |
| **函数、属性、变量**     | camelCase（首字母小写）  | `createAccount()`, `userName`, `isValid`    | `CreateAccount()`, `UserName` |
| **常量（不可变值）**     | SCREAMING_SNAKE_CASE     | `MAX_USER_COUNT`, `DEFAULT_TIMEOUT`        | `maxUserCount`, `DefaultTimeout` |
| **泛型参数**   | 单个大写字母或描述性名称 | `T`, `ElementType`, `Callback<T>`         | `typeParam`, `temp`         |

## **二、关键代码元素命名规范**

### **1. 类与对象（Class & Object）**

- **单例对象**：  
  使用 `object` 声明，名称应体现“全局唯一”和“职责”，避免泛泛的后缀（如“Manager”“Helper”）。  
  **推荐**：`AccountService`, `AppConfiguration`（明确业务职责）。  
  **反例**：`DataManager`（未说明管理何种数据）、`UtilsHelper`（冗余）。  

- **数据类（Data Class）**：  
  名称应反映数据本质，避免“Data”前缀。  
  **推荐**：`User`, `Order`, `ProductInfo`。  
  **反例**：`UserData`（冗余）、`DataOrder`（颠倒顺序）。  

- **密封类/接口（Sealed Class/Interface）**：  
  名称应描述受限的层次结构，如“状态”“类型”“结果”。  
  **推荐**：`Result`, `PaymentStatus`, `Event`。  
  **示例**：  

  ```kotlin
  sealed interface PaymentStatus {
      object Pending : PaymentStatus
      object Success : PaymentStatus
      data class Failed(val error: String) : PaymentStatus
  }
  ```

### **2. 函数与属性（Function & Property）**

- **函数**：  
  - 动词或动词短语，体现行为。  
  **推荐**：`validateUser()`, `calculateTotal()`, `formatDate()`。  
  - 避免无意义动词（如“handle”“process”）。  
  **反例**：`handleData()`（未说明处理逻辑）、`processOrder()`（不够具体）。  

- **属性**：  
  - 名词或形容词，描述状态或特征。  
  **推荐**：`isLoggedIn`, `userEmail`, `currentTheme`。  
  - 避免使用“flag”“value”等模糊词汇。  
  **反例**：`isFlag`, `dataValue`（未明确数据类型）。  

### **3. 常量（Constant）**

- 全大写，单词间用下划线分隔，用于声明不可变且可在编译期确定的值。  
  **推荐**：`MAX_ATTEMPTS = 5`, `DEFAULT_CONFIG_PATH = "/config.json"`。  
  **反例**：`maxAttempts`（驼峰命名，非常量）、`DefaultPath`（PascalCase，非常量）。  

### **4. 泛型参数（Generic Parameters）**

- 单个字母用于简单场景（如 `T`, `E`, `K`, `V`）。  
  **示例**：`List<T>`, `Map<K, V>`。  
- 描述性名称用于复杂场景，提升可读性。  
  **推荐**：`Processor<JobData>`, `Converter<JsonNode, User>`。  

### **5. 枚举类（Enum Class）**

- 枚举条目使用 PascalCase，名称简洁明确。  
  **推荐**：  

  ```kotlin
  enum class Status {
      ACTIVE, INACTIVE, DELETED
  }
  ```  

  **反例**：`statusActive`（小写开头）、`EnumStatusActive`（冗余“Enum”前缀）。  

### **6. 扩展函数与属性（Extension Functions/Properties）**

- 名称应与扩展的类相关，避免重复类名。  
  **推荐**：  

  ```kotlin
  fun String.toSecureString(): String { ... } // 扩展 String 的安全处理
  val Context.appVersion: String get() = ... // 扩展 Context 的属性
  ```  

  **反例**：`String.helperProcess()`（“helper”无意义）。  

## **三、避免无意义命名的核心原则**

1. **拒绝“万能词”后缀**：  
   - 避免 `Manager` `Helper` `Util` `Controller` 等泛泛后缀，除非能明确职责。  
   **反例**：`SystemManager`（“System”范围过大）、`UtilsHelper`（冗余）。  
   **正例**：`NetworkConnectionManager`（明确管理网络连接）。  

2. **面向业务而非技术**：  
   - 命名应反映业务逻辑，而非技术实现细节。  
   **反例**：`DatabaseOperationManager`（技术导向）。  
   **正例**：`OrderRepository`（领域导向，聚焦订单数据仓储）。  

3. **单一职责优先**：  
   - 名称应暗示类的单一职责，避免大包大揽。  
   **反例**：`AllInOneService`（职责不明确）。  
   **正例**：`AuthService`（专注认证逻辑）、`PaymentService`（专注支付逻辑）。  

## **四、特殊场景命名规范**

### **1. 与 Java 互操作（Interoperability）**

- 使用 `@JvmName` 注解调整生成的 Java 名称，避免命名冲突。  
  **示例**：  

  ```kotlin
  @JvmName("getUserInfo") // 避免 Java 中与其他方法名冲突
  fun getUserDetails(): String { ... }
  ```  

### **2. 避免保留关键字**  

- 避免使用 Kotlin 关键字命名，必要时用反引号转义（不推荐）。  
  **反例**：`class in { ... }`（需转义为 `class`in`{ ... }`，但应尽量重命名）。  

### **3. 测试类命名**  

- 测试类以 `Test` 结尾，与生产代码对应。  
  **推荐**：`UserServiceTest`, `AccountRepositoryTest`。  

## **五、官方推荐与最佳实践**

1. **《Kotlin 编码规范》建议**：  
   - 类名应是名词或名词短语，避免“动作”词汇（如 `Processor` 优于 `Processing`）。  
   - 函数名应是动词或动词短语（如 `parse()` `validate()`）。  
   - 避免使用缩写（如 `usr` 应写为 `user`）。  

2. **社区实践**：  
   - 数据类优先使用单数形式（如 `User` 而非 `Users`）。  
   - 枚举类名避免“Enum”后缀（如 `Color` 而非 `ColorEnum`）。  
   - 单例对象命名可省略“Singleton”后缀（如 `Settings` 而非 `SettingsSingleton`）。  

## **六、总结：命名检查清单**

1. **是否清晰传达职责**：名称能否让读者快速理解功能？  
   ✅ `OrderValidator` ❌ `DataHandler`  
2. **是否符合驼峰规则**：类名 PascalCase，属性/函数 camelCase？  
   ✅ `userName` ❌ `UserName`  
3. **是否避免冗余后缀**：`Manager` `Helper` 是否必要？  
   ✅ `DatabaseConnectionPool` ❌ `DatabaseManager`  
4. **是否遵循领域驱动**：命名是否基于业务术语而非技术实现？  
   ✅ `CustomerRepository` ❌ `DbDataHandler`  

通过以上规范，可确保代码命名一致、易读且符合 Kotlin 生态的最佳实践，减少团队协作中的认知成本。
