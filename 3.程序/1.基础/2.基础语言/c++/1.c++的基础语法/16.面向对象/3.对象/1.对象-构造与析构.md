# 构造与析构

构造函数：类在创建后自动调用，可以做某些初始化操作，

析构函数：类销毁前自动调用，可以用于释放内存，避免内存泄漏。

声明：

```cpp
class T{
    public:
    /**
     * 1、方法名与类名相同
     * 2、无返回值，不写void
     * 3、可以重载
     * 4、类创建时自动调用
     */
    T(){
      cout<<"这是构造函数"<<endl;
    }

    /**
     * 1、方法名：符号【~】+ 类名
     * 2、无返回值，不写void
     * 3、不可以有参数，所以无法重载
     * 4、类销毁前自动调用
     */
    ~T(){
        cout<<"这是析构构函数"<<endl;
    }
}
```

---

## 构造函数

形参分类为： 无参构造、有参构造
按类型分为： 普通构造、拷贝构造

```cpp

class T{
    public:
    int a;
    /**
     * 无参、普通
     */
    T(){}

    /**
     * 有参、普通
     */
     T(int a){
     
    }

    /**
     * 有参、拷贝
     * 
     * 拷贝构造用于：将旧对象公共数据复制给新建对象
     */
     T(const T &t){
        a = t.a;//将旧对象数据赋值给当前对象
    }

}
```

各类型构造函数调用时机

1. 一个类默认实现3个函数：无参构造（空函数体）、无参析构（空函数体）、拷贝构造（对属性拷贝，这个是当没有实现拷贝构造时，传入旧对象，仍可以正常运行赋值，说明编译器默认实现了一个拷贝构造）
2. 声明有参构造函数，编译器默认提供一个拷贝构造函数
3. 声明拷贝构造，编译器不默认提供其他构造函数
