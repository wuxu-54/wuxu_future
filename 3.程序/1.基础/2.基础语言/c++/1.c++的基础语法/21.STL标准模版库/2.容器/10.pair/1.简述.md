# pair简述

在C++中，`std::pair` 是一个模板类，用于存储一对值。这对值可以是相同或不同类型的。`std::pair` 通常用于需要成对存储数据的场景，例如函数返回两个值，或者将两个值作为一个整体进行排序等。

## 基本用法

### 包含头文件

要使用 `std::pair`，首先需要包含头文件 `<utility>`：

```cpp
#include <utility>
```

### 创建 `std::pair`

可以通过多种方式创建 `std::pair` 对象：

1. **使用默认构造函数**：

    ```cpp
    std::pair<int, std::string> p;
    ```

    这将创建一个 `int` 和 `std::string` 类型的 `pair`，其值初始化为它们的默认值（`int` 为0，`std::string` 为空字符串）。

2. **使用 `make_pair` 函数**：

    ```cpp
    auto p = std::make_pair(1, "Hello");
    ```

    `std::make_pair` 可以自动推导类型，并创建 `pair` 对象。

3. **使用初始化列表**：

    ```cpp
    std::pair<int, std::string> p{1, "Hello"};
    ```

    C++11 引入的统一初始化语法也可以用于 `pair`。

4. **直接构造**：

    ```cpp
    std::pair<int, std::string> p(1, "Hello");
    ```

## 访问 `std::pair` 的元素

`std::pair` 提供两个公共成员变量 `first` 和 `second`，分别用于访问第一个和第二个元素：

```cpp
std::pair<int, std::string> p(1, "Hello");
std::cout << "First: " << p.first << ", Second: " << p.second << std::endl;
```

## `std::pair` 的比较

`std::pair` 支持使用标准比较运算符进行比较。比较时，首先比较 `first` 成员，如果 `first` 相同，则比较 `second` 成员：

```cpp
std::pair<int, int> p1(1, 2);
std::pair<int, int> p2(1, 3);
std::pair<int, int> p3(2, 1);

if (p1 < p2) {
    std::cout << "p1 is less than p2" << std::endl;
}
if (p1 < p3) {
    std::cout << "p1 is less than p3" << std::endl;
}
```

## 示例代码

以下是一个完整的示例代码，展示了 `std::pair` 的基本用法：

```cpp
#include <iostream>
#include <utility>

int main() {
    // 创建 std::pair
    std::pair<int, std::string> p1(1, "One");
    auto p2 = std::make_pair(2, "Two");
    std::pair<int, std::string> p3{3, "Three"};

    // 访问元素
    std::cout << "p1: (" << p1.first << ", " << p1.second << ")" << std::endl;
    std::cout << "p2: (" << p2.first << ", " << p2.second << ")" << std::endl;
    std::cout << "p3: (" << p3.first << ", " << p3.second << ")" << std::endl;

    // 比较
    if (p1 < p2) {
        std::cout << "p1 is less than p2" << std::endl;
    }
    if (p2 < p3) {
        std::cout << "p2 is less than p3" << std::endl;
    }

    return 0;
}
```

## 注意事项

1. **类型推导**：使用 `auto` 和 `std::make_pair` 时，C++编译器会自动推导 `pair` 的类型。
2. **内存占用**：`std::pair` 本质上是两个成员变量的封装，因此其内存占用是两个成员变量内存占用之和加上一些可能的额外开销（例如对齐和可能的元数据）。
3. **用途广泛**：`std::pair` 在 STL 中广泛使用，例如在 `std::map` 和 `std::set` 的实现中，作为键值对存储。

通过这些内容，你应该对 `std::pair` 有了全面的了解，并能够在实际编程中有效地使用它。
