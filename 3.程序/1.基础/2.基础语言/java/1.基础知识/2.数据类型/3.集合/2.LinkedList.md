# LinkedList

`LinkedList` 是 Java 集合框架中的一部分，实现了 `List` 接口和 `Deque` 接口，因此它既可以作为列表使用，也可以作为双端队列使用。`LinkedList` 的底层数据结构是双向链表，这使得它在进行插入、删除操作时具有很高的效率。

## 特点

1. **动态数组**：`LinkedList` 内部使用链表结构，可以动态地增长和缩小，不需要像 `ArrayList` 那样进行数组的扩容和缩容操作。

2. **双向链表**：每个元素都包含对前一个和后一个元素的引用，这使得 `LinkedList` 在进行头部和尾部操作时非常高效。

3. **非同步**：`LinkedList` 不是线程安全的，如果需要在多线程环境中使用，需要外部同步。

4. **有序结构**：`LinkedList` 维护了元素的插入顺序。

5. **允许重复元素**：与 `HashSet` 不同，`LinkedList` 允许存储重复的元素。

## 常用方法

- **添加元素**：
  - `add(E e)`：在列表末尾添加一个元素。
  - `add(int index, E element)`：在指定位置插入一个元素。
  - `offer(E e)`：在队列末尾添加一个元素（`Deque` 接口方法）。
  - `offerFirst(E e)` 和 `offerLast(E e)`：在队列头部或末尾插入一个元素（`Deque` 接口方法）。

- **删除元素**：
  - `remove(Object o)`：删除列表中第一次出现的指定元素。
  - `remove(int index)`：删除列表中指定位置的元素。
  - `poll()`：删除并返回队列头部的元素（`Deque` 接口方法）。
  - `pollFirst()` 和 `pollLast()`：删除并返回队列头部或末尾的元素（`Deque` 接口方法）。

- **访问元素**：
  - `get(int index)`：返回列表中指定位置的元素。
  - `peek()`：返回队列头部的元素但不删除（`Deque` 接口方法）。
  - `peekFirst()` 和 `peekLast()`：返回队列头部或末尾的元素但不删除（`Deque` 接口方法）。

- **搜索元素**：
  - `contains(Object o)`：检查列表是否包含指定元素。
  - `indexOf(Object o)` 和 `lastIndexOf(Object o)`：返回列表中第一次或最后一次出现的指定元素的索引。

- **其他方法**：
  - `size()`：返回列表中元素的数量。
  - `isEmpty()`：检查列表是否为空。
  - `clear()`：移除列表中的所有元素。

## 性能

- **时间复杂度**：
  - 访问元素：O(n)，因为可能需要从头开始遍历链表。
  - 添加元素：O(1)，如果添加到末尾；O(n)，如果添加到指定位置。
  - 删除元素：O(1)，如果删除头部或尾部元素；O(n)，如果删除指定位置的元素。

- **空间复杂度**：O(n)，其中 n 是存储在链表中的元素数量。

## 使用场景

- 当需要频繁地在列表的头部或尾部进行插入和删除操作时，`LinkedList` 是一个很好的选择。
- 当需要一个可以作为队列、栈或双端队列使用的列表时，`LinkedList` 提供了这些功能。
- 当不需要随机访问列表中的元素时，`LinkedList` 比 `ArrayList` 更节省空间。

## 示例代码

```java
import java.util.LinkedList;

public class LinkedListExample {
    public static void main(String[] args) {
        LinkedList<Integer> list = new LinkedList<>();
        list.add(1);
        list.add(2);
        list.add(3);
        
        System.out.println("List: " + list);

        list.add(1, 2); // 在索引1的位置插入元素2
        System.out.println("List after adding 2 at index 1: " + list);

        list.remove(2); // 删除索引2的元素
        System.out.println("List after removing element at index 2: " + list);

        list.poll(); // 删除并返回队列头部的元素
        System.out.println("List after polling: " + list);
        System.out.println("Polled element: " + list.poll());
    }
}
```

在这个示例中，我们创建了一个 `LinkedList`，添加了一些元素，然后在指定位置插入了一个元素，删除了一个元素，最后使用 `poll()` 方法删除并返回了队列头部的元素。
