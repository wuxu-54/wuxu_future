# 面向对象

Groovy 是一种面向对象的语言，它支持面向对象编程（OOP）的所有基本概念，如类、对象、继承、封装和多态。

以下是 Groovy 面向对象编程的一些关键特性和用法：

## 1. 类定义

在 Groovy 中，使用 `class` 关键字定义类。

```groovy
class Person {
    String name
    int age
}
```

## 2. 构造函数

Groovy 支持默认构造函数和自定义构造函数。

```groovy
class Person {
    String name
    int age

    Person(String name, int age) {
        this.name = name
        this.age = age
    }
}
```

## 3. 方法定义

类中可以定义方法。

```groovy
class Person {
    // ...

    void greet() {
        println "Hello, my name is $name and I am $age years old."
    }
}
```

## 4. 继承

Groovy 支持单继承，可以使用 `extends` 关键字实现。

```groovy
class Employee extends Person {
    String company

    Employee(String name, int age, String company) {
        super(name, age)
        this.company = company
    }

    // 可以重写父类方法
    @Override
    void greet() {
        super.greet()
        println "I work at $company."
    }
}
```

## 5. 封装

Groovy 支持私有属性和方法，使用 `private` 关键字。

```groovy
class Person {
    private String name

    Person(String name) {
        this.name = name
    }

    String getName() {
        return name
    }

    void setName(String name) {
        this.name = name
    }
}
```

## 6. 多态

Groovy 支持多态，可以通过父类引用调用子类方法。

```groovy
Person person = new Employee("Alice", 30, "Groovy Corp")
person.greet() // 调用 Employee 类的 greet 方法
```

## 7. 接口

Groovy 支持接口，使用 `interface` 关键字。

```groovy
interface Greeter {
    void greet()
}

class Person implements Greeter {
    void greet() {
        println "Hello!"
    }
}
```

## 8. 抽象类

使用 `abstract` 关键字定义抽象类。

```groovy
abstract class Animal {
    abstract void makeSound()
}

class Dog extends Animal {
    void makeSound() {
        println "Woof!"
    }
}
```

## 9. 枚举

Groovy 支持枚举类型。

```groovy
enum Color {
    RED, GREEN, BLUE
}

def color = Color.RED
println color
```

## 10. 属性和方法的动态添加

Groovy 允许在运行时动态添加属性和方法。

```groovy
class Person {
    // ...
}

Person.metaClass.getFullName = {
        "${name} ${surname}"
    }
}

def person = new Person(name: "Alice", surname: "Johnson")
println person.fullName() // 使用动态添加的方法
```

## 11. 类的动态实例化

可以使用 `new()` 方法动态实例化类。

```groovy
def personClass = Class.forName("Person")
def personInstance = personClass.newInstance("Alice", 30)
```

## 示例

以下是使用 Groovy 面向对象特性的示例：

```groovy
class Vehicle {
    String type
    void start() {
        println "$type is starting."
    }
}

class Car extends Vehicle {
    String model

    Car(String model) {
        this.model = model
    }

    @Override
    void start() {
        super.start()
        println "Car model $model is ready."
    }
}

def car = new Car("Sedan")
car.start() // 使用继承和多态
```

Groovy 的面向对象编程模型非常灵活，支持所有基本的 OOP 概念，同时提供了动态语言的特性，如动态添加方法和属性、运行时类实例化等。这使得 Groovy 在处理复杂的面向对象设计时既灵活又强大。
