# `XmlSlurper` 和 `XmlParser`区别

在 Groovy 中，`XmlSlurper` 和 `XmlParser` 是两个用于解析和处理 XML 的类，它们提供了不同的方法来处理 XML 文档。

## XmlSlurper

`XmlSlurper` 是 Groovy 提供的一个非常流行的类，用于以流式方式解析 XML。它允许你以一种非常 Groovy 风格的方式来处理 XML，使用简洁的 API 来查询和遍历 XML 结构。

**特点**：

- 流式解析：不需要将整个 XML 文档加载到内存中。
- 使用 XPath 表达式进行节点查询。
- 易于使用和阅读的 Groovy 语法。

**示例**：

```groovy
import groovy.xml.XmlSlurper

def xml = '''
<books>
    <book>
        <title>Groovy in Action</title>
        <author>Dierk König</author>
    </book>
</books>
'''

def slurper = new XmlSlurper()
def books = slurper.parseText(xml)

books.book.each { book ->
    println "Title: ${book.title.text()}"
    println "Author: ${book.author.text()}"
}
```

---

## XmlParser

`XmlParser` 是 Groovy 的另一个类，用于解析 XML。与 `XmlSlurper` 不同，`XmlParser` 通常用于将 XML 解析为 DOM（Document Object Model）结构，这意味着它会将整个 XML 文档加载到内存中。

**特点**：

- DOM 解析：将 XML 解析为一个对象树。
- 适合处理大型 XML 文档或需要对 XML 结构进行复杂操作的场景。
- 提供了对 XML 节点的精确控制。

**示例**：

```groovy
import groovy.xml.XmlParser

def xml = '''
<books>
    <book>
        <title>Groovy in Action</title>
        <author>Dierk König</author>
    </book>
</books>
'''

def parser = new XmlParser()
def root = parser.parseText(xml)

def books = root.book
books.each { book ->
    println "Title: ${book.title[0].text()}"
    println "Author: ${book.author[0].text()}"
}
```

## 选择 XmlSlurper 还是 XmlParser？

- 如果你需要处理大型 XML 文件或需要对 XML 文档进行深度遍历和操作，`XmlParser` 可能是更好的选择。
- 如果你想要快速、简单地解析 XML 并执行一些基本操作，`XmlSlurper` 将非常方便。
- `XmlSlurper` 的使用更加符合 Groovy 的风格，提供了更简洁的语法和 XPath 支持。
