# 函数

在 Groovy 中，函数（或称为方法）是执行特定任务的代码块，可以接收输入（参数），执行操作，并返回结果。Groovy 的函数定义和使用非常灵活。

以下是一些关键点和示例：

## 1. 函数定义

在 Groovy 中，使用 `def` 关键字定义函数，可以省略返回类型。

```groovy
def greet(name) {
    return "Hello, $name!"
}

def add(a, b) {
    a + b
}
```

## 2. 可选参数

Groovy 允许定义带有默认值的可选参数。

```groovy
def greet(name, prefix = "Mr.") {
    return "Hello, ${prefix} $name!"
}
```

## 3. 可变参数

使用 `args` 或指定类型定义可变参数。

```groovy
def sum(args) {
    args.sum()
}

def max(a, b) {
    a > b ? a : b
}
```

## 4. 闭包作为参数

Groovy 可以将闭包作为参数传递给函数。

```groovy
def execute(Closure closure) {
    closure()
}

execute {
    println "This is a closure being executed"
}
```

## 5. 函数返回

函数可以显式返回一个值，也可以隐式返回（函数中最后一个表达式的值）。

```groovy
def getMax(a, b) {
    return a > b ? a : b
}

def getMin(a, b) {
    a < b ? a : b
}
```

## 6. 命名参数

Groovy 支持命名参数，使得函数调用更加清晰。

```groovy
def printCoordinates(x, y) {
    println "X: $x, Y: $y"
}

printCoordinates(x: 10, y: 20)
```

## 7. 重载函数

Groovy 支持函数重载，即可以定义多个同名函数，只要它们的参数列表不同。

```groovy
def sayHello(name) {
    println "Hello, $name!"
}

def sayHello() {
    println "Hello, World!"
}
```

## 8. 函数作为一等公民

在 Groovy 中，函数是一等公民，可以作为变量存储，作为参数传递，也可以作为返回值。

```groovy
def greet = { name -> "Hello, $name!" }
println greet("Alice")

def execute(Closure closure) {
    closure("Alice")
}

execute(greet)
```

## 9. 内联条件表达式

Groovy 支持使用三元运算符进行内联条件表达式。

```groovy
def isActive = true
def message = isActive ? "Active" : "Inactive"
```

## 10. 类方法和静态方法

Groovy 类中可以定义实例方法和静态方法。

```groovy
class Greeter {
    def greet(name) {
        return "Hello, $name!"
    }
    
    static def sayGoodbye(name) {
        return "Goodbye, $name!"
    }
}

new Greeter().greet("Bob")
Greeter.sayGoodbye("Bob")
```

## 11. 类扩展和方法添加

Groovy 允许在运行时添加方法到类中。

```groovy
class Greeter {
}

Greeter.metaClass.greet = { name ->
    "Hello, $name!"
}

new Greeter().greet("Bob")
```
