# 抽象类

在 Dart 中，抽象类是一种不能被实例化的类，它主要用于定义一组相关类的公共接口和行为，为子类提供一个统一的模板。以下是关于 Dart 抽象类的详细介绍：

## 1. 定义抽象类

使用 `abstract` 关键字来定义抽象类。抽象类可以包含抽象方法和具体方法。

```dart
// 定义一个抽象类
abstract class Shape {
  // 抽象方法，没有具体实现，子类必须实现
  double area();

  // 具体方法，有具体实现，子类可以直接使用
  void printInfo() {
    print('This is a shape.');
  }
}
```

## 2. 抽象方法

抽象方法是在抽象类中声明但没有具体实现的方法，使用 `abstract` 关键字可以显式声明抽象方法，但 Dart 也允许省略 `abstract` 关键字，只要方法没有方法体，它就是抽象方法。子类必须实现抽象类中的所有抽象方法，否则子类也必须被声明为抽象类。

```dart
abstract class Animal {
  // 抽象方法，声明动物的叫声
  void makeSound();
}

// 子类实现抽象方法
class Dog extends Animal {
  @override
  void makeSound() {
    print('Woof!');
  }
}

class Cat extends Animal {
  @override
  void makeSound() {
    print('Meow!');
  }
}
```

## 3. 具体方法

抽象类中可以包含具体方法，这些方法有具体的实现，子类可以直接使用这些方法，也可以根据需要进行重写。

```dart
abstract class Vehicle {
  // 具体方法
  void startEngine() {
    print('Engine started.');
  }

  // 抽象方法
  void drive();
}

class Car extends Vehicle {
  @override
  void drive() {
    print('Car is driving.');
  }
}

void main() {
  Car car = Car();
  car.startEngine(); // 输出: Engine started.
  car.drive(); // 输出: Car is driving.
}
```

## 4. 抽象类不能实例化

由于抽象类是一种抽象的概念，它**不能被直接实例化，只能通过其子类来创建对象**。
>这跟java不一样

```dart
abstract class Fruit {
  void taste();
}

// 尝试实例化抽象类会导致编译错误
// Fruit fruit = Fruit(); 

class Apple extends Fruit {
  @override
  void taste() {
    print('Apple tastes sweet.');
  }
}

void main() {
  Apple apple = Apple();
  apple.taste(); // 输出: Apple tastes sweet.
}
```

## 5. 抽象类的作用

- **定义公共接口**：抽象类可以定义一组相关类的公共接口，使得子类具有统一的行为规范。例如，在图形绘制系统中，所有的图形类都可以继承自一个抽象的 `Shape` 类，这样可以确保所有图形类都实现了必要的方法，如计算面积、绘制等。
- **代码复用**：抽象类中的具体方法可以被多个子类复用，避免了代码的重复编写。
- **多态性**：通过抽象类可以实现多态性，使得程序更加灵活和可扩展。例如，可以将不同的子类对象赋值给抽象类类型的变量，然后调用抽象类中定义的方法，根据实际对象的类型执行不同的实现。

```dart
abstract class Shape {
  double area();
}

class Circle extends Shape {
  final double radius;

  Circle(this.radius);

  @override
  double area() {
    return 3.14 * radius * radius;
  }
}

class Rectangle extends Shape {
  final double width;
  final double height;

  Rectangle(this.width, this.height);

  @override
  double area() {
    return width * height;
  }
}

void printArea(Shape shape) {
  print('Area: ${shape.area()}');
}

void main() {
  Circle circle = Circle(5);
  Rectangle rectangle = Rectangle(4, 6);

  printArea(circle); // 输出: Area: 78.5
  printArea(rectangle); // 输出: Area: 24
}
```

## 6. 抽象类与接口的区别

在 Dart 中，接口的概念与抽象类有一定的相似性，但也有区别：

- 任何类都可以隐式地作为接口使用，子类可以通过 `implements` 关键字实现一个或多个类作为接口，需要实现这些类中的所有方法。
- 抽象类主要用于定义一组相关类的公共行为和接口，通过 `extends` 关键字继承，子类可以选择性地重写具体方法，必须实现抽象方法。

```dart
// 定义一个抽象类
abstract class Animal {
  void eat();
  void sleep();
}

// 定义一个类作为接口
class Flyable {
  void fly();
}

// 子类继承抽象类并实现接口
class Bird extends Animal implements Flyable {
  @override
  void eat() {
    print('Bird is eating.');
  }

  @override
  void sleep() {
    print('Bird is sleeping.');
  }

  @override
  void fly() {
    print('Bird is flying.');
  }
}
```

综上所述，抽象类在 Dart 中是一种非常有用的工具，它可以帮助我们组织代码、提高代码的可维护性和可扩展性。
