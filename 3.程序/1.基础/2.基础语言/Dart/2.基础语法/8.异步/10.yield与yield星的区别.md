# yield 与 yield* 的区别

在 Dart 和 Flutter 中，`yield` 和 `yield*` 是两个关键字，用于在生成器（generator）函数中产生值。生成器是一种特殊的函数，可以逐个产生一系列的值，而不是一次性返回所有值。以下是 `yield` 和 `yield*` 的主要区别：

## yield

- `yield` 关键字用于在生成器函数中产生单个值。
- 使用 `yield` 时，生成器函数在每次调用 `yield` 后暂停执行，并将值返回给调用者。
- `yield` 后面通常跟着一个返回值，这个值可以是任何类型。

**示例**:

```dart
Iterable<int> generateNumbers(int limit) sync* {
  for (int i = 1; i <= limit; i++) {
    yield i; // 逐个产生值
  }
}
```

## yield*

- `yield*` 关键字用于在生成器函数中委托给另一个生成器或迭代器。
- 使用 `yield*` 时，当前生成器将暂停执行，并将控制权转交给另一个生成器或迭代器，直到它耗尽。
- `yield*` 允许一个生成器函数扩展另一个生成器函数的输出。

**示例**:

```dart
Iterable<String> names = ['Alice', 'Bob', 'Charlie'];
Iterable<String> generateNames() sync* {
  yield* names; // 委托给 names 迭代器
}

void main() {
  var iterator = generateNames().iterator;
  while (iterator.moveNext()) {
    print(iterator.current);
  }
}
```

## 主要区别

1. **产生值的方式**:
   - `yield` 用于直接在生成器中产生值。
   - `yield*` 用于从一个生成器中委托到另一个生成器或迭代器。

2. **控制流**:
   - `yield` 在产生值后暂停当前生成器的执行。
   - `yield*` 将控制权转交给另一个生成器或迭代器，直到它耗尽。

3. **使用场景**:
   - 使用 `yield` 当你需要在生成器中逐个产生值。
   - 使用 `yield*` 当你需要扩展或重用另一个生成器或迭代器的输出。

4. **语法结构**:
   - `yield` 后面跟着一个表达式。
   - `yield*` 后面跟着一个生成器或迭代器。

5. **性能**:
   - `yield*` 可以更有效地处理大型数据集或无限流，因为它可以在不创建新列表的情况下逐个产生值。

理解 `yield` 和 `yield*` 的区别有助于编写更灵活和高效的生成器函数，特别是在处理数据流和迭代器时。
