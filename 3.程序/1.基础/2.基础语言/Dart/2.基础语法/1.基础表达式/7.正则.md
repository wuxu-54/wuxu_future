# 正则

在 Dart 中，正则表达式是通过 `RegExp` 类实现的，它提供了丰富的方法来处理字符串匹配、搜索和替换。以下是 Dart 中使用正则表达式的详解和示例：

## 正则表达式基础

正则表达式是一种用于描述、匹配字符串模式的序列。它使用单个字符串来描述、匹配一系列符合某个句法规则的字符串。

## 创建 RegExp 对象

使用 `RegExp` 构造函数或字面量方式创建正则表达式对象：

```dart
RegExp regex = RegExp(r'\d+'); // 匹配一个或多个数字
```

## 常用方法

- `hasMatch`: 检查字符串是否包含匹配的模式。
- `firstMatch`: 找到字符串中第一个匹配的模式。
- `allMatches`: 返回一个迭代器，包含字符串中所有匹配的模式。
- `matchAsPrefix`: 检查正则表达式是否匹配字符串的前缀。
- `stringMatch`: 返回第一个匹配的完整字符串。

## 示例

### 示例 1：电子邮件验证

```dart
void main() {
  RegExp exp = RegExp(
    r"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$",
    caseSensitive: false,
  );
  
  // 测试电子邮件
  String email1 = "test@gmail.com";
  String email2 = "test@gmail";
  String email3 = "test#gmail.com";

  if (exp.hasMatch(email1)) {
    print("Email1 OK");
  } else {
    print("Email1 Invalid");
  }

  // ... 其他测试
}
```

### 示例 2：IP 地址验证

```dart
void main() {
  RegExp ipExp = RegExp(
    r"^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$",
    caseSensitive: false,
  );

  // 测试 IP 地址
  if (ipExp.hasMatch('192.168.1.2')) {
    print('192.168.1.2 is valid');
  }
}
```

### 示例 3：URL 验证

```dart
void main() {
  RegExp urlExp = RegExp(
    r"(http|ftp|https)://[\w-]+(?:\.[\w-]+)+[\w.,@?^=%&:/~+#-]*",
  );

  // 测试 URL
  String url1 = "https://www.kindacode.com/cat/mobile/flutter/";
  String url2 = "https://kindacode/cat/mobile/flutter/";

  if (urlExp.hasMatch(url1)) {
    print("URL1 is valid");
  } else {
    print("URL1 is invalid");
  }

  // ... 其他测试
}
```

## 正则表达式修饰符

- `caseSensitive`: 是否区分大小写，默认为 `true`。
- `multiLine`: 是否多行模式，默认为 `false`。
- `unicode`: 是否使用 Unicode 字符属性，默认为 `false`。
- `dotAll`: 是否使 `.` 匹配包括换行符在内的任何字符，默认为 `false`。

## 注意事项

- 使用 `r` 前缀表示原始字符串，这样 Dart 不会对字符串中的反斜杠进行转义处理。
- 正则表达式的性能可能因模式复杂度和输入字符串长度而异，应避免在大量数据上使用复杂或潜在低效的正则表达式。

通过这些示例和解释，你应该能够理解如何在 Dart 中使用正则表达式来执行各种字符串匹配和处理任务。
