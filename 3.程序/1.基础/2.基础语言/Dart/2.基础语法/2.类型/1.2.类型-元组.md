# 元组（record）

在 Dart 2.19 及更高版本中引入了元组（Records）这一特性，元组允许将多个不同类型的值组合成一个单一的值，以下是关于 Dart 元组的详细介绍：

## 1. 元组的定义和基本语法

元组通过使用括号 `()` 来定义，其中可以包含任意数量和类型的元素，各元素之间用逗号分隔。

```dart
// 定义一个包含两个整数的元组
var tuple1 = (1, 2);

// 定义一个包含不同类型元素的元组
var tuple2 = (1, 'hello', true);
```

## 2. 具名元组

除了普通元组，Dart 还支持具名元组，即在定义元组时为每个元素指定一个名称。具名元组可以提高代码的可读性。

```dart
// 定义一个具名元组
var person = (name: 'John', age: 30);

// 访问具名元组的元素
print(person.name); // 输出: John
print(person.age);  // 输出: 30
```

## 3. 元组的类型注解

在 Dart 中，可以为元组指定类型注解，明确每个元素的类型。

```dart
// 定义一个包含两个整数的元组，并指定类型注解
(int, int) point = (10, 20);

// 定义一个具名元组，并指定类型注解
({String name, int age}) anotherPerson = (name: 'Jane', age: 25);
```

## 4. 元组的解构

元组解构允许将元组中的元素解包并赋值给单独的变量，方便使用。

### 普通元组解构

```dart
var coordinates = (x: 100, y: 200);
var (x, y) = coordinates;
print(x); // 输出: 100
print(y); // 输出: 200
```

### 具名元组解构

```dart
var personInfo = (name: 'Alice', age: 22);
var (name: personName, age: personAge) = personInfo;
print(personName); // 输出: Alice
print(personAge);  // 输出: 22
```

## 5. 元组作为函数参数和返回值

元组可以作为函数的参数和返回值，方便传递和返回多个值。

### 作为函数参数

```dart
void printPoint((int, int) point) {
  var (x, y) = point;
  print('x: $x, y: $y');
}

void main() {
  var myPoint = (10, 20);
  printPoint(myPoint); // 输出: x: 10, y: 20
}
```

### 作为函数返回值

```dart
(int, int) getCoordinates() {
  return (100, 200);
}

void main() {
  var result = getCoordinates();
  var (x, y) = result;
  print('x: $x, y: $y'); // 输出: x: 100, y: 200
}
```

## 6. 元组的比较

元组可以使用 `==` 运算符进行比较，只有当元组的元素数量、对应位置的元素值以及元素类型都相同时，两个元组才被认为相等。

```dart
var tupleA = (1, 'a');
var tupleB = (1, 'a');
var tupleC = (2, 'b');

print(tupleA == tupleB); // 输出: true
print(tupleA == tupleC); // 输出: false
```

## 7. 注意事项

- **元组是不可变的**：一旦创建，元组的元素不能被修改。
- **元组的长度是固定的**：在创建元组时，元素的数量就已经确定，不能动态添加或删除元素。

通过使用元组，Dart 提供了一种简洁、高效的方式来处理多个相关的值，避免了为简单的数据组合创建自定义类的复杂性。

---

## 示例

代码解释：

```dart
(int, int) swap((int, int) record) {
  var (a, b) = record;
  return (b, a);
}
```

以下是对这段 Flutter 代码的详细解释：

### 代码功能概述

这段代码定义了一个名为 `swap` 的函数，其主要功能是交换传入的元组（record）中两个整数元素的位置，并返回交换后的元组。

### 代码逐行解释

#### 函数定义部分

```dart
(int, int) swap((int, int) record) {
```

- **返回类型**：`(int, int)` 表示该函数返回一个包含两个整数的元组。在 Dart 2.19 及以后的版本中，引入了元组（record）类型，它允许将多个值组合成一个单一的值。
- **函数名**：`swap` 是函数的名称，从命名可以推测出这个函数的作用是进行交换操作。
- **参数**：`(int, int) record` 表示该函数接受一个包含两个整数的元组作为参数，参数名为 `record`。

#### 元组解构部分

```dart
var (a, b) = record;
```

- 这行代码使用了 Dart 的元组解构语法。它将传入的 `record` 元组中的两个元素分别赋值给变量 `a` 和 `b`。具体来说，`record` 中的第一个整数赋值给 `a`，第二个整数赋值给 `b`。

#### 返回部分

```dart
return (b, a);
```

- 这行代码返回一个新的元组，其中新元组的第一个元素是原来 `record` 中的第二个元素 `b`，新元组的第二个元素是原来 `record` 中的第一个元素 `a`。这样就实现了两个元素的交换。

### 示例调用

```dart
void main() {
  var result = swap((1, 2));
  print(result); // 输出: (2, 1)
}
```

在 `main` 函数中，我们调用 `swap` 函数并传入一个包含 `1` 和 `2` 的元组，函数返回交换后的元组 `(2, 1)`，最后使用 `print` 函数将结果输出。

综上所述，这段代码通过使用 Dart 的元组和元组解构特性，实现了一个简单的交换函数。
