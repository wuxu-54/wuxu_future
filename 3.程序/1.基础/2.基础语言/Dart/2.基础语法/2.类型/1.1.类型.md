# 类型

在 Dart 语言中，类型是定义变量、函数参数和返回值的一种方式。Dart 是一种静态类型语言，这意味着在编译时变量的类型就已经确定。然而，Dart 也提供了类型推断，这意味着在很多情况下，你可以省略显式类型声明，因为 Dart 编译器能够根据上下文推断出变量的类型。

下面是dart中的基本类型、常见的类或接口类型：

1. 数值类型
int：表示整数，没有小数部分。
double：表示双精度浮点数，可以有小数部分。

2. 布尔类型 (bool)：
表示逻辑值 true 或 false。

3. 字符串类型 (String)：
表示文本。Dart 中的字符串可以用单引号 ('...')、双引号 ("...") 或三个引号括起来的多行字符串。

4. 空安全类型 (void)：
表示没有值。函数如果没有返回值，其返回类型就是 void。
5. 动态类型 (dynamic)：
Dart 允许你使用 dynamic 关键字声明变量，这样变量可以是任何类型。
6. 函数类型：
Dart 允许你将函数作为一等公民，即**函数可以作为变量存储、作为参数传递给其他函数，以及作为其他函数的返回值**。
7. 集合类型：
List：类似于数组，但可以包含不同类型的元素。
Set：一个不包含重复元素的集合。
Map：键值对集合，也称为字典或哈希表。
8. Future 和 Stream：
用于处理异步编程，Future 表示一个可能还没有完成的计算，而 Stream 表示一个可以有多个异步返回的序列。
9. Nullable types (空值类型)：
Dart 2 引入了空安全特性，允许你指定一个类型是否可以是 null。例如，`int?` 表示一个可以是 `int` 或 `null` 的类型。
10. `FutureOr<T>`：
表示一个未来可能是 `T` 类型或 `Future<T>` 类型的值。
11. Never：
表示那些永不返回的函数的返回类型，例如抛出异常的函数。
12. 自定义类型
Dart 还支持自定义类型，即类（class）。你可以定义自己的类，并使用它们来创建对象。
13. Enum：
枚举，`Enum`是所有枚举的超类。
14. Records：
等同于python的元组（元组：存储数据，有序不可变，一旦创建就不能修改）。官方称为Records

    ```dart
    var record = ('first', a: 2, b: true, 'last');//定义Record类型

    //遍历
    (int, int) swap((int, int) record) {
      var (a, b) = record;
      return (b, a);
    }

    //直接指定类型
    (String, int) record;

    // Initialize it with a record expression:
    record = ('A string', 123);


    //解构
    ({String name, int age}) userInfo(Map<String, dynamic> json)
    final (:name, :age) = userInfo(json);//解构为name，age
    ```

15. Object：
所有class的超类，与java的Object 同一概念
16. 标识符（Symbol）：
Symbol 是一个特殊的类，它用于表示标识符，比如变量名或者类名。Symbol 主要用于反射（reflection）API，允许你在运行时访问和操作代码的元数据。使用`#`创建。
17. Rune：
Rune 是一个表示 Unicode 码点的整数类型。当处理如表情符号这样的特殊字符时，Rune 非常有用。
18. Iterable
Iterable 是个接口，Iterable 接口是 Dart 集合类型的核心，提供了一种统一的方式来处理任何可以迭代的数据集合。
19. 别名
使用`typedef` 可以为某些类型声明一个别名。kotlin、javascript等语言都有这种设计。
20. 泛型
Dart 允许使用**泛型**，这是通过在类型后面加上尖括号 `<...>`来实现的，允许你定义可以操作多种类型的集合和函数。
21. 函数类型
Dart支持函数类型，这可以被看作是方法的一种类型化表示。函数类型允许你定义一个函数的预期行为，包括它的参数和返回值。函数类型在Dart中用`Function`类型和类型参数来表示，例如：

    ```dart
    typedef void MyFunctionType(int a, String b);

    void myFunction(int a, String b) {
      // 实现细节
    }

    void main() {
      MyFunctionType function = myFunction;
    }
    ```

下面是一个 Dart 中类型声明的例子：

```dart
int aNumber = 42;
double aDouble = 3.14;
bool aBool = true;
String aString = 'Hello, World!';
void doSomething() {}

List<String> stringList = ['a', 'b', 'c'];
Set<int> intSet = {1, 2, 3};
Map<String, int> stringToIntMap = {'one': 1, 'two': 2};

dynamic dynamicVar = 'I can be anything!';

var record = ('first', a: 2, b: true, 'last');

//symbol 标识符
class MyClass {
  static const myStaticField = 42;
}
//这里使用 # 进行创建symbol类型变量。
var symbol = #MyClass.myStaticField;
print(symbol.toString()); // 输出: MyClass.myStaticField

//Rune类型
var rune = Rune(0x1F600); // 😊 (grinning face)，Unicode是个笑脸

//别名
typedef IntList = List<int>;
IntList il = [1, 2, 3];

//函数类型
typedef void MyFunctionType(int a, String b);

void myFunction(int a, String b) {
    // 实现细节
}

void main() {
    MyFunctionType function = myFunction;
    function(1,2);//使用
}
```

类型错误会在编译时被捕获，而不是在运行时。这有助于开发者编写更安全、更可靠的代码。
