# 类型系统

1. 静态类型检查和 运行时检查 的组合来确保变量的值始终与变量的静态类型或其他安全类型相匹配。
2. 支持类型推断，分析器 (analyzer) 可以推断字段，方法，局部变量和大多数泛型类型参数的类型。当分析器没有足够的信息来推断出一个特定类型时，会使用 dynamic 作为类型。
3. dart支持隐式类型转换。如支持像java语言中的向上转型，dart里叫**替换类型**。可以使用父类型接收子类型数据。泛型也一样。

    ```dart
    //Animal是Cat的超类，dart支持这种向上转型。
    Animal c = Cat();
    ```

4. 显示类型转换，使用关键字`as`。使用`is`关键字进行类型判断。

    ```dart
    //Animal是Cat的超类，使用as进行显示转换。
    Cat c = Animal() as Cat;

    if(c is Cat){}
    ```

5. 支持有限的集合解构。

## 解构

Dart 语言在 2.12 版本中引入了对集合解构的有限支持，允许你将集合中的值解构为单独的变量。这种解构特别适用于处理键值对集合，如 Map 的条目，或者处理固定大小的列表。

### 解构 Map 条目

当你迭代一个 Map 的条目时，可以使用解构将键和值赋给不同的变量。

```dart
var map = {'a': 1, 'b': 2, 'c': 3};

for (var (key, value) in map.entries) {
  print('$key: $value');
}
```

### 解构固定大小的列表

对于具有确定大小的列表，你可以使用解构将列表中的元素赋给不同的变量。

```dart
var list = ['first', 'second', 'third'];

var (first, second, third) = list;

print('$first, $second, $third'); // 输出: first, second, third
```

### 解构元组（已被移除）

>官网已移除元组，我现在学习的是Records。其他人的博客上介绍Records其实就是元组。

Dart 2.12 引入了对元组的有限支持，允许你将多个值打包进一个单一的复合值。元组可以与解构一起使用。

```dart
import 'dart:tuple';

void main() {
  var tuple = Tuple2('first', 'second');
  var (a, b) = tuple;
  print('$a, $b'); // 输出: first, second
}
```

### 注意事项

Dart 的解构目前仅适用于固定大小的集合，如列表和元组，以及 Map 的条目。
Dart 不支持 JavaScript 中的高级解构特性，如解构参数或使用默认值。
Dart 的解构需要明确指出解构的变量数量，这与集合中的元素数量必须一致。
