# 解构赋值

前面js中已经有写了，这里再描述下

## 解构的部分

在解构中，有下面两部分参与：

* 解构的**源**，解构赋值表达式的右边部分。
* 解构的**目标**，解构赋值表达式的左边部分。

## 数组解构

1. **目标**必须与**源**结构相同，源数据会解构到目标对应位置
2. 在数组的解构中，解构的目标若为可遍历对象，皆可进行解构赋值。可遍历对象即实现 Iterator 接口的数据。
3. 当解构模式有匹配结果，且匹配结果是 undefined 时，会触发默认值作为返回结果。

```javascript
//基本
let [a,b,c] = [1,2,3]//解构为 a = 1,b = 2, c = 3 

//嵌套
let [a,[[b],c]] = [1,[[2],3]]//解构为 a = 1,b = 2, c = 3   这里可以看出，按对应位置解构，不论嵌套多少层

//可忽略
let [a,,c] = [1,2,3] //解构为 a = 1, c = 3 ;解构可以忽略部分内容

//不完全解构
let [a,b] = [1] //解构为 a = 1,b = undefined;同上面，未解构的变量相当于未赋值

//剩余运算符
let [a,...b] = [1,2,3] //解构为 a = 1,b = [2,3]; 剩余运算符[...] 

//字符串
let [a, b, c, d, e] = 'hello';//解构为 a=h,b=e 等;字符串解构 符合第二条

//默认值，源是undefined，目标变量采用默认值
let [a = 2] = [undefined]; // a = 2 ；符合解构第三条
let [a = 3, b = a] = [];     // a = 3, b = 3
let [a = 3, b = a] = [1];    // a = 1, b = 1
let [a = 3, b = a] = [1, 2]; // a = 1, b = 2
```

## 对象模型解构（Object）

1. **目标**必须与**源**结构相同，源数据会解构到目标对应位置。注意：对象模型解构，**变量名**必须相同
2. 当解构模式有匹配结果，且匹配结果是 `undefined` 时，会触发默认值作为返回结果。

```javascript
//基本
let { foo, bar } = { foo: 'aaa', bar: 'bbb' };// foo = 'aaa'  bar = 'bbb'
let { baz : foo } = { baz : 'ddd' };// foo = 'ddd'

//嵌套、可忽略
let obj = {p: ['hello', {y: 'world'}] };
let {p: [x, { y }] } = obj;// x = 'hello'  y = 'world'

let obj = {p: ['hello', {y: 'world'}] };
let {p: [x, {  }] } = obj;// x = 'hello' 

// 不完全解构
let obj = {p: [{y: 'world'}] };
let {p: [{ y }, x ] } = obj;// x = undefined y = 'world'

//剩余运算符
let {a, b, ...rest} = {a: 10, b: 20, c: 30, d: 40};//rest = {c: 30, d: 40}

//默认值
let {a = 10, b = 5} = {a: 3};// a = 3; b = 5;
let {a: aa = 10, b: bb = 5} = {a: 3};// aa = 3; bb = 5;
```

---

## AI

ES6（ECMAScript 2015）引入了解构赋值这一特性，它提供了一种简洁、高效的语法，用于从数组或对象中提取值，并赋值给变量。下面将从数组解构赋值、对象解构赋值、嵌套解构赋值、默认值、剩余参数等方面进行详细介绍。

### 数组解构赋值

#### 基本语法

数组解构赋值允许你按照数组元素的顺序，将数组中的值提取出来并赋值给对应的变量。

```javascript
const arr = [1, 2, 3];
const [a, b, c] = arr;
console.log(a); // 输出: 1
console.log(b); // 输出: 2
console.log(c); // 输出: 3
```

#### 跳过元素

在解构赋值时，可以通过逗号来跳过某些元素。

```javascript
const arr = [1, 2, 3];
const [, second, ] = arr;
console.log(second); // 输出: 2
```

#### 交换变量值

使用解构赋值可以方便地交换两个变量的值，而无需使用临时变量。

```javascript
let x = 1;
let y = 2;
[x, y] = [y, x];
console.log(x); // 输出: 2
console.log(y); // 输出: 1
```

### 对象解构赋值

#### 对象解构赋值基本语法

对象解构赋值通过对象的属性名来提取值并赋值给对应的变量。

```javascript
const person = {
    name: 'John',
    age: 30
};
const { name, age } = person;
console.log(name); // 输出: 'John'
console.log(age); // 输出: 30
```

#### 重命名变量

如果想要使用不同的变量名来接收对象的属性值，可以使用冒号进行重命名。

```javascript
const person = {
    name: 'John',
    age: 30
};
const { name: fullName, age: years } = person;
console.log(fullName); // 输出: 'John'
console.log(years); // 输出: 30
```

### 嵌套解构赋值

#### 嵌套数组解构

当数组中包含其他数组时，可以进行嵌套解构。

```javascript
const nestedArr = [1, [2, 3], 4];
const [first, [second, third], fourth] = nestedArr;
console.log(first); // 输出: 1
console.log(second); // 输出: 2
console.log(third); // 输出: 3
console.log(fourth); // 输出: 4
```

#### 嵌套对象解构

当对象中包含其他对象时，同样可以进行嵌套解构。

```javascript
const user = {
    name: 'John',
    address: {
        city: 'New York',
        zip: '10001'
    }
};
const { name, address: { city, zip } } = user;
console.log(name); // 输出: 'John'
console.log(city); // 输出: 'New York'
console.log(zip); // 输出: '10001'
```

### 默认值

在解构赋值时，可以为变量设置默认值，当对应的值为 `undefined` 时，会使用默认值。

#### 数组解构默认值

```javascript
const arr = [1];
const [first, second = 2] = arr;
console.log(first); // 输出: 1
console.log(second); // 输出: 2
```

#### 对象解构默认值

```javascript
const person = {
    name: 'John'
};
const { name, age = 30 } = person;
console.log(name); // 输出: 'John'
console.log(age); // 输出: 30
```

### 剩余参数

#### 数组剩余参数

使用剩余参数（`...`）可以将数组中剩余的元素收集到一个新的数组中。

```javascript
const arr = [1, 2, 3, 4, 5];
const [first, second, ...rest] = arr;
console.log(first); // 输出: 1
console.log(second); // 输出: 2
console.log(rest); // 输出: [3, 4, 5]
```

#### 对象剩余参数

同样，在对象解构中也可以使用剩余参数将剩余的属性收集到一个新的对象中。

```javascript
const person = {
    name: 'John',
    age: 30,
    city: 'New York',
    zip: '10001'
};
const { name, ...rest } = person;
console.log(name); // 输出: 'John'
console.log(rest); // 输出: { age: 30, city: 'New York', zip: '10001' }
```

### 函数参数解构

解构赋值还可以应用于函数参数，使函数调用更加简洁。

#### 数组参数解构

```javascript
function sum([a, b]) {
    return a + b;
}
const numbers = [1, 2];
console.log(sum(numbers)); // 输出: 3
```

#### 对象参数解构

```javascript
function printInfo({ name, age }) {
    console.log(`Name: ${name}, Age: ${age}`);
}
const person = {
    name: 'John',
    age: 30
};
printInfo(person); // 输出: Name: John, Age: 30
```

解构赋值是 ES6 中非常实用的特性，它可以使代码更加简洁、易读，提高开发效率。通过合理运用解构赋值，可以优化代码结构，减少冗余代码。
