# js 数组

数组原理与java、c、kotlin类似，有序的内存地址。 API 命名不同，增删改查，有不同的位置插入或修改。

数组是引用数据类型，类名为：Array

## Array API

在 JavaScript 里，`Array` 类提供了丰富的 API 用于对数组进行各种操作，以下将从不同操作类型对这些 API 进行详细介绍：

### 数组创建与转换

- **`Array()` / `new Array()`**：
  - 作用：可用于创建数组。当传入单个数值参数时，该参数表示数组的长度；传入多个参数时，这些参数会成为数组的元素。
  - 示例：

```javascript
// 创建长度为 3 的数组
const arr1 = new Array(3); 
// 创建包含元素 1, 2, 3 的数组
const arr2 = Array(1, 2, 3); 
```

- **`Array.of()`**：
  - 作用：创建一个具有可变数量参数的新数组实例，不考虑参数的数量或类型。
  - 示例：

```javascript
const arr = Array.of(1, 'a', true); 
console.log(arr); 
```

- **`Array.from()`**：
  - 作用：从一个类似数组或可迭代对象创建一个新的、浅拷贝的数组实例。
  - 示例：

```javascript
const str = 'hello';
const charArray = Array.from(str); 
console.log(charArray); 
```

### 元素操作

- **`push()`**：
  - 作用：在数组的末尾添加一个或多个元素，并返回新的数组长度。
  - 示例：

```javascript
const arr = [1, 2];
const newLength = arr.push(3, 4); 
console.log(arr); 
console.log(newLength); 
```

- **`pop()`**：
  - 作用：移除数组的最后一个元素，并返回该元素。
  - 示例：

```javascript
const lastElement = arr.pop(); 
console.log(arr); 
console.log(lastElement); 
```

- **`unshift()`**：
  - 作用：在数组的开头添加一个或多个元素，并返回新的数组长度。
  - 示例：

```javascript
const newLength2 = arr.unshift(0); 
console.log(arr); 
console.log(newLength2); 
```

- **`shift()`**：
  - 作用：移除数组的第一个元素，并返回该元素。
  - 示例：

```javascript
const firstElement = arr.shift(); 
console.log(arr); 
console.log(firstElement); 
```

- **`splice()`**：
  - 作用：可用于删除、插入或替换数组中的元素。
  - 示例：

```javascript
const months = ['Jan', 'Mar', 'Apr', 'Jun'];
// 在索引 1 处插入 'Feb'
months.splice(1, 0, 'Feb'); 
console.log(months); 
// 从索引 4 开始删除 1 个元素
months.splice(4, 1); 
console.log(months); 
```

### 数组合并与截取

- **`concat()`**：
  - 作用：用于合并两个或多个数组，返回一个新的数组。
  - 示例：

```javascript
const arrA = [1, 2];
const arrB = [3, 4];
const combined = arrA.concat(arrB); 
console.log(combined); 
```

- **`slice()`**：
  - 作用：返回一个从开始索引到结束索引（不包括结束索引）的新数组，原数组不受影响。
  - 示例：

```javascript
const numbers = [1, 2, 3, 4, 5];
const sliced = numbers.slice(1, 3); 
console.log(sliced); 
```

### 查找与排序

- **`indexOf()`**：
  - 作用：返回指定元素在数组中第一次出现的索引，如果不存在则返回 -1。
  - 示例：

```javascript
const animals = ['dog', 'cat', 'bird'];
const index = animals.indexOf('cat'); 
console.log(index); 
```

- **`lastIndexOf()`**：
  - 作用：返回指定元素在数组中最后一次出现的索引，如果不存在则返回 -1。
  - 示例：

```javascript
const lastIndex = animals.lastIndexOf('cat'); 
console.log(lastIndex); 
```

- **`includes()`**：
  - 作用：判断数组是否包含指定元素，返回布尔值。
  - 示例：

```javascript
const hasDog = animals.includes('dog'); 
console.log(hasDog); 
```

- **`find()`**：
  - 作用：返回数组中满足提供的测试函数的第一个元素的值，否则返回 `undefined`。
  - 示例：

```javascript
const numbers2 = [1, 2, 3, 4, 5];
const found = numbers2.find(num => num > 3); 
console.log(found); 
```

- **`findIndex()`**：
  - 作用：返回数组中满足提供的测试函数的第一个元素的索引，若没有找到则返回 -1。
  - 示例：

```javascript
const index2 = numbers2.findIndex(num => num > 3); 
console.log(index2); 
```

- **`sort()`**：
  - 作用：对数组的元素进行排序，默认按照字符串 Unicode 编码排序。可以传入一个比较函数来指定排序规则。
  - 示例：

```javascript
const unsortedNumbers = [3, 1, 4, 1, 5, 9];
unsortedNumbers.sort(); 
console.log(unsortedNumbers); 
// 使用比较函数按数字大小排序
unsortedNumbers.sort((a, b) => a - b); 
console.log(unsortedNumbers); 
```

- **`reverse()`**：
  - 作用：反转数组中元素的顺序。
  - 示例：

```javascript
const reversed = unsortedNumbers.reverse(); 
console.log(reversed); 
```

### 迭代方法

- **`forEach()`**：
  - 作用：对数组的每个元素执行一次提供的函数。
  - 示例：

```javascript
const numbers3 = [1, 2, 3];
numbers3.forEach((number) => {
    console.log(number);
});
```

- **`map()`**：
  - 作用：创建一个新数组，其结果是该数组中的每个元素都调用一次提供的函数后返回的结果。
  - 示例：

```javascript
const squared = numbers3.map((number) => number * number); 
console.log(squared); 
```

- **`filter()`**：
  - 作用：创建一个新数组，其中包含通过所提供函数实现的测试的所有元素。
  - 示例：

```javascript
const evenNumbers = numbers3.filter((number) => number % 2 === 0); 
console.log(evenNumbers); 
```

- **`reduce()`**：
  - 作用：对数组中的每个元素执行一个由您提供的 reducer 函数，将其结果汇总为单个返回值。
  - 示例：

```javascript
const sum = numbers3.reduce((accumulator, currentValue) => accumulator + currentValue, 0); 
console.log(sum); 
```

- **`reduceRight()`**：
  - 作用：和 `reduce()` 类似，只是从数组的末尾开始处理元素。
  - 示例：

```javascript
const sumRight = numbers3.reduceRight((accumulator, currentValue) => accumulator + currentValue, 0); 
console.log(sumRight); 
```

- **`every()`**：
  - 作用：测试数组的所有元素是否都通过了指定函数的测试，返回布尔值。
  - 示例：

```javascript
const allEven = numbers3.every(num => num % 2 === 0); 
console.log(allEven); 
```

- **`some()`**：
  - 作用：测试数组中是否至少有一个元素通过了指定函数的测试，返回布尔值。
  - 示例：

```javascript
const hasEven = numbers3.some(num => num % 2 === 0); 
console.log(hasEven); 
```

### 其他方法

- **`join()`**：
  - 作用：将数组的所有元素连接成一个字符串，可指定分隔符。
  - 示例：

```javascript
const arr = ['Hello', 'World'];
const str = arr.join(' '); 
console.log(str); 
```

- **`flat()`**：
  - 作用：创建一个新数组，其中所有子数组元素递归地连接到该数组中，直到达到指定的深度。
  - 示例：

```javascript
const nestedArr = [1, [2, [3]]];
const flattened = nestedArr.flat(2); 
console.log(flattened); 
```

- **`flatMap()`**：
  - 作用：首先使用映射函数映射每个元素，然后将结果压缩成一个新数组。
  - 示例：

```javascript
const arr3 = [1, 2, 3];
const result = arr3.flatMap(num => [num * 2]); 
console.log(result); 
```
