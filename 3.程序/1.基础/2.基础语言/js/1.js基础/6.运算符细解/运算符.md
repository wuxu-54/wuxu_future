# 运算符

了解就行

## 运算符类型

* 算数运算符  
加、减、乘、除、取余

* 赋值运算符  
对变量进行赋值的运算符
=、+=、*=、/= %=

* 多元运算符  
有几个操作数，就叫几元运算符

  * 一元运算符  1++  
    * ++ 自增运算符，-- 自减运算符  
    在元素前面叫前置自增或前置自减，变量先执行再被使用；在元素后面叫后置自增或后置自减，变量先使用再被执行
  * 二元运算符  1+1
  * 三元运算符  true？1：2
  
* 比较运算符
类型: >,<,>=,<=,== 判断值相等,=== 判断值和数据类型都相等,!==,!=

* 逻辑运算符  
！非、&& 与、|| 或；

* 其他运算符  
|，&  位运算符，进行数据运算。

## 运算符优先级  

在JavaScript中，运算符的优先级决定了表达式中运算的顺序。以下是一些常见运算符的优先级列表，从最高到最低：

1. **括号** `( )`：最高优先级，用于明确指出运算顺序。

   ```javascript
   (3 + 4) * 5 // 先计算括号内的加法，然后乘法
   ```

2. **一元运算符**：如 `++`、`--`、`+`、`-`、`!`、`~`、`delete`、`typeof`、`void`。

   ```javascript
   ++x // 先自增，再返回值
   ```

3. **乘法和除法** `*`、`/`、`%`：乘法、除法和取模。

   ```javascript
   a * b / c // 先乘法，再除法
   ```

4. **加法和减法** `+`、`-`：加法和减法。

   ```javascript
   a + b - c // 先加法，再减法
   ```

5. **位运算符** `<<`、`>>`、`>>>`：左移、右移和无符号右移。

   ```javascript
   a << b >> c // 先左移，再右移
   ```

6. **关系运算符** `<`、`>`、`<=`、`>=`：比较大小。

   ```javascript
   a < b > c // 先比较 a < b，再比较结果与 c
   ```

7. **相等性运算符** `==`、`!=`、`===`、`!==`：比较相等性。

   ```javascript
   a == b != c // 先比较 a == b，再比较结果与 c
   ```

8. **位运算符** `&`：按位与，`^`：按位异或，`|`：按位或。

   ```javascript
   a & b ^ c // 先按位与，再按位异或
   a ^ b | c // 先按位异或，再按位或
   a | b & c // 先按位或，再按位与
   ```

9. **逻辑非运算符** `!`：逻辑非。

    ```javascript
    !a && b // 先逻辑非，再逻辑与
    ```

10. **逻辑与运算符** `&&`：逻辑与。

    ```javascript
    a && b || c // 先逻辑与，再逻辑或
    ```

11. **逻辑或运算符** `||`：逻辑或。

    ```javascript
    a || b && c // 先逻辑或，再逻辑与
    ```

12. **条件运算符** `? :`：条件表达式。

    ```javascript
    a ? b : c // 先计算条件，再计算表达式
    ```

13. **赋值运算符** `=`、`+=`、`-=`、`*=`、`/=`、`%=`、`<<=`、`>>=`、`>>>=`、`&=`、`^=`、`|=`：赋值。

    ```javascript
    a = b + c // 先加法，再赋值
    ```

14. **逗号运算符** `,`：逗号表达式，用于分隔语句。

    ```javascript
    (a, b) // 先计算 a，再计算 b，返回 b 的值
    ```

在编写复杂的表达式时，建议使用括号来明确指定运算顺序，以避免由于运算符优先级引起的错误。

---

## 赋默认值

js中通过 `||` 逻辑或可以设定默认值。

### JavaScript 角度

在 JavaScript 里，这种代码是很常见的变量赋值语句，使用了逻辑或（`||`）运算符来完成默认值的设定。具体解释如下：

```javascript
let _language = appBaseInfo.language || 'zh_CN';
```

* `appBaseInfo` 是一个对象。

* `appBaseInfo.language` 尝试访问 `appBaseInfo` 对象的 `language` 属性。
* 逻辑或运算符 `||` 会对其左右两侧的值进行判断：
  * 如果 `appBaseInfo.language` 的值为真值（即不是 `false`、`0`、`''`、`null`、`undefined` 或 `NaN`），则将该值赋给变量 `_language`。
  * 如果 `appBaseInfo.language` 的值为假值，那么就会将 `'zh_CN'` 赋给变量 `_language`，也就是将 `'zh_CN'` 作为默认值。

以下是一个简单的 JavaScript 示例：

```javascript
// 情况 1: appBaseInfo.language 有真值
let appBaseInfo = {
    language: 'en_US'
};
let _language = appBaseInfo.language || 'zh_CN';
console.log(_language); // 输出: en_US

// 情况 2: appBaseInfo.language 为假值
appBaseInfo = {
    language: null
};
_language = appBaseInfo.language || 'zh_CN';
console.log(_language); // 输出: zh_CN
```

### TypeScript 角度

TypeScript 是 JavaScript 的一个超集，它扩展了 JavaScript 并添加了静态类型检查。上述代码在 TypeScript 中同样可以使用，因为它本质上就是 JavaScript 代码。不过在 TypeScript 里，你可以为变量和对象属性指定类型，让代码更加严谨。示例如下：

```typescript
// 定义 appBaseInfo 对象的类型
interface AppBaseInfo {
    language?: string;
}

let appBaseInfo: AppBaseInfo = {
    language: 'en_US'
};
let _language: string = appBaseInfo.language || 'zh_CN';
console.log(_language); // 输出: en_US

//@wuxu 补充：其实也可以通过运算符 ?? 实现
let _language2: string = appBaseInfo.language??'zh_CN';
```

在这个 TypeScript 示例中，我们使用接口 `AppBaseInfo` 定义了 `appBaseInfo` 对象的类型，并且指定 `language` 属性为可选的字符串类型。变量 `_language` 也被明确指定为字符串类型。
