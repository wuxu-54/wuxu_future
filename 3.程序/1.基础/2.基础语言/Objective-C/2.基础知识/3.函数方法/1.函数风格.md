# 函数

在Objective-C中，函数（Functions）是执行特定任务的代码块，可以接收输入参数并返回结果。Objective-C的函数主要分为两类：C语言风格的函数和Objective-C的方法。

## C语言风格的函数

1. **定义**：
   使用`returnType`指定返回值类型，后面跟着函数名和参数列表。

   ```c
   int add(int a, int b) {
       return a + b;
   }
   ```

2. **调用**：
   直接使用函数名和参数列表进行调用。

   ```c
   int result = add(5, 3);
   ```

3. **参数**：
   参数在函数定义时指定，可以是任意基本数据类型或指针类型。

4. **返回值**：
   函数根据`returnType`返回相应类型的值。

5. **作用域**：
   函数的作用域限定在函数体内，不能直接访问外部变量，除非使用`extern`关键字或全局变量。

---

## Objective-C风格函数

注意！OC中函数即方法，这里只说其结构。创建使用必须依赖于一个类。

Objective-C 编程语言中方法定义的一般形式如下:

```txt
- (返回值类型) method_name:( 参数1类型 )参数1名称 
联结参数调用命名:( 联结参数类型 )联结参数名称 ... 
联结参数n调用命名:( 联结参数n类型 )联结参数n名称 {
body of the function
}

//使用,OC所有的方法调用必须有中括号：[]
[类或类实例 method_name 参数1类型的值 联结参数调用命名:联结参数类型的值]
```

Objective-C 编程语言中的方法定义由 方法头 和 方法主体 组成。以下是方法的所有部分:

- 返回类型 − 方法可能返回值。return_type 是函数返回值的数据类型。有些方法在不返回值的情况下执行所需的操作。在这种情况下，return_type 就是 void。
- 方法名 − 这是方法的实际名称。方法名称和参数列表共同构成方法签名。
- 参数 − 参数就像占位符。调用函数时，将值传递给参数。该值称为实际参数或参数。参数列表是指方法参数的类型、顺序和数量。参数是可选的；也就是说，方法可能不包含参数。
- 联结参数 − 联接参数是为了使其更易于阅读并在调用时使其清晰明了。
- 方法主体 − 方法主体包含一组语句，这些语句定义了方法的功能。

注意：

1. 第一个参数只有类型和名称
2. 联结参数是从第二个参数开始，多了一个命名参数（指外部调用时指定的名称）。OC独特写法。

### 函数示例

以下是名为 max() 的方法的源代码。该方法采用两个参数 num1 和 num2，并返回两者之间的最大值:

```objc
/* function returning the max between two numbers */
- (int) max:(int) num1 secondNumber:(int) num2 {
  /* local variable declaration */
  int result;
  if (num1 > num2) {
   result = num1;
  } else {
   result = num2;
  }
  return result;
}
```

调用：
>当您在一个源文件中定义方法并在另一个文件中调用该方法时，需要方法声明。在这种情况下，您应该在调用该函数的文件的顶部声明该函数。

```objc
-(int) max:(int)num1 andNum2:(int)num2;
```

---

## Objective-C的方法

说明：Objective-C 所有的函数都是方法，都在类中声明。

1. **定义**：
   方法分为实例方法和类方法。实例方法使用`-`符号定义，类方法使用`+`符号定义。

   ```objc
   @interface MyClass : NSObject
   - (void)instanceMethod;
   + (void)classMethod;
   @end
   ```

2. **实现**：
   使用`@implementation`关键字实现方法。

   ```objc
   @implementation MyClass
   - (void)instanceMethod {
       // 实现细节
   }
   + (void)classMethod {
       // 实现细节
   }
   @end
   ```

3. **调用**：
   实例方法通过对象调用，类方法通过类名调用。

   ```objc
   MyClass *myObject = [[MyClass alloc] init];
   [myObject instanceMethod]; // 调用实例方法
   [MyClass classMethod];    // 调用类方法
   ```

4. **参数和返回值**：
   方法可以有参数和返回值，参数使用冒号`:`分隔。

   ```objc
   - (NSString *)methodWithName:(NSString *)name andAge:(NSUInteger)age;
   ```

5. **内存管理**：
   方法实现时需要考虑Objective-C的内存管理规则，特别是当方法返回对象时。

6. **消息机制**：
   Objective-C的方法调用基于消息机制，即使用对象发送消息。

## 示例

### 示例1：C语言风格的函数

```c
// C函数定义
int multiply(int a, int b) {
    return a * b;
}

int main() {
    int result = multiply(4, 5); // 调用C函数
    printf("Result: %d\n", result);
    return 0;
}
```

### 示例2：Objective-C的实例方法

```objc
// Objective-C类定义
@interface Calculator : NSObject
- (int)multiply:(int)a with:(int)b;
@end

// 类实现
@implementation Calculator
- (int)multiply:(int)a with:(int)b {
    return a * b;
}
@end

// 使用类和方法
int main() {
    Calculator *calculator = [[Calculator alloc] init];
    int result = [calculator multiply:4 with:5]; // 调用实例方法
    printf("Result: %d\n", result);
    return 0;
}
```

### 示例3：Objective-C的类方法

```objc
// 类定义
@interface Utility : NSObject
+ (NSString *)welcomeMessage;
@end

// 类实现
@implementation Utility
+ (NSString *)welcomeMessage {
    return @"Welcome to Objective-C!";
}
@end

// 使用类方法
NSString *message = [Utility welcomeMessage]; // 调用类方法
NSLog(@"%@", message);
```

在Objective-C中，函数和方法是编写可重用代码的重要工具。C语言风格的函数适用于独立的功能实现，而Objective-C的方法则与面向对象编程紧密集成，允许操作对象的状态和行为。
