# 变量与常量

在Objective-C中，变量和常量的概念与许多其他编程语言相似，但具有一些特定的语言特性。以下是Objective-C中变量和常量的详解：
> OC 是C的超集，所以这些基础内容都差不多，设计思想一样，只是写法有些特别

## 变量（Variables）

1. **实例变量**：
   - 实例变量是定义在类接口中的变量，用于存储每个对象的状态信息。

   ```objc
   @interface MyClass : NSObject
   @property (nonatomic, strong) NSString *name;
   @end
   ```

2. **局部变量**：
   - 局部变量是在方法或函数内部定义的变量，它们的作用域仅限于该方法或函数。

   ```objc
   - (void)myMethod {
       NSString *localString = @"Hello, World!";
   }
   ```

3. **全局变量**：
   - 全局变量是在所有函数和类之外定义的变量，它们在整个应用程序中都是可见的。

   ```objc
   NSString *globalString = @"Global string";
   ```

4. **静态变量**：
   - 静态变量是在函数或方法内部定义的变量，它们在函数调用之间保持其值。

   ```objc
   - (void)myMethod {
       static int counter = 0;
       counter++;
       NSLog(@"Counter: %d", counter);
   }
   ```

## 常量（Constants）

1. **实例常量**：
   - 实例常量通常使用`const`关键字定义，它们是只读的并且通常与`@property`一起使用。

   ```objc
   @interface MyClass : NSObject
   @property (nonatomic, readonly) NSString *constantString;
   @end
   ```

2. **类常量**：
   - 类常量是使用`static`关键字定义的，它们在类的所有实例之间共享。

   ```objc
   @interface MyClass : NSObject
   static const CGFloat DefaultValue = 10.0;
   @end
   ```

3. **枚举常量**：
   - 枚举（`enum`）允许你定义一组命名的整数值，这些值通常用作常量。

   ```objc
   typedef NS_ENUM(NSInteger, MyEnum) {
       MyEnumFirstValue,
       MyEnumSecondValue = 2,
       MyEnumThirdValue
   };
   ```

4. **编译时常量**：
   - 编译时常量使用`extern`关键字定义，它们在编译时就已经确定，并且在不同的编译单元中共享。

   ```objc
   // In MyConstants.h
   extern const CGFloat MyConstant;

   // In MyConstants.m
   const CGFloat MyConstant = 20.0;
   ```

## 内存管理

- Objective-C使用引用计数来管理内存，即每个对象都有一个与之相关联的计数器，表示有多少个强引用指向该对象。
- 使用`strong`和`weak`属性修饰符来控制对象的所有权和生命周期。`strong`修饰符会增加对象的引用计数，而`weak`修饰符不会。

## 访问修饰符

- `nonatomic`：指定属性的访问不是原子操作，适用于非线程安全的环境。
- `readwrite`/`readonly`：指定属性是否可以被修改（`readwrite`）或只读（`readonly`）。

## 属性关键字

- `@property`：用于声明属性，可以指定属性的特性，如内存管理方式（`strong`、`weak`、`assign`）和原子性（`atomic`或`nonatomic`）。

在Objective-C中，变量和常量是程序状态和行为的基本组成部分。正确使用变量和常量对于编写清晰、有效和可维护的代码至关重要。
