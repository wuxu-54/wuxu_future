# 集合

Objective-C 中的集合是用于存储对象的容器，提供了灵活的方式来管理和访问元素集合。以下是 Objective-C 中几种主要的集合类型及其详解和示例：

## NSArray

`NSArray` 是一个固定大小的有序集合，存储的对象不允许重复。

### NSArray示例

```objective-c
// 创建NSArray
NSArray *array = @[@"Apple", @"Banana", @"Cherry"];

// 访问元素
NSString *firstItem = array[0]; // 获取第一个元素

// 获取元素数量
NSUInteger count = array.count; // 获取数组中的元素数量

// 遍历数组
for (NSString *item in array) {
    NSLog(@"%@", item);
}

// 检查元素是否存在
BOOL contains = [array containsObject:@"Banana"]; // YES
```

## NSMutableArray

`NSMutableArray` 是 `NSArray` 的可变版本，可以添加、插入、删除元素。

### NSMutableArray示例

```objective-c
// 创建NSMutableArray
NSMutableArray *mutableArray = [NSMutableArray arrayWithObjects:@"Apple", @"Banana", nil];

// 添加元素
[mutableArray addObject:@"Cherry"];

// 插入元素
[mutableArray insertObject:@"Date" atIndex:1];

// 删除元素
[mutableArray removeObject:@"Banana"];
[mutableArray removeObjectAtIndex:0]; // 删除指定索引的元素

// 替换元素
[mutableArray replaceObjectAtIndex:0 withObject:@"Elderberry"];

// 清空数组
[mutableArray removeAllObjects];
```

---

## NSSet

`NSSet` 是一个无序集合，存储的对象不允许重复，但访问速度通常比 `NSArray` 快。

### NSSet示例

```objective-c
// 创建NSSet
NSSet *set = [NSSet setWithObjects:@"Apple", @"Banana", @"Cherry", nil];

// 访问元素
// 注意：NSSet是无序的，不能通过索引访问元素。

// 获取元素数量
NSUInteger count = set.count; // 获取集合中的元素数量

// 遍历集合
for (NSString *item in set) {
    NSLog(@"%@", item);
}

// 检查元素是否存在
BOOL contains = [set containsObject:@"Banana"]; // YES
```

---

## NSMutableSet

`NSMutableSet` 是 `NSSet` 的可变版本，可以添加或删除元素。

### NSMutableSet示例

```objective-c
// 创建NSMutableSet
NSMutableSet *mutableSet = [NSMutableSet setWithObjects:@"Apple", @"Banana", nil];

// 添加元素
[mutableSet addObject:@"Cherry"];

// 删除元素
[mutableSet removeObject:@"Banana"];

// 清空集合
[mutableSet removeAllObjects];
```

## NSDictionary

`NSDictionary` 是一个键值对集合，每个键都是唯一的，并且与一个值相关联。

### NSDictionary示例

```objective-c
// 创建NSDictionary
NSDictionary *dictionary = @{
    @"Name": @"John",
    @"Age": @(30),
    @"Occupation": @"Developer"
};

// 通过键访问值
NSString *name = dictionary[@"Name"]; // 获取键为"Name"的值

// 获取所有键
NSArray *keys = [dictionary allKeys];

// 获取所有值
NSArray *values = [dictionary allValues];

// 检查键是否存在
BOOL containsKey = [dictionary objectForKey:@"Age"]; // YES

// 遍历字典
for (NSString *key in dictionary) {
    id value = [dictionary objectForKey:key];
    NSLog(@"Key: %@, Value: %@", key, value);
}
```

## NSMutableDictionary

`NSMutableDictionary` 是 `NSDictionary` 的可变版本，可以添加、修改、删除键值对。

### NSMutableDictionary示例

```objective-c
// 创建NSMutableDictionary
NSMutableDictionary *mutableDictionary = [NSMutableDictionary dictionaryWithObjectsAndKeys:@"John", @"Name", @(30), @"Age", nil];

// 添加键值对
[mutableDictionary setObject:@"Developer" forKey:@"Occupation"];

// 修改键值对
[mutableDictionary setObject:@"Senior Developer" forKey:@"Occupation"];

// 删除键值对
[mutableDictionary removeObjectForKey:@"Age"];

// 清空字典
[mutableDictionary removeAllObjects];
```

---

## 集合的注意点

- 集合中的元素必须是对象，不能是基本数据类型。
- `NSArray` 和 `NSMutableArray` 存储有序集合，而 `NSSet` 和 `NSMutableSet` 存储无序集合。
- `NSDictionary` 和 `NSMutableDictionary` 存储键值对，键必须是 `NSObject` 的实例，并且不能为 `nil`。
- 集合的遍历通常使用快速枚举（fast enumeration）语法。

集合是 Objective-C 中处理数据集合的重要工具，它们在应用程序开发中广泛使用，特别是在需要存储和管理多个对象时。
