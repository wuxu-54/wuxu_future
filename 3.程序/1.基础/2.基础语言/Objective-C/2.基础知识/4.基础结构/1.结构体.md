# 结构体

在Objective-C中，结构体（Structures）是一种基本的数据类型，用于将多个不同或相同类型的数据项组合成一个单一的复合数据类型。结构体在Objective-C中的使用与传统的C语言相似，主要用于打包数据。

以下是Objective-C中结构体的一些关键概念：

1. **定义结构体**：
   使用`struct`关键字定义结构体，并在其中定义成员变量。

   ```objc
   struct Person {
       NSString *name;
       NSUInteger age;
   };
   ```

2. **创建结构体实例**：
   使用结构体定义来声明变量，并为其成员变量赋值。

   ```objc
   struct Person person = {
       @"John Doe",
       30
   };
   ```

3. **访问结构体成员**：
   使用点（`.`）运算符访问结构体的成员变量。

   ```objc
   NSLog(@"Name: %@", person.name);
   NSLog(@"Age: %lu", (unsigned long)person.age);
   ```

4. **结构体字面量**：
   Objective-C支持使用字面量语法创建结构体实例。

   ```objc
   struct Person anotherPerson = (struct Person){ @"Jane Doe", 25 };
   ```

5. **结构体作为函数参数**：
   可以将结构体作为参数传递给函数，实现数据的传递。

   ```objc
   void printPerson(struct Person p) {
       NSLog(@"Name: %@, Age: %lu", p.name, (unsigned long)p.age);
   }

   printPerson(person);
   ```

6. **结构体作为函数返回值**：
   函数可以返回结构体类型的值。

   ```objc
   struct Person createPerson(NSString *name, NSUInteger age) {
       struct Person p = { name, age };
       return p;
   }

   struct Person newPerson = createPerson(@"Alice", 28);
   ```

7. **结构体与内存管理**：
   如果结构体包含对象类型（如`NSString`、`NSArray`等），则需要考虑内存管理，确保对象被正确地引用计数。

8. **结构体和指针**：
   可以创建指向结构体的指针，并使用指针操作结构体。

   ```objc
   struct Person *personPtr = &person;
   NSLog(@"Name: %@", personPtr->name); // 使用箭头(->)运算符访问成员
   ```

9. **结构体和Objective-C特性**：
   虽然结构体主要用于打包数据，但它们不支持Objective-C的面向对象特性，如继承和方法。

## 示例代码

```objc
// 定义结构体
struct Rectangle {
    double width;
    double height;
};

// 创建结构体实例并初始化
struct Rectangle rect = { 10.0, 20.0 };

// 使用结构体
double area = rect.width * rect.height;
NSLog(@"Area: %f", area);

// 定义包含对象的结构体
struct Person {
    NSString *name;
    NSUInteger age;
};

// 使用字面量创建结构体实例
struct Person person = (struct Person){ @"John Doe", 30 };

// 访问结构体成员
NSLog(@"Name: %@", person.name);
NSLog(@"Age: %lu", (unsigned long)person.age);
```

结构体是Objective-C中一种简单但强大的数据结构，适用于将多个数据项组合成一个单一的复合数据类型。使用结构体可以提高代码的组织性和可读性。
