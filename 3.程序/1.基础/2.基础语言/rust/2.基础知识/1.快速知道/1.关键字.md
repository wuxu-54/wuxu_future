# 关键字

以下是 Rust 语言的关键字大全及其简要说明，按功能分类整理：
>武旭：注意，大模型总结较官方文档有滞后性，具体以官方版本说明为准。

---

## 一、**已使用的关键字** (按功能分类)

### 1. **声明与定义**

- `let`: 声明变量（默认不可变）。
- `mut`: 声明可变变量 (`let mut x = 5`)。
- `const`: 定义常量（必须显式指定类型）。
- `static`: 定义静态变量（全局生命周期）。
- `fn`: 定义函数。
- `struct`: 定义结构体。
- `enum`: 定义枚举。
- `trait`: 定义特征（接口）。
- `impl`: 为类型实现方法或特征。
- `type`: 定义类型别名（如 `type MyInt = i32`）。
- `union`: 定义联合体（不安全类型）。

### 2. **流程控制**

- `if` / `else`: 条件分支。
- `match`: 模式匹配。
- `loop`: 无限循环。
- `while`: 条件循环。
- `for`: 迭代循环（如 `for x in iter`）。
- `break`: 退出循环。
- `continue`: 跳过当前循环迭代。
- `return`: 从函数返回值。
- `in`: 用于 `for` 循环的迭代范围（如 `for i in 0..10`）。

### 3. **类型系统**

- `as`: 类型转换（如 `x as i32`）。
- `dyn`: 动态分发特征对象（如 `Box<dyn Trait>`）。
- `where`: 泛型约束的语法（替代 `<T: Trait>`）。
- `Self`: 表示当前类型（在 `impl` 块中使用）。
- `self` / `&self` / `&mut self`: 方法接收者参数。

### 4. **模块与可见性**

- `mod`: 定义模块。
- `pub`: 公开可见性修饰符。
- `use`: 导入模块或项。
- `crate`: 当前包的根模块。
- `super`: 父模块。
- `extern`: 声明外部函数或库（如 `extern "C"`）。

### 5. **错误处理**

- `panic!`: 触发不可恢复错误。
- `Result`: 用于错误处理的枚举类型。
- `Option`: 用于可选值的枚举类型。
- `?`: 错误传播运算符。

### 6. **并发与异步**

- `async`: 定义异步函数或块。
- `await`: 等待异步操作完成。
- `spawn`: 启动新线程（需导入 `std::thread::spawn`）。

### 7. **内存与安全**

- `unsafe`: 标记不安全代码块。
- `ref`: 模式中绑定引用（如 `let ref x = y`）。
- `move`: 强制闭包获取所有权。
- `drop`: 释放资源（隐式调用，也可显式使用）。

### 8. **宏与元编程**

- `macro_rules!`: 定义声明宏。
- `macro`: 定义过程宏（需在特定上下文中使用）。
- `derive`: 自动派生特征实现（如 `#[derive(Debug)]`）。

### 9. **其他**

- `true` / `false`: 布尔值。
- `if let` / `while let`: 简化模式匹配的语法糖。
- `extern crate`: 引入外部包（Rust 2018 后通常用 `use` 代替）。

---

## 二、**保留关键字**（尚未使用但禁止作为标识符）

- `abstract`
- `become`
- `box`
- `do`
- `final`
- `macro`
- `override`
- `priv`
- `try`
- `typeof`
- `unsized`
- `virtual`
- `yield`
- `async` / `await`（已从保留转为正式关键字）

---

## 三、**特殊符号关键字**

- `'a`: 生命周期标注（如 `&'a str`）。
- `_`: 忽略模式或类型占位符（如 `let _ = 5` 或 `<_>::default()`）。
- `!`: 发散函数（永不返回，如 `fn foo() -> !`）。

---

## 四、**版本新增关键字**

- **Rust 2018+**:
  - `async` / `await`: 异步编程支持。
  - `dyn`: 明确动态分发。
  - `try`: 保留供未来错误处理语法（目前未启用）。

---

## 五、**总结**

- **核心设计思想**：  
  Rust 的关键字强制开发者显式表达意图（如 `mut` 表示可变性，`unsafe` 标记危险操作），确保内存安全和代码清晰。
- **避免冲突**：不要将关键字用作变量名、函数名或模块名。
- **保留关键字**：未来可能扩展功能，需避免使用（如 `sizeof` 可能用于内存操作）。

---

**示例代码片段**：

```rust
// 使用 async/await 的异步函数
async fn fetch_data() -> Result<String, reqwest::Error> {
    let resp = reqwest::get("https://example.com").await?;
    resp.text().await
}

// 模式匹配与生命周期
fn process<'a>(s: &'a str) -> &'a str {
    match s {
        "" => panic!("Empty string"),
        _ => s,
    }
}
```

建议结合 [Rust 官方文档](https://doc.rust-lang.org/std/index.html#keywords) 深入学习每个关键字的具体用法！
