# 符号

在Linux终端和Android `adb shell` 环境中，特殊字符、命令拼接符、管道符和重定向符是高效操作的核心工具。以下是这些符号的统一整合说明，涵盖路径表示、命令组合及数据流向控制：

## 一、路径与文件匹配的特殊字符

这些字符用于简化路径表示或批量匹配文件/目录，在Linux和ADB中用法一致（Android基于Linux内核）。

### 1. 基础路径字符

- **`/`（斜杠）**：  
  - 表示**根目录**（如Linux的`/`、Android的`/`）；  
  - 作为**路径分隔符**，分隔目录层级（如`/home/user`、`/sdcard/DCIM`）。  

- **`.`（点）**：表示**当前目录**，用于指代执行命令时的所在目录。  
  例：`ls ./docs`（列出当前目录下的`docs`子目录内容）、`adb shell ls ./data`（列出设备当前目录下的`data`目录）。  

- **`..`（两个点）**：表示**父目录**（当前目录的上一级），用于向上跳转目录。  
  例：`cd ../..`（向上跳转两级目录）、`adb shell cd /data/app/..`（跳转到`/data`目录）。  

### 2. 用户目录字符

- **`~`（波浪线）**：表示**当前登录用户的家目录**（Linux中常用，ADB中较少）。  
  例：Linux中`cd ~/downloads`等价于`cd /home/user/downloads`；ADB中`~`通常对应`/`或`/root`（视设备用户而定）。  

### 3. 通配符（批量匹配文件/目录）

- **`*`（星号）**：匹配**任意长度的任意字符**（包括0个）。  
  例：`ls *.txt`（列出所有`.txt`文件）、`adb shell rm /sdcard/*.log`（删除`/sdcard`下所有`.log`文件）。  

- **`?`（问号）**：匹配**单个任意字符**。  
  例：`ls file?.jpg`（匹配`file1.jpg`、`fileA.jpg`）、`adb shell ls /data/?og`（匹配`/data/log`、`/data/dog`）。  

- **`[]`（方括号）**：匹配**括号内的任意一个字符**（支持范围表示）。  
  例：`ls img[0-9].png`（匹配`img0.png`到`img9.png`）、`adb shell cp /sdcard/photo[AB].jpg /tmp`（复制`photoA.jpg`和`photoB.jpg`）。  

- **`{}`（花括号）**：生成**多个字符串的组合**（枚举匹配）。  
  例：`mkdir {music,video}`（同时创建`music`和`video`目录）、`adb shell touch /sdcard/{a,b,c}.txt`（创建3个文件）。  

### 4. Android特有路径字符

- **`@`（@符号，Android 10+）**：表示**应用私有目录的沙盒路径**（因存储沙盒机制）。  
  例：`@com.example.app`可能是`/storage/emulated/0/Android/data/com.example.app`的符号链接。  

## 二、命令组合与逻辑控制（拼接符）

用于在一行中执行多个命令，根据前序命令的结果决定是否执行后续命令。

### 1. `;`（分号）：无条件顺序执行  

忽略前一个命令的成功/失败，依次执行所有命令。  
例：  

- Linux：`cd ~/docs; ls; mkdir test`（进入目录→列文件→创建文件夹）。  
- ADB：`adb shell df; adb shell ls /sdcard`（查看存储→列`/sdcard`文件）。  

### 2. `&&`（逻辑与）：前命令成功才执行后命令  

仅当前一个命令退出状态码为`0`（成功）时，执行后一个命令。  
例：  

- Linux：`make && make install`（编译成功后才安装）。  
- ADB：`adb install app.apk && adb shell am start -n com.example.app/.MainActivity`（安装成功后启动应用）。  

### 3. `||`（逻辑或）：前命令失败才执行后命令  

仅当前一个命令退出状态码非`0`（失败）时，执行后一个命令。  
例：  

- Linux：`cat test.txt || touch test.txt`（读取失败则创建文件）。  
- ADB：`adb shell pgrep com.example.app || adb shell am start -n com.example.app/.MainActivity`（进程不存在则启动应用）。  

## 三、管道与重定向（数据流向控制）

用于传递命令输出或控制输入/输出的流向。

### 1. `|`（管道符）：输出转输入  

将前一个命令的**标准输出（stdout）** 作为后一个命令的**标准输入（stdin）**，实现链式处理。  
常用搭配：`grep`（过滤）、`wc -l`（统计行数）、`sort`（排序）、`head`/`tail`（取部分行）。  

例：  

- Linux：`ps aux | grep java | wc -l`（统计Java进程数量）。  
- ADB：`adb shell logcat | grep -i "com.example.app.*error"`（实时过滤应用错误日志）。  

### 2. 重定向符：控制输出/输入流向  

- **`>`（覆盖输出）**：将命令输出写入文件，覆盖原有内容。  
  例：`ls /usr/bin > bin_list.txt`（Linux）、`adb shell ps > processes.txt`（ADB，保存进程列表到电脑）。  

- **`>>`（追加输出）**：将命令输出写入文件，追加到原有内容末尾。  
  例：`echo "新日志：$(date)" >> app.log`（Linux）、`adb shell logcat -d >> app.log`（ADB，追加日志）。  

- **`<`（输入重定向）**：从文件读取输入（而非键盘）。  
  例：`cat < test.txt`（Linux，等价于`cat test.txt`）、`adb shell "cat > /sdcard/note.txt" < input.txt`（ADB，从电脑文件写入设备）。  

## 四、组合使用示例

通过符号组合实现复杂操作：

1. **ADB备份应用数据并处理结果**：  

   ```bash
   adb shell "tar -czf /sdcard/app_data.tar.gz /data/data/com.example.app" && \
   adb pull /sdcard/app_data.tar.gz ./backup/ && \
   echo "备份成功" || echo "备份失败" > error.log
   ```  

   （压缩数据→拉取到电脑→成功提示/失败写入错误日志）

2. **Linux统计内存占用前5的Java进程**：  

   ```bash
   ps aux | grep java | grep -v grep | sort -k4nr | head -n 5
   ```  

   （列出进程→过滤Java进程→排除自身→按内存降序→取前5）

## 总结

| 类别         | 符号/组合       | 核心作用                                  | 典型场景                          |
|--------------|-----------------|-------------------------------------------|-----------------------------------|
| 路径字符     | `/`、`.`、`..`  | 表示目录层级和当前/父目录                 | 快速跳转目录                      |
| 通配符       | `*`、`?`、`[]`  | 批量匹配文件/目录                         | 批量处理文件（删除、复制等）      |
| 命令拼接     | `;`、`&&`、`||` | 组合多个命令，按条件执行                  | 依赖前序命令结果的操作            |
| 管道与重定向 | `|`、`>`、`>>`  | 传递输出、控制输入/输出流向                | 过滤日志、保存结果、链式处理数据  |

这些工具是Linux和ADB命令行高效操作的基础，掌握后可大幅提升批量处理、自动化脚本编写的效率。
