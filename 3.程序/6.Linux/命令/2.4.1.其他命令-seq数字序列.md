# seq

`seq` 是 Linux/Unix 系统中用于 **生成数字序列** 的命令，常用于 shell 脚本中生成连续或指定步长的数字列表，支持自定义格式和分隔符。以下是详细解析：

## 一、基本功能

生成从「起始数」到「结束数」的数字序列，可指定步长（增量），默认生成连续整数（步长为1）。

## 二、语法格式

```bash
seq [选项] [首数] [尾数]       # 步长默认为1（首数不指定时默认为1）
seq [选项] [首数] [增量] [尾数]  # 显式指定步长（增量）
```

- **参数说明**：
  - `首数`：序列的起始数字（默认值：1）；
  - `增量`：相邻数字的差值（默认值：1，可为正数或负数）；
  - `尾数`：序列的结束数字（**必填参数**）；
  - 序列生成规则：从「首数」开始，每次加「增量」，直到数字超过「尾数」（增量为正时）或小于「尾数」（增量为负时）停止。

## 三、常用选项

| 选项 | 功能说明 | 示例 |
|------|----------|------|
| `-f <格式>` | 用 `printf` 风格的格式字符串指定输出格式（如补零、小数等） | `seq -f "%03d" 3 5` → `003 004 005` |
| `-s <分隔符>` | 指定数字之间的分隔符（默认分隔符：换行符 `\n`） | `seq -s " " 1 3` → `1 2 3` |
| `-w` | 使所有数字宽度相同（自动补零对齐，优先级高于 `-f`） | `seq -w 8 10` → `08 09 10` |

## 四、示例用法

### 1. 基础用法（默认参数）

- 只指定「尾数」：从 1 开始，步长 1，到尾数结束  

  ```bash
  seq 5  # 输出：1\n2\n3\n4\n5（每行一个数字）
  ```

- 指定「首数+尾数」：从首数开始，步长 1  

  ```bash
  seq 3 7  # 输出：3\n4\n5\n6\n7
  ```

- 指定「首数+增量+尾数」：自定义步长  

  ```bash
  seq 2 2 10  # 从2开始，每次+2，到10结束 → 2\n4\n6\n8\n10
  seq 10 -3 1  # 从10开始，每次-3，到1结束 → 10\n7\n4\n1
  ```

### 2. 自定义格式（`-f`）

用 `printf` 格式控制数字显示（如 `%d` 整数、`%03d` 三位补零、`%.2f` 两位小数等）：  

```bash
seq -f "num:%03d" 3 5  # 补零至3位 → num:003\nnum:004\nnum:005
seq -f "%.2f" 1 0.5 3  # 小数，步长0.5 → 1.00\n1.50\n2.00\n2.50\n3.00
```

### 3. 自定义分隔符（`-s`）

默认用换行分隔，可指定为空格、逗号等：  

```bash
seq -s " " 1 3  # 空格分隔 → 1 2 3
seq -s "," 5 7  # 逗号分隔 → 5,6,7
seq -s "|" 2 2 8  # 竖线分隔，步长2 → 2|4|6|8
```

### 4. 宽度对齐（`-w`）

自动补零使所有数字宽度相同（适合位数不同的数字）：  

```bash
seq -w 8 11  # 最大数字是11（2位），所以补零至2位 → 08\n09\n10\n11
seq -w 100 102  # 最大数字102（3位）→ 100\n101\n102
```

## 五、典型应用场景

### 1. 在 `for` 循环中生成迭代序列

```bash
# 循环1-5的数字
for i in $(seq 5); do
  echo "循环次数：$i"
done

# 循环10-20，步长5
for num in $(seq 10 5 20); do
  echo "当前数字：$num"  # 输出10、15、20
done
```

### 2. 生成带格式的文件名列表

```bash
# 生成file01.txt到file05.txt
seq -f "file%02d.txt" 1 5  # 输出：file01.txt\nfile02.txt\n...\nfile05.txt
```

### 3. 生成测试数据（如批量创建目录）

```bash
# 创建dir_01到dir_03三个目录
mkdir $(seq -f "dir_%02d" 1 3)
```

## 六、注意事项

1. **增量符号**：若增量为正数，需满足「首数 ≤ 尾数」；若增量为负数，需满足「首数 ≥ 尾数」，否则无输出。  
   示例：`seq 5 2 3`（首数5 > 尾数3，增量为正）→ 无输出。

2. **兼容性**：`seq` 是 GNU 工具，在 Linux 系统中默认可用；macOS 需安装 GNU 版本（`brew install coreutils`，命令为 `gseq`），原生 `seq` 功能有限。

3. **与大括号扩展的区别**：bash 的大括号扩展（如 `{1..5}`）也能生成序列，但 `seq` 支持非整数步长（如 `seq 1 0.5 3`）和格式控制，更灵活。

通过 `seq` 可快速生成各种数字序列，是 shell 脚本中处理循环、批量操作的实用工具。
