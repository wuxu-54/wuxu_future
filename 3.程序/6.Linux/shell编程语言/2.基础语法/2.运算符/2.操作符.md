# 操作符

在Shell编程里，操作符起着至关重要的作用，它能够实现变量比较、算术运算、逻辑运算等多种功能。下面为你介绍一些常见的操作符及其使用示例。

## 一、文件测试操作符

这类操作符用于对文件的状态和类型进行检查。

```bash
[ -e filename ]  # 若文件存在，结果为真
[ -f filename ]  # 若文件为普通文件（非目录、设备文件），结果为真
[ -d filename ]  # 若文件是目录，结果为真
[ -r filename ]  # 若文件可读，结果为真
[ -w filename ]  # 若文件可写，结果为真
[ -x filename ]  # 若文件可执行，结果为真
[ -s filename ]  # 若文件大小不为0，结果为真
[ file1 -nt file2 ]  # 若file1比file2新，结果为真
[ file1 -ot file2 ]  # 若file1比file2旧，结果为真
```

## 二、字符串比较操作符

这些操作符用于比较字符串。

```bash
[ -z string ]  # 若字符串长度为0，结果为真
[ -n string ]  # 若字符串长度不为0，结果为真
[ string1 = string2 ]  # 若两个字符串相等，结果为真
[ string1 != string2 ]  # 若两个字符串不相等，结果为真
```

## 三、整数比较操作符

用于对整数进行比较。

```bash
[ num1 -eq num2 ]  # 若num1等于num2，结果为真
[ num1 -ne num2 ]  # 若num1不等于num2，结果为真
[ num1 -gt num2 ]  # 若num1大于num2，结果为真
[ num1 -ge num2 ]  # 若num1大于等于num2，结果为真
[ num1 -lt num2 ]  # 若num1小于num2，结果为真
[ num1 -le num2 ]  # 若num1小于等于num2，结果为真
```

## 四、逻辑操作符

可用于组合多个条件判断。

```bash
[ condition1 -a condition2 ]  # 逻辑与，两个条件都为真时结果为真
[ condition1 -o condition2 ]  # 逻辑或，两个条件中有一个为真时结果为真
! [ condition ]  # 逻辑非，条件为假时结果为真
```

## 五、算术操作符

支持多种算术运算。

```bash
expr $a + $b  # 加法
expr $a - $b  # 减法
expr $a \* $b  # 乘法（注意要用\转义*）
expr $a / $b  # 除法
expr $a % $b  # 取余
```

也可以使用`$((表达式))`的方式进行算术运算，例如：

```bash
result=$((a + b))  # 计算a和b的和并赋值给result
```

## 六、赋值操作符

用于给变量赋值。

```bash
a=10  # 直接赋值
a=$b  # 将变量b的值赋给a
a=$(command)  # 将命令的执行结果赋给a
```

## 七、文件重定向操作符

能改变命令的输入输出方向。

```bash
command > file  # 将命令的输出重定向到文件（覆盖原有内容）
command >> file  # 将命令的输出重定向到文件（追加到文件末尾）
command < file  # 从文件中读取输入
command << EOF  # 从标准输入读取多行文本，直到遇到EOF标记
```

## 八、管道操作符

```bash
command1 | command2  # 将command1的输出作为command2的输入
```

## 九、示例代码

下面通过一个具体的示例来展示操作符的使用：

```bash
#!/bin/bash

# 定义变量
a=10
b=20
file="/etc/passwd"

# 整数比较
if [ $a -eq $b ]; then
    echo "$a 等于 $b"
else
    echo "$a 不等于 $b"
fi

# 文件测试
if [ -e $file ]; then
    echo "$file 存在"
    if [ -r $file ]; then
        echo "$file 可读"
    fi
else
    echo "$file 不存在"
fi

# 字符串比较
str1="hello"
str2="world"
if [ $str1 = $str2 ]; then
    echo "字符串相等"
else
    echo "字符串不相等"
fi

# 算术运算
sum=$(($a + $b))
echo "和为: $sum"

# 逻辑操作
if [ $a -lt 20 ] -a [ $b -gt 15 ]; then
    echo "两个条件都满足"
fi
```

这个示例综合运用了多种操作符，涵盖了整数比较、文件测试、字符串比较、算术运算和逻辑操作等方面。
