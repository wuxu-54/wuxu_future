
# 字符串

## 定义

Shell默认变量是字符串类型，所以直接赋值即可，也可用单引号或双引号。

```bash
name=123
name1='123'
name2="123"
```

注意：

* 单引号字符串不支持变量引用输出，而双引号支持。也就是单引号无法用`$`

---

## 字符串常见操作

### 定义字符串

```bash
str="Hello, World!"
```

### 获取字符串长度

```bash
len=${#str} # 获取字符串str的长度
```

### 字符串切片（截取）

```bash
sub=${str:1:4} # 从位置1开始截取4个字符，结果是"ello"
```

### 替换字符串

```bash
newstr=${str/World/There} # 将str中的"World"替换为"There"
```

### 拼接字符串

```bash
concatenated=${str}" ""This is a test" # 结果是"Hello, World! This is a test"
```

### 查找字符串位置

```bash
index=${str%%"World"*} # 查找"World"在str中的位置，返回"Hello, "的长度
```

### 字符串比较

```bash
if [[ "$str" == "Hello, World!" ]]; then
    echo "Strings are equal."
fi
```

### 搜索子字符串

```bash
if [[ "$str" == *"World"* ]]; then
    echo "String contains 'World'."
fi
```

### 使用case进行模式匹配

```bash
case "$str" in
    *World*)
        echo "String contains 'World'."
        ;;
    *)
        echo "String does not contain 'World'."
        ;;
esac
```

### 字符串转大写或小写

```bash
uppercase=${str^^} # 全部转为大写
lowercase=${str,,} # 全部转为小写
```

### 去除字符串首尾空白

```bash
trimmed=${str#" "} # 去除开头空白
trimmed=${str%" "} # 去除结尾空白
```

### 使用循环处理字符串

```bash
for ((i=0; i < ${#str}; i++)); do
    echo "${str:$i:1}"
done
```

### 使用内置字符串操作函数

Bash提供了一些内置的字符串操作函数，例如：

```bash
${string:position:length}
${string/substring/replacement}
${string//substring/replacement}
```

### 示例

```bash
echo ${str:7:5} # 输出"World!"

echo ${str/World/Planet} # 输出"Hello, Planet!"

echo ${#str} # 输出13，即字符串的长度

echo ${str%"!"} # 输出"Hello, World"

echo ${str#"Hello"} # 输出", World!"

echo ${str,,} # 输出"hello, world!"

echo ${str^^} # 输出"HELLO, WORLD!"
```

这些是Shell脚本中处理字符串的一些基本操作。在编写脚本时，你可以结合这些操作来实现更复杂的字符串处理逻辑。
