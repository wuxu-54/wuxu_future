# 数组

在Shell脚本中，数组是存储多个值的一种方式。与字符串不同，数组可以存储一系列的值。Bash支持一维数组（也称为向量），并从索引0开始。以下是一些关于Shell数组的基本操作：

## 声明数组

```bash
# 方式1: 逐个指定元素
arr=(element1 element2 element3)

# 方式2: 指定索引和元素
declare -a arr
arr[0]=element1
arr[1]=element2
arr[2]=element3
```

## 访问数组元素

```bash
# 获取单个元素
echo ${arr[0]} # 输出第一个元素

# 获取所有元素
echo ${arr[@]} # 输出所有元素

# 获取数组长度（元素个数）
echo ${#arr[@]} # 输出数组长度
```

## 修改数组元素

```bash
arr[0]=new_element # 修改第一个元素
```

## 遍历数组

```bash
for item in "${arr[@]}"; do
    echo $item
done
```

或者使用C风格的for循环：

```bash
for ((i=0; i < ${#arr[@]}; i++)); do
    echo ${arr[i]}
done
```

## 切片操作

```bash
# 获取从索引1开始的切片
echo ${arr[@]:1}

# 获取长度为2的切片
echo ${arr[@]:0:2}
```

## 拼接数组

```bash
# 追加元素到数组末尾
arr+=(new_element)

# 将数组连接为一个字符串
echo "${arr[*]}" # 使用空格作为分隔符
echo "${arr[@]}"  # 保持数组元素原有的分隔符（如果有）
```

## 删除数组元素

```bash
# 删除索引为1的元素
unset arr[1]

# 删除索引1到2的元素
unset arr[1:2]
```

## 搜索元素

```bash
# 查找元素的索引
index=${arr[@]%%"element_to_find"*}
echo $index # 输出元素的索引，如果找不到则为空
```

## 数组排序

Bash没有内置的排序命令，但可以使用`sort`命令：

```bash
sorted_arr=($(for item in "${arr[@]}"; do echo "$item"; done | sort))
```

## 示例

```bash
# 声明并初始化一个数组
arr=(one two three)

# 输出数组长度
echo "Array length is: ${#arr[@]}"

# 使用 @ 或 * 可以获取数组中的所有元素，例如：
echo "Array elements are: ${arr[@]}"
echo "Array elements are: ${arr[*]}"

# 遍历数组
for item in "${arr[@]}"; do
    echo "Item: $item"
done

# 修改数组中的元素
arr[1]="second"

# 删除数组中的元素
unset arr[0]

# 搜索元素的索引
index_of_two=${arr[@]%%"two"*}
echo "Index of 'two': $index_of_two"
```
