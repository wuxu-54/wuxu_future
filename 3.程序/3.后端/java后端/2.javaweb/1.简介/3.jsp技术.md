
# JSP是啥

JavaServer Pages (JSP) 是一种动态网页技术，它允许开发者在 HTML 中嵌入 Java 代码，用于生成动态内容。JSP 技术由 Sun Microsystems（现在是 Oracle Corporation 的一部分）开发，是 Java EE（现在称为 Jakarta EE）规范的一部分。JSP 使得 Web 应用的开发更加高效，因为它将表示层的逻辑与业务逻辑分离，提高了代码的可维护性和可重用性。

以下是 JSP 技术的一些关键特点：

1. **页面组件**：JSP 页面是一种特殊的 Servlet，它们在服务器端执行，并且可以包含 HTML 标签、Java 代码和 JSP 标签库元素。

2. **动态内容生成**：JSP 允许开发者编写 Java 代码来动态生成网页内容，这些代码在服务器端执行，然后生成的 HTML 被发送到客户端。

3. **标签库**：JSP 支持标签库（Tag Library），这是一种封装 Java 代码的方法，使得 JSP 页面更加简洁和易于维护。

4. **自动处理请求和响应**：JSP 页面自动处理 HTTP 请求和响应对象，开发者可以专注于业务逻辑。

5. **隐藏 Java 代码**：JSP 页面中的 Java 代码在初次请求时被编译成 Servlet，并且通常不会暴露给客户端，这有助于保护应用的安全性。

6. **共享代码**：JSP 页面可以使用 JavaBeans 或其他 Java 类来共享和重用代码。

7. **错误处理**：JSP 提供了错误处理机制，可以在页面级别或应用级别捕获和处理异常。

8. **与 Servlet 集成**：JSP 可以与 Servlet 紧密集成，开发者可以在 JSP 页面中调用 Servlet 中的方法。

9. **事件处理**：JSP 支持事件处理，允许开发者编写响应用户动作（如点击按钮）的代码。

10. **国际化和本地化**：JSP 支持国际化和本地化，可以轻松地为不同地区的用户生成不同语言的网页。

JSP 页面通常以 `.jsp` 扩展名保存，当客户端请求一个 JSP 页面时，服务器会执行其中的 Java 代码，并将结果作为 HTML 发送给客户端。JSP 容器（如 Tomcat）负责处理 JSP 页面的编译、执行和生命周期管理。

JSP 技术适用于需要服务器端处理的 Web 应用程序，如在线商店、内容管理系统、企业信息门户等。然而，随着现代 Web 应用框架（如 Spring MVC、JavaServer Faces (JSF)、Thymeleaf 等）的发展，JSP 技术在一些新的项目中可能不再是首选技术。尽管如此，JSP 仍然是许多现有企业级 Web 应用程序的基础。

## 示例

JSP（JavaServer Pages）技术允许开发者在HTML页面中嵌入Java代码，以创建动态Web内容。以下是一个简单的JSP示例，它展示了如何在Web页面中显示当前日期和时间，以及如何处理简单的表单输入。

## 示例1：显示当前日期和时间

创建一个名为 `currentDateTime.jsp` 的文件，内容如下：

```jsp
<!DOCTYPE html>
<html>
<head>
    <title>Current Date and Time</title>
</head>
<body>
    <h1>Current Date and Time</h1>
    <p>The current date and time is: <%= new java.util.Date() %></p>
</body>
</html>
```

在这个例子中，`<%= new java.util.Date() %>` 是一个表达式，它会被替换为当前日期和时间的字符串表示。

## 示例2：处理表单输入

首先，创建一个名为 `greeting.jsp` 的文件，用于显示问候语：

```jsp
<!DOCTYPE html>
<html>
<head>
    <title>Greeting</title>
</head>
<body>
    <h1>Hello, <%= request.getParameter("name") %>!</h1>
</body>
</html>
```

然后，创建一个名为 `index.html` 的文件，用于提交表单：

```html
<!DOCTYPE html>
<html>
<head>
    <title>Enter Your Name</title>
</head>
<body>
    <form action="greeting.jsp" method="get">
        <label for="name">Enter your name:</label>
        <input type="text" id="name" name="name">
        <input type="submit" value="Submit">
    </form>
</body>
</html>
```

在这个例子中，用户在 `index.html` 页面输入他们的名字，然后提交表单。表单数据通过GET方法发送到 `greeting.jsp` 页面，JSP页面使用 `request.getParameter("name")` 方法获取名字参数，并显示问候语。

## 示例3：使用JSP脚本let处理更复杂的逻辑

创建一个名为 `calculation.jsp` 的文件，用于执行简单的计算：

```jsp
<%@ page import="java.util.*" %>
<!DOCTYPE html>
<html>
<head>
    <title>Simple Calculation</title>
</head>
<body>
    <h1>Simple Calculation</h1>
    <%
        int number1 = 10; // 可以修改这些值或通过请求参数传递
        int number2 = 20;
        int result = number1 + number2;
    %>
    <p>The sum of <%= number1 %> and <%= number2 %> is <%= result %>.</p>
</body>
</html>
```

在这个例子中，我们使用了 `<%@ page import="java.util.*" %>` 指令来导入Java的 `java.util` 包，然后在脚本let（`<% %>`）中执行了一些简单的计算，并将结果嵌入到HTML中。

这些示例展示了JSP技术的基本用法，包括如何在JSP页面中嵌入Java代码、处理请求参数和执行服务器端逻辑。在实际应用中，JSP页面可能会包含更复杂的逻辑和更多的Java代码。
