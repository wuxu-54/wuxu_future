# 定义 SQL 映射的几种方式

MyBatis 主要支持以下几种方式来定义 SQL 映射：

1. **XML 映射文件**：
   - 这是最传统和最常用的方式。在 XML 文件中定义 SQL 语句和映射规则，然后将这些 XML 文件注册到 MyBatis 配置文件中。
   - XML 映射文件提供了极高的灵活性，可以处理复杂的 SQL 查询和动态 SQL。

2. **注解**：
   - 从 MyBatis 3 开始引入，可以直接在 Mapper 接口的方法上使用注解来定义 SQL 语句和映射规则。
   - 注解方式使得代码更加简洁，减少了 XML 配置的冗余，但不适合复杂的 SQL 映射。

3. **XML 和注解混合使用**：
   - 在某些情况下，可以将 XML 映射文件和注解结合使用，以利用各自的优势。

4. **Java 接口默认方法**：
   - 在 Java 8 及以上版本中，可以在 Mapper 接口中定义默认方法，这些方法可以作为 SQL 语句的补充。

5. **动态 SQL**：
   - 可以在 XML 映射文件中使用 MyBatis 提供的动态 SQL 元素（如 `<if>`、`<choose>`、`<when>`、`<foreach>` 等）来构建条件 SQL 语句。

6. **TypeHandler 和 ResultHandler**：
   - 通过自定义 TypeHandler 来处理复杂的数据类型映射。
   - 使用 ResultHandler 来自定义结果集的处理逻辑。

7. **插件**：
   - 通过编写 MyBatis 插件来拦截和修改 SQL 执行过程，实现自定义的 SQL 映射逻辑。

8. **MyBatis-Spring 集成**：
   - 在 Spring 框架中，可以通过 Spring 的配置来集成 MyBatis，使用 Spring 的数据库事务管理。

9. **MyBatis-Spring Boot 集成**：
   - 在 Spring Boot 应用程序中，可以通过自动配置和条件注解来简化 MyBatis 的配置和 SQL 映射。

10. **MyBatis Generator**：
    - 使用 MyBatis Generator 自动生成基于数据库表的 Mapper 接口、XML 映射文件和 Model 类。

通常情况下，XML 映射文件是最为常用的方法，因为它提供了详细的配置和强大的功能。而注解则在简单场景下提供了更简洁的代码风格。在实际开发中，可以根据项目需求和团队习惯选择合适的配置方式。
