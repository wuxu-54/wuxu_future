# 响应常用注解

在 Spring Boot 中，处理 HTTP 响应时常用的注解主要包括以下几种：

## 1. `@ResponseBody`

这个注解用于将方法的返回值作为 HTTP 响应的正文发送。通常与 `@RequestMapping`、`@GetMapping`、`@PostMapping` 等注解一起使用。

```java
@RestController
public class MyController {

    @ResponseBody
    @GetMapping("/hello")
    public String sayHello() {
        return "Hello, World!";
    }
}
```

在 `@RestController` 注解的类中，所有方法的返回值默认都会通过 `@ResponseBody` 处理。

## 2. `@ResponseStatus`

这个注解用于设置 HTTP 响应的状态码。它可以用于方法或异常类上。

```java
@RestController
public class MyController {

    @ResponseStatus(HttpStatus.NOT_FOUND)
    @GetMapping("/notFound")
    public String notFound() {
        return "Resource not found";
    }
}
```

## 3. `@GetMapping`, `@PostMapping`, `@PutMapping`, `@DeleteMapping`, `@PatchMapping`

这些注解用于映射 HTTP 请求到特定的处理器方法，并隐式地将方法返回值作为响应正文。

```java
@GetMapping("/users/{id}")
public User getUserById(@PathVariable Long id) {
    // 返回用户信息
}
```

## 4. `@ResponseBody` 结合 `ResponseEntity`

`ResponseEntity` 用于更细致地控制响应，包括状态码、响应头和响应体。

```java
@GetMapping("/users/{id}")
public ResponseEntity<User> getUserById(@PathVariable Long id) {
    User user = userService.findUserById(id);
    if (user == null) {
        return ResponseEntity.notFound().build();
    }
    return ResponseEntity.ok(user);
}
```

## 5. `@ExceptionHandler`

用于定义特定异常的处理方法，并返回相应的响应。

```java
@RestController
public class MyController {

    @ExceptionHandler(UserNotFoundException.class)
    public ResponseEntity<String> handleUserNotFound(UserNotFoundException ex) {
        return ResponseEntity.status(HttpStatus.NOT_FOUND).body(ex.getMessage());
    }
}
```

## 6. `@ControllerAdvice`

与 `@ExceptionHandler` 结合使用，用于全局异常处理。

```java
@ControllerAdvice
public class GlobalExceptionHandler {

    @ExceptionHandler(Exception.class)
    public ResponseEntity<String> handleException(Exception ex) {
        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(ex.getMessage());
    }
}
```

## 7. `@ResponseBody` 结合自定义类型

当返回值是自定义类型时，Spring Boot 会自动将对象序列化为 JSON 格式的响应体。

```java
@GetMapping("/users")
public List<User> getAllUsers() {
    // 返回用户列表
}
```

Spring Boot 默认使用 Jackson 库进行 JSON 序列化。

## 8. `@ResponseStatus` 结合自定义异常

在自定义异常类上使用 `@ResponseStatus` 注解，可以指定异常对应的 HTTP 状态码。

```java
@ResponseStatus(value = HttpStatus.FORBIDDEN, reason = "Access Denied")
public class AccessDeniedException extends RuntimeException {
    // ...
}
```

这些注解帮助开发者在 Spring Boot 应用中灵活地构建和控制 HTTP 响应。
