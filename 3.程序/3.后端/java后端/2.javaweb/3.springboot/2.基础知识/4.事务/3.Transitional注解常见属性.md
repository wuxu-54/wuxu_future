# @Transactional常见属性

在 Spring 框架中，`@Transactional` 注解用于声明事务管理，它提供了多个属性来配置事务的不同方面。以下是一些常见的属性：

1. **value** 或 **transactionManager**：
   - 指定事务管理器的名称，当有多个事务管理器时使用。

2. **propagation**：
   - 定义事务的传播行为，如 `REQUIRED`、`REQUIRES_NEW`、`SUPPORTS`、`NOT_SUPPORTED` 等。

3. **isolation**：
   - 指定事务的隔离级别，如 `READ_COMMITTED`、`READ_UNCOMMITTED`、`REPEATABLE_READ`、`SERIALIZABLE`。

4. **timeout** 或 **timeoutString**：
   - 指定事务的超时时间，可以是整数（秒为单位）或字符串形式。

5. **readOnly**：
   - 指定事务是否为只读事务，这通常可以提供性能优化。

6. **rollbackFor**：
   - 指定哪些异常会导致事务回滚，可以是异常类或其数组。

7. **rollbackForClassName**：
   - 指定哪些异常类的名称（完全限定名）会导致事务回滚。

8. **noRollbackFor**：
   - 指定哪些异常不会导致事务回滚。

9. **noRollbackForClassName**：
   - 指定哪些异常类的名称（完全限定名）不会导致事务回滚。

10. **label**：
    - 提供一个可选的表达式，用于描述事务的语义。

11. **transactional**：
    - 一个布尔值，用于启用或禁用注解的事务管理。默认为 `true`。

12. **phase**：
    - 指定事务的执行阶段，如 `BEFORE_COMMIT`、`AFTER_COMMIT`。

以下是一些示例配置：

```java
@Transactional(readOnly = true)
public List<User> findAllUsers() {
    // ...
}

@Transactional(propagation = Propagation.REQUIRES_NEW, isolation = Isolation.SERIALIZABLE)
public void createAndModifyUser(User user) {
    // ...
}

@Transactional(rollbackFor = Exception.class)
public void updateUser(User user) {
    // ...
}

@Transactional(noRollbackFor = {NoRollbackException.class})
public void processWithCustomNoRollback() {
    // ...
}
```

在使用 `@Transactional` 注解时，应根据实际业务需求选择合适的属性值。例如，对于需要修改数据的操作，可以使用 `REQUIRES_NEW` 传播行为来确保操作在一个新的事务中执行。对于只读取数据的操作，可以设置 `readOnly = true` 来提高性能。
