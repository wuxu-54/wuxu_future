# 配置

在 Spring Boot 项目中，`application.properties` 或 `application.yml` 文件用于配置应用程序的各种属性和设置。这些配置文件允许开发者自定义应用程序的行为，例如数据库连接、服务器端口、日志设置等。

## 1. `application.properties` 示例

```properties
# 服务器端口
server.port=8080

# 应用名称
spring.application.name=my-spring-boot-app

# 数据库配置
spring.datasource.url=jdbc:mysql://localhost:3306/mydb
spring.datasource.username=root
spring.datasource.password=yourpassword
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA 配置
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# 日志配置
logging.level.root=INFO
logging.level.org.springframework=DEBUG

# 自定义属性
my.custom.property=value
```

## 2. `application.yml` 示例

```yaml
server:
  port: 8080

spring:
  application:
    name: my-spring-boot-app
  datasource:
    url: jdbc:mysql://localhost:3306/mydb
    username: root
    password: yourpassword
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true

logging:
  level:
    root: INFO
    org.springframework: DEBUG

my:
  custom:
    property: value
```

## 3. 常用配置项

- **服务器配置**：
  - `server.port`：设置应用程序的 HTTP 端口。
  - `server.servlet.context-path`：设置应用程序的上下文路径。

- **数据源配置**：
  - `spring.datasource.url`：数据库连接 URL。
  - `spring.datasource.username`：数据库用户名。
  - `spring.datasource.password`：数据库密码。
  - `spring.datasource.driver-class-name`：数据库驱动类名。

- **JPA/Hibernate 配置**：
  - `spring.jpa.hibernate.ddl-auto`：设置数据库模式生成策略（如 `none`, `update`, `create`, `create-drop`）。
  - `spring.jpa.show-sql`：是否显示 SQL 语句。

- **日志配置**：
  - `logging.level.root`：设置根日志级别。
  - `logging.level.<logger>`：设置特定日志记录器的日志级别。

- **自定义配置**：
  - 可以定义自定义的配置属性，例如 `my.custom.property`，并在代码中使用 `@Value` 注解或 `@ConfigurationProperties` 类来访问这些属性。

## 4. 访问配置属性

在 Spring Boot 中，你可以通过以下方式访问配置属性：

- **使用 `@Value` 注解**：

```java
import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;

@Component
public class MyComponent {

    @Value("${my.custom.property}")
    private String customProperty;

    // 使用 customProperty
}
```

- **使用 `@ConfigurationProperties` 注解**：

```java
import org.springframework.boot.context.properties.ConfigurationProperties;
import org.springframework.stereotype.Component;

@Component
@ConfigurationProperties(prefix = "my")
public class MyProperties {

    private String customProperty;

    // Getter and Setter
}
```

## 5. 配置文件的优先级

Spring Boot 支持多种配置文件，优先级如下：

1. `application.properties` 或 `application.yml`
2. `application-{profile}.properties` 或 `application-{profile}.yml`（如 `application-dev.properties`）
3. 命令行参数
4. 环境变量
5. Java 系统属性

通过合理配置 `application.properties` 或 `application.yml` 文件，开发者可以灵活地管理 Spring Boot 应用程序的行为和特性。

## 补充

1. 支持java系统属性和命令行参数进行配置。（知道就行）
2. 配置优先级：命令行参数>java系统属性>.properties>.yml>.yaml
