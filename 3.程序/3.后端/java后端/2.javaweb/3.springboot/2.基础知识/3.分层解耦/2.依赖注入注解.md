# 依赖注入注解

在 Java 中，IoC（控制反转）和依赖注入（DI）是 Spring 框架的核心概念，它们通过注解和配置文件来实现。以下是一些常用的与 IoC 和依赖注入相关的注解：

## 1. `@Autowired`

用于自动注入依赖的组件。Spring 容器在创建对象时，会自动注入匹配的 bean。

```java
@Autowired
private MyService myService;
```

## 2. `@Inject`

这是 Java CDI（Contexts and Dependency Injection）规范的一部分，也可以在 Spring 中使用，与 `@Autowired` 类似。

```java
@Inject
private MyService myService;
```

## 3. `@Resource`

用于按名称自动注入依赖的组件，可以通过名称匹配 bean。

```java
@Resource(name = "myService")
private MyService myService;
```

## 4. `@Qualifier`

当有多个相同类型的 bean 时，与 `@Autowired` 结合使用来指定具体的 bean。

```java
@Autowired
@Qualifier("myService")
private MyService myService;
```

## 5. `@Component`

标记一个类作为 Spring 管理的组件，通常用于 POJO 类。

```java
@Component
public class MyService {
    // ...
}
```

## 6. `@Service`

用于标记服务层的组件，是 `@Component` 的特化。

```java
@Service
public class MyServiceImpl implements MyService {
    // ...
}
```

## 7. `@Repository`

用于标记数据访问组件，是 `@Component` 的特化。

```java
@Repository
public class MyRepository {
    // ...
}
```

## 8. `@Controller`

用于标记控制层的组件，是 `@Component` 的特化。

```java
@Controller
public class MyController {
    // ...
}
```

## 9. `@Configuration`

用于定义配置类，可以替代传统的 XML 配置文件。

```java
@Configuration
public class AppConfig {
    // ...
}
```

## 10. `@Bean`

在配置类中使用，用于声明一个 bean。（这是配置第三方框架中的bean）

```java
@Configuration
public class AppConfig {
    @Bean
    public MyService myService() {
        return new MyServiceImpl();
    }

      @Bean
    public MyService myService(Test test) {// 如果依赖其他的类如Test，ioc框架会自动装配，将Test类的实例注入到这里
        System.out.println(test);
        return new MyServiceImpl();
    }
}
```

## 11. `@Scope`

用于指定 bean 的作用域，如 `singleton`、`prototype` 等。

```java
@Component
@Scope("prototype")
public class MyService {
    // ...
}
```

## 12. `@Lazy`

用于延迟加载 bean，只有在第一次使用时才创建。

```java
@Autowired
@Lazy
private MyService myService;
```

## 13. `@Primary`

当有多个同类型的 bean 时，指定优先使用哪个 bean。

```java
@Service
@Primary
public class MyPrimaryService {
    // ...
}
```

## 14. `@DependsOn`

指定 bean 创建的顺序，确保某个 bean 在依赖它的 bean 之前创建。

```java
@Component
@DependsOn("myService")
public class MyComponent {
    // ...
}
```

这些注解是 Spring IoC 容器管理 bean 和依赖注入的基础，它们使得开发者可以以声明式的方式配置和使用组件。
