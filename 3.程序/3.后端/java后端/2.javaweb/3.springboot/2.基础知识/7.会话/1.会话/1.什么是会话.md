# 什么是会话

在 Java Web 应用中，会话（Session）是指在用户与服务器之间建立的一种持久的交互状态。由于 HTTP 协议本身是无状态的，即每次请求都是独立的，服务器无法识别前后请求是否来自同一个用户。为了在多个页面或请求之间维持用户的状态，就需要使用会话跟踪技术。

会话允许 Web 应用在多个页面请求或访问之间保持用户的状态信息。这使得 Web 应用能够记住用户的行为和偏好，例如用户登录状态、购物车内容、用户个性化设置等。

以下是会话的一些关键特点：

1. **唯一性**：每个用户会话都有一个唯一的标识符，通常是一个会话 ID（Session ID）。

2. **持久性**：会话可以在用户与 Web 应用交互期间持续存在。

3. **跨请求**：会话允许在多个请求之间共享数据。

4. **存储**：会话可以在服务器端存储用户的状态信息，如用户信息、用户偏好、购物车对象等。

5. **安全性**：会话可以包含敏感信息，如用户的登录状态，因此需要确保会话的安全。

在 Java Web 应用中，会话通常通过以下方式实现：

1. **使用 HttpSession 对象**：
   - `HttpSession` 是 Java Servlet API 提供的接口，用于在服务器端跟踪会话。
   - 每个用户会话都与一个唯一的 `HttpSession` 对象关联，可以存储用户的状态信息。

2. **存储数据到会话中**：
   - 通过 `HttpSession` 对象的 `setAttribute` 方法存储数据。
   - 通过 `getAttribute` 方法从会话中获取数据。

3. **管理会话**：
   - 可以通过 `HttpSession` 对象的 `invalidate` 方法使会话失效。

4. **会话超时**：
   - 会话可以设置超时时间，当用户一段时间内没有活动时，会话会自动失效。

5. **会话跟踪**：
   - 会话通常通过 Cookie 实现跟踪，服务器会在用户的浏览器上设置一个包含会话 ID 的 Cookie。

6. **无状态协议中的会话**：
   - 在无状态的 HTTP 协议中，会话允许服务器识别并保持与特定用户之间的连续交互。

7. **jwt令牌技术（主流）**：
   - 设定jwt加密数据，即token，在请求头里填入，服务端解析并判断是否有效。不受Cookie兼容问题限制。

会话管理是 Web 应用开发中的一个基础概念，它对于创建动态、交互式的 Web 应用至关重要。通过使用会话，开发者可以为用户提供更加丰富和个性化的体验。
