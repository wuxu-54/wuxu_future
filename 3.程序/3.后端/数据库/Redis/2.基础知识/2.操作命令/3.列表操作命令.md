# 列表操作命令

Redis 列表（List）操作命令丰富多样，以下是对这些命令的详细归纳：

## 一、基础操作命令

1. **LPUSH**

   * **功能**：将一个或多个值插入到列表头部。
   * **语法**：LPUSH key value1 [value2]
   * **返回值**：插入后列表的长度。

2. **RPUSH**

   * **功能**：将一个或多个值插入到列表尾部。
   * **语法**：RPUSH key value1 [value2]
   * **返回值**：插入后列表的长度。

3. **LPOP**

   * **功能**：从列表头部弹出并移除一个或多个元素。
   * **语法**：LPOP key [count] （Redis 6.2及以后版本支持可选的count参数）
   * **返回值**：被弹出的元素。当count未指定时，返回被弹出的单个元素；当count指定时，返回一个包含被弹出元素的列表。如果列表为空，则返回nil。

4. **RPOP**

   * **功能**：从列表尾部弹出一个或多个元素（Redis 6.2及以后版本支持可选的count参数）。
   * **语法**：RPOP key [count]
   * **返回值**：与LPOP类似，根据count参数返回被弹出的元素或nil。

5. **LLEN**

   * **功能**：获取Redis列表的长度。
   * **语法**：LLEN key
   * **返回值**：列表的长度。如果列表不存在，则返回0。

6. **LRANGE**

   * **功能**：获取Redis列表中指定范围内的元素。
   * **语法**：LRANGE key start stop
   * **返回值**：一个列表，包含指定区间内的元素。

### 二、高级操作命令

1. **LPUSHX**

   * **功能**：将一个或多个元素插入到已存在的列表头部。如果列表不存在，则操作无效。
   * **语法**：LPUSHX key value1 [value2]
   * **返回值**：插入后列表的长度。

2. **RPUSHX**

   * **功能**：将一个或多个元素插入到已存在的列表尾部。如果列表不存在，则操作无效。
   * **语法**：RPUSHX key value1 [value2]
   * **返回值**：插入后列表的长度。

3. **LSET**

   * **功能**：设置列表中指定索引位置的元素值。
   * **语法**：LSET key index value
   * **返回值**：操作成功返回"ok"，否则返回错误信息。

4. **LINDEX**

   * **功能**：获取列表中指定索引的元素。
   * **语法**：LINDEX key index
   * **返回值**：列表中下标为指定索引值的元素。如果指定索引值不在列表的区间范围内，返回nil。

5. **LREM**

   * **功能**：从列表中移除指定数量的与给定值相等的元素。
   * **语法**：LREM key count value
   * **返回值**：被移除元素的数量。

6. **LTRIM**

   * **功能**：保留列表中指定范围内的元素，并删除其他元素。
   * **语法**：LTRIM key start stop
   * **返回值**：操作成功时返回"ok"。

7. **LINSERT**

   * **功能**：在列表中插入新元素的命令，它允许在指定元素之前或之后插入新值。
   * **语法**：LINSERT key BEFORE|AFTER pivot value
   * **返回值**：如果命令执行成功，返回插入操作完成之后列表的长度。如果没有找到指定元素，返回-1。如果key不存在或为空列表，返回0。

### 三、阻塞操作命令

1. **BLPOP**

   * **功能**：移出并获取列表的第一个元素，如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。
   * **语法**：BLPOP key1 [key2] timeout
   * **返回值**：如果列表为空，返回一个nil。否则，返回一个含有两个元素的列表，第一个元素是被弹出元素所属的key，第二个元素是被弹出元素的值。

2. **BRPOP**

   * **功能**：移出并获取列表的最后一个元素，如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。
   * **语法**：BRPOP key1 [key2] timeout
   * **返回值**：假如在指定时间内没有任何元素被弹出，则返回一个nil和等待时长。反之，返回一个含有两个元素的列表，第一个元素是被弹出元素所属的key，第二个元素是被弹出元素的值。

3. **BRPOPLPUSH**

   * **功能**：从列表中弹出一个值，将弹出的元素插入到另外一个列表中并返回它；如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。
   * **语法**：BRPOPLPUSH source destination timeout
   * **返回值**：弹出的元素。

这些命令为Redis列表提供了丰富的操作手段，可以满足各种应用场景的需求。在实际使用中，应根据具体需求选择合适的命令，并注意命令的效率和性能影响。
