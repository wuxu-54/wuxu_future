# 常用数据类型

Redis 支持多种数据类型，以满足不同场景下的数据存储需求。以下是 Redis 支持的主要数据类型及其相关介绍：

## 一、基础数据类型

1. **String（字符串）**

    * **简介**：String 是 Redis 最基础的数据类型，其值可以是简单的字符串、复杂的字符串（如 XML、JSON）、数字（整数、浮点数）以及二进制数据（如图片、音频、视频）。
    * **底层数据结构**：简单动态字符串（SDS）。SDS 相比于 C 语言的原生字符串，具有获取字符串长度时间复杂度为 O(1)、修改字符串时避免缓冲区溢出等优点。
    * **使用场景**：简单字符缓存、分布式锁、计数功能等。

2. **Hash（哈希）**

    * **简介**：Hash 是无序的键值对集合，类似于 Java 中的 HashMap。
    * **底层数据结构**：压缩列表或哈希表。当哈希对象保存的键值对内的键和值字符串长度小于一定值时，使用压缩列表编码；否则，使用哈希表编码。
    * **使用场景**：存储对象等。

3. **List（列表）**

    * **简介**：List 是一个双向链表数据结构，支持前后顺序遍历。链表结构插入和删除操作快，时间复杂度为 O(1)，但查询操作的时间复杂度为 O(n)。
    * **底层数据结构**：双向链表或压缩列表。当字符串长度及元素个数小于一定范围时，使用压缩列表编码；否则，转化为双向链表编码。
    * **使用场景**：实现栈、队列、消息队列（不推荐使用 Redis 做消息队列）、列表缓存等。

4. **Set（集合）**

    * **简介**：Set 是一个无序的、唯一的键值对集合，类似于 Java 中的 HashSet。
    * **底层数据结构**：整数数组或哈希表。当保存元素为整数且元素个数小于一定范围时，使用整数数组编码；否则，使用哈希表编码。
    * **使用场景**：标签、社交、查询有共同兴趣爱好的人、智能推荐、抽奖、朋友圈点赞等。

5. **Zset（有序集合）**

    * **简介**：Zset 是一个有序集合，通过权重（score）来对集合中的元素进行排序。它类似于 Java 中的 SortedSet 和 HashMap 的结合体。
    * **底层数据结构**：压缩列表或跳表。当 zset 对象中保存的元素个数小于及成员长度小于一定值时，使用压缩列表编码；否则，使用跳表编码。
    * **使用场景**：排名场景等。

## 二、特殊数据类型（Redis 版本更新后新增）

1. **BitMap（位图）**

    * **简介**：BitMap 是一个以位为单位的数组，可以用来实现一些位级别的操作，如设置、清除、获取某一位的值等。
    * **使用场景**：统计用户签到情况、统计活跃用户等。

2. **HyperLogLog（基数统计）**

    * **简介**：HyperLogLog 是一种用于基数估计的算法，它可以在误差可控的情况下，使用较少的内存来统计一个集合中不同元素的数量。
    * **使用场景**：统计网站独立访客数量、统计用户行为数据等。

3. **GEO（地理空间）**

    * **简介**：GEO 是 Redis 提供的一种用于处理地理空间数据的数据类型，它支持存储地理位置信息（如经纬度），并可以进行地理空间相关的查询操作，如计算两点之间的距离、查找某个点附近的点等。
    * **使用场景**：定位服务、附近的人或地点查询等。

4. **Stream（流）**

    * **简介**：Stream 是 Redis 5.0 版本新增的一种数据类型，它用于处理日志或消息队列等场景。Stream 提供了消息的持久化、消费者组、消息确认等机制。
    * **使用场景**：日志收集、消息队列等。

综上所述，Redis 提供了丰富的数据类型以满足不同场景下的数据存储需求。用户可以根据具体的应用场景选择合适的数据类型来存储数据。
