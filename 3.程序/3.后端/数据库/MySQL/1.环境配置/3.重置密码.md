# 重置密码

在 MySQL 中忘记密码可以通过不同的方式来解决，下面分别介绍在 Windows 和 Linux 系统下重置 MySQL 密码的方法。

## Windows 系统

### 步骤 1：停止 MySQL 服务

可以通过以下两种方式停止 MySQL 服务：

- **服务管理器**：按下 `Win + R` 组合键，输入 `services.msc` 打开服务管理器，找到 MySQL 服务，右键选择“停止”。
- **命令行**：以管理员身份打开命令提示符，执行以下命令：

```bash
net stop mysql
```

### 步骤 2：以跳过权限验证的方式启动 MySQL

在命令提示符中，进入 MySQL 的安装目录下的 `bin` 文件夹，例如：

```bash
cd C:\Program Files\MySQL\MySQL Server 8.0\bin
```

然后执行以下命令以跳过权限验证的方式启动 MySQL：

```bash
mysqld --skip-grant-tables
```

此时命令提示符会一直处于运行状态，不要关闭该窗口。

### 步骤 3：打开新的命令提示符并登录 MySQL

以管理员身份打开一个新的命令提示符，进入 MySQL 的 `bin` 目录，执行以下命令登录 MySQL：

```bash
mysql -u root
```

### 步骤 4：重置密码

在 MySQL 命令行中，依次执行以下命令来重置密码：

```sql
-- 刷新权限表
FLUSH PRIVILEGES;
-- 修改 root 用户的密码，这里将密码设置为 new_password，你可以根据需要修改
ALTER USER 'root'@'localhost' IDENTIFIED BY 'new_password';
```

### 步骤 5：重启 MySQL 服务

关闭之前以跳过权限验证方式启动 MySQL 的命令提示符窗口，然后在新的命令提示符中执行以下命令启动 MySQL 服务：

```bash
net start mysql
```

## Linux 系统

### Linux 系统步骤 1：停止 MySQL 服务

根据不同的 Linux 发行版，使用以下命令停止 MySQL 服务：

- **Systemd 系统（如 CentOS 7+、Ubuntu 16.04+）**：

```bash
sudo systemctl stop mysql
```

- **SysVinit 系统（如 CentOS 6）**：

```bash
sudo service mysql stop
```

### Linux 系统步骤 2：以跳过权限验证的方式启动 MySQL

执行以下命令以跳过权限验证的方式启动 MySQL：

```bash
sudo mysqld_safe --skip-grant-tables &
```

`&` 符号表示让该命令在后台运行。

### Linux 系统步骤 3：登录 MySQL

执行以下命令登录 MySQL：

```bash
mysql -u root
```

### Linux 系统步骤 4：重置密码

在 MySQL 命令行中，依次执行以下命令来重置密码：

```sql
-- 刷新权限表
FLUSH PRIVILEGES;
-- 修改 root 用户的密码，这里将密码设置为 new_password，你可以根据需要修改
ALTER USER 'root'@'localhost' IDENTIFIED BY 'new_password';
```

### Linux 系统步骤 5：重启 MySQL 服务

先使用 `ps -ef | grep mysql` 命令找到以跳过权限验证方式启动的 MySQL 进程的 PID，然后使用 `sudo kill -9 PID` 命令终止该进程。
最后，根据不同的 Linux 发行版，使用以下命令启动 MySQL 服务：

- **Systemd 系统（如 CentOS 7+、Ubuntu 16.04+）**：

```bash
sudo systemctl start mysql
```

- **SysVinit 系统（如 CentOS 6）**：

```bash
sudo service mysql start
```

完成以上步骤后，你就可以使用新设置的密码登录 MySQL 了。
