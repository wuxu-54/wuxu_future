# 查询

在MySQL中，多表查询是指在单个查询语句中涉及两个或多个表。这种查询通常用于从一个表中检索数据，同时需要关联其他表中的数据。多表查询可以通过不同类型的连接（如内连接、外连接等）来实现。以下是一些常见的多表查询类型及其示例：

## 1. 内连接（INNER JOIN）

内连接返回两个表中有匹配的行。如果没有匹配的行，则不返回结果。

```sql
SELECT columns
FROM table1
INNER JOIN table2
ON table1.column_name = table2.column_name;
```

## 2. 左外连接（LEFT JOIN 或 LEFT OUTER JOIN）

左外连接返回左表（第一个表）的所有行，即使右表（第二个表）中没有匹配的行。如果右表中没有匹配的行，则结果中右表的部分为NULL。

```sql
SELECT columns
FROM table1
LEFT JOIN table2
ON table1.column_name = table2.column_name;
```

## 3. 右外连接（RIGHT JOIN 或 RIGHT OUTER JOIN）

右外连接返回右表（第二个表）的所有行，即使左表（第一个表）中没有匹配的行。如果左表中没有匹配的行，则结果中左表的部分为NULL。

```sql
SELECT columns
FROM table1
RIGHT JOIN table2
ON table1.column_name = table2.column_name;
```

## 4. 全外连接（FULL OUTER JOIN）

全外连接返回两个表中的所有行。如果某一侧没有匹配的行，则该侧的结果为NULL。

```sql
SELECT columns
FROM table1
FULL OUTER JOIN table2
ON table1.column_name = table2.column_name;
```

注意：MySQL不支持全外连接，但可以通过联合左外连接和右外连接并处理结果来模拟。

## 5. 交叉连接（CROSS JOIN）

交叉连接返回两个表的笛卡尔积，即每个表中的每一行都与另一个表中的每一行组合（想象成二维数组循环遍历）。
>笛卡尔积是数学和计算机科学中的一个概念，指的是在给定的两个集合中，每个元素与另一个集合中每个元素配对形成的所有可能的有序对的集合。

```sql
SELECT columns
FROM table1
CROSS JOIN table2;
```

## 6. 自连接（SELF JOIN）

自连接用于查询同一个表中的行之间的关系。

```sql
SELECT columns
FROM table1 AS a, table1 AS b
WHERE a.column_name = b.column_name;
```

## 示例

假设有两个表：`employees`（员工表）和`departments`（部门表），它们通过`department_id`字段关联。

```sql
-- 内连接示例
SELECT employees.name, departments.department_name
FROM employees
INNER JOIN departments
ON employees.department_id = departments.id;

-- 左外连接示例
SELECT employees.name, departments.department_name
FROM employees
LEFT JOIN departments
ON employees.department_id = departments.id;

-- 自连接示例
SELECT a.name AS Employee, b.name AS Manager
FROM employees AS a
INNER JOIN employees AS b
ON a.manager_id = b.id;
```

在编写多表查询时，确保使用合适的连接类型来满足您的数据检索需求。同时，使用合适的条件在`ON`子句中指定如何关联表。
