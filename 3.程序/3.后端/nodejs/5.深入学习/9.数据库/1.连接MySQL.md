# 连接MySQL

在Node.js中连接MySQL数据库，通常会使用mysql或mysql2这样的第三方库。以下是使用mysql2库连接MySQL数据库的一个基本示例。

## 安装mysql2模块

首先，你需要通过npm安装mysql2模块。在你的Node.js项目的根目录下打开终端，运行以下命令：

```shell
npm install mysql2
```

## 连接MySQL数据库

在你的Node.js应用程序中，使用以下代码连接到MySQL数据库：

```js
const mysql = require('mysql2');

// 创建数据库连接配置
const connection = mysql.createConnection({
  host: 'localhost', // MySQL服务器地址
  user: 'your_username', // MySQL用户名
  password: 'your_password', // MySQL密码
  database: 'your_database' // 要连接的数据库名
});

// 连接到数据库
connection.connect((err) => {
  if (err) {
    console.error('Error connecting: ' + err.stack);
    return;
  }
  console.log('Connected as id ' + connection.threadId);
});

// 执行SQL查询
connection.query('SELECT * FROM your_table', (error, results, fields) => {
  if (error) {
    console.error('Error executing query: ' + error.stack);
    return;
  }

  // 处理查询结果
  console.log(results);

  // 关闭数据库连接
  connection.end();
});
```

在这个示例中，我们首先创建了一个连接配置，然后使用mysql2的createConnection方法创建了一个连接对象。通过调用connect方法，我们尝试连接到MySQL数据库。一旦连接成功，我们就可以使用query方法执行SQL查询。

## 处理连接错误

在尝试连接数据库时，可能会遇到各种错误。为了处理这些错误，我们在connect方法的回调函数中检查是否有错误发生。如果有错误，我们将其打印到控制台。

## 关闭数据库连接

在完成数据库操作后，我们应该关闭数据库连接。在query方法的回调函数中，我们调用了end方法来关闭连接。

## 注意事项

* 替换your_username、your_password、your_database和localhost（如果需要）为你的MySQL数据库的实际用户名、密码、数据库名和服务器地址。
* 在生产环境中，不要将数据库的用户名和密码硬编码在代码中。相反，应该使用环境变量或配置文件来安全地存储这些敏感信息。
* 确保你的MySQL服务器正在运行，并且可以接受来自你的Node.js应用程序的连接。
* 使用mysql2库时，还可以利用它的Promise支持来编写基于Promise的异步代码。

通过上述示例，你应该能够成功地在你的Node.js应用程序中连接到MySQL数据库并执行基本的查询操作。
