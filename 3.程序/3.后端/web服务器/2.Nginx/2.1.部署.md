# 部署

部署 Nginx 服务器的过程会根据你使用的操作系统和具体需求有所不同，但以下是在 Linux 和 Windows 系统上部署 Nginx 的一般步骤：

## 在 Linux 上部署 Nginx

1. **安装 Nginx**：
   - 对于基于 Debian 的系统（如 Ubuntu），使用以下命令：

     ```bash
     sudo apt update
     sudo apt install nginx
     ```

   - 对于基于 Red Hat 的系统（如 CentOS），使用以下命令：

     ```bash
     sudo yum install epel-release
     sudo yum install nginx
     ```

2. **启动 Nginx 服务**：

   ```bash
   sudo systemctl start nginx
   ```

3. **检查 Nginx 是否正在运行**：

   ```bash
   sudo systemctl status nginx
   ```

4. **设置 Nginx 开机自启**：

   ```bash
   sudo systemctl enable nginx
   ```

5. **配置 Nginx**：
   - Nginx 的配置文件通常位于 `/etc/nginx` 目录。
   - 主配置文件是 `nginx.conf`，而网站特定的配置通常放在 `/etc/nginx/sites-available` 目录，然后链接到 `/etc/nginx/sites-enabled` 目录以启用。
   - 编辑配置文件，设置服务器块（server block）和位置块（location block）来定义如何处理传入的 HTTP 请求。

6. **重新加载 Nginx 配置**：

   ```bash
   sudo systemctl reload nginx
   ```

7. **防火墙设置**（如果需要）：
   - 确保防火墙允许 HTTP（80 端口）和 HTTPS（443 端口）流量。
   - 对于 `ufw`，可以使用以下命令：

     ```bash
     sudo ufw allow 'Nginx Full'
     ```

## 在 Windows 上部署 Nginx

1. **下载 Nginx**：
   - 访问 [Nginx 官网](http://nginx.org/)下载 Windows 版本的 Nginx。

2. **解压下载的文件**：
   - 将下载的压缩包解压到你选择的目录。

3. **运行 Nginx**：
   - 打开命令提示符或 PowerShell，导航到 Nginx 的 `nginx-1.x.x` 目录。
   - 运行 `start nginx` 命令。

4. **配置 Nginx**：
   - 编辑 `conf\nginx.conf` 文件，设置服务器块和位置块。

5. **重新加载 Nginx 配置**：
   - 在命令行中运行 `nginx -s reload` 来应用新的配置。

6. **设置为系统服务**（可选）：
   - 你可以使用第三方工具或脚本来将 Nginx 设置为 Windows 服务。

7. **防火墙设置**（如果需要）：
   - 确保 Windows 防火墙允许 HTTP 和 HTTPS 流量。

## mac安装Nginx

[参考文档](https://blog.csdn.net/Wjhsmart/article/details/115739192)

1. 使用命令安装：`brew install nginx`
   >如果没有brew，需要先去下载HomeBrew(mac 软件包管理工具)：`/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"`

2. 打开Nginx安装目录
3. `brew services start nginx`(启动nginx)； `brew services restart nginx`(重启命令)

---

## 通用配置示例

在 `nginx.conf` 文件中，你可以添加一个新的服务器块来处理特定的域名或 IP 地址：

```nginx
server {
    listen 80;
    server_name example.com www.example.com;

    location / {
        root   /usr/share/nginx/html;
        index  index.html index.htm;
    }

    location /images/ {
        root /usr/share/nginx;
    }

    # 其他配置...
}
```

确保将 `example.com` 替换为你的实际域名或 IP 地址，并根据需要调整路径和设置。

部署 Nginx 后，你可以通过访问服务器的 IP 地址或域名来测试 Nginx 是否正常工作。如果一切设置正确，你应该能看到 Nginx 的默认欢迎页面。

## 注意

1. 默认端口号是80，可以在通用配置文件中修改端口号。
2. Nginx需要放在没有中文、不在空格的文件路径中
