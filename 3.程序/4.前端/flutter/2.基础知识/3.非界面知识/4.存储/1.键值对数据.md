# 存储键值对数据

可以用 `shared_preferences` 插件， `shared_preferences` 插件可以把 key-value 保存到磁盘中。

## 添加依赖

运行 `flutter pub add` 将 `shared_preferences` 添加为依赖：

```shell
flutter pub add shared_preferences
```

## 保存数据

要存储数据，使用 SharedPreferences 类的 `setter` 方法。 Setter方法可用于各种基本数据类型，例如 `setInt`、`setBool` 和 `setString`。

Setter 方法做两件事：首先，同步更新 key-value 到内存中，然后保存到磁盘中。

```dart
final prefs = await SharedPreferences.getInstance();
await prefs.setInt('counter', counter);
```

## 读取数据

要读取数据，使用 SharedPreferences 类相应的 `getter` 方法。对于每一个 `setter` 方法都有对应的 `getter` 方法。例如，你可以使用 `getInt`、`getBool` 和 `getString` 方法。

```dart
final prefs = await SharedPreferences.getInstance();
final counter = prefs.getInt('counter') ?? 0;
```

## 移除数据

使用 remove() 方法删除数据。

```dart
final prefs = await SharedPreferences.getInstance();
await prefs.remove('counter');
```

## 支持类型

然使用 shared_preferences 提供的键值对存储非常简单方便，但是它也有以下局限性：

* 只能用于基本数据类型： `int`、`double`、`bool`、`string` 和 `List<String>`。
* 不是为存储大量数据而设计的。
* 不能确保应用重启后数据仍然存在。
