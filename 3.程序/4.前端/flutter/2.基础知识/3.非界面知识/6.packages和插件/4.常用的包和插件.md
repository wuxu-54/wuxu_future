# 常用包和插件

[TOC]

## 常用的 Flutter Packages（包）

* http: 用于在 Flutter 应用中发起 HTTP 请求。
* flutter/material: 提供 Material Design 和原声触摸滑块等组件。
* intl: 用于国际化和本地化，格式化日期、数字等。
* provider: 一个状态管理库，用于在 Flutter 小部件树之间共享数据。
* flutter_svg: 用于显示 SVG 图像。
* shared_preferences: 提供一个简单的持久性键值存储。
* url_launcher: 启动 URL，可以打开网页或发送邮件等。
* firebase_core: Firebase 的核心插件，用于使用 Firebase 服务。
* google_sign_in: 用于 Google 登录。
* flutter_bloc: 实践 BLoC 模式的状态管理库。

## 常用的 Flutter Plugins（插件）

* flutter_plugin_android_lifecycle: 允许 Flutter 插件与 Android 生命周期交互。
* flutter_local_notifications: 用于在 Android 和 iOS 上显示本地通知。
* flutter_markdown: 用于渲染 Markdown 格式的文本。
* flutter_tesseract_ocr: 使用 Tesseract OCR 引擎识别图片中的文本。
* flutter_inappwebview: 提供了一个内置的网页视图，用于显示网页。
* flutter_native_image: 用于访问和管理设备图库。
* flutter_blue: 用于与蓝牙设备通信的蓝牙插件。
* android_intent: 允许 Flutter 应用发送 Android Intent。
* uni_links: 用于在 iOS 和 Android 上处理来自外部的深层链接。
* flutter_foreground_service: 允许在后台运行前台服务。

---

## 其他常用的包和插件

以下为你分类列出 Flutter 开发中常用的包和插件：

### 网络请求

* **`http`**
  * **介绍**：是 Dart 官方提供的用于发起 HTTP 请求的基础库，支持 GET、POST、PUT、DELETE 等常见请求方法。
  * **用途**：适合进行简单的网络数据请求，如获取 JSON 数据、上传文件等。
  * **示例代码**：

```dart
import 'package:http/http.dart' as http;
import 'dart:convert';

void fetchData() async {
  var url = Uri.parse('https://jsonplaceholder.typicode.com/posts/1');
  var response = await http.get(url);
  if (response.statusCode == 200) {
    var data = json.decode(response.body);
    print(data);
  }
}
```

* **`dio`**
  * **介绍**：功能强大的网络请求库，支持拦截器、请求取消、文件上传下载等高级功能。
  * **用途**：在复杂的网络请求场景中表现出色，如需要对请求和响应进行统一处理、处理大文件上传下载等。
  * **示例代码**：

```dart
import 'package:dio/dio.dart';

void dioFetchData() async {
  Dio dio = Dio();
  var response = await dio.get('https://jsonplaceholder.typicode.com/posts/1');
  print(response.data);
}
```

### 状态管理

* **`provider`**
  * **介绍**：轻量级的状态管理解决方案，基于 InheritedWidget 实现，使用简单，易于理解。
  * **用途**：适合小型到中型项目的状态管理，能够方便地在不同 Widget 之间共享数据。
  * **示例代码**：

```dart
import 'package:flutter/material.dart';
import 'package:provider/provider.dart';

class Counter with ChangeNotifier {
  int _count = 0;
  int get count => _count;
  void increment() {
    _count++;
    notifyListeners();
  }
}

void main() {
  runApp(
    ChangeNotifierProvider(
      create: (context) => Counter(),
      child: MyApp(),
    ),
  );
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Scaffold(
        appBar: AppBar(title: Text('Provider Example')),
        body: Center(
          child: Column(
            mainAxisAlignment: MainAxisAlignment.center,
            children: [
              Consumer<Counter>(
                builder: (context, counter, child) {
                  return Text('Count: ${counter.count}');
                },
              ),
              ElevatedButton(
                onPressed: () {
                  Provider.of<Counter>(context, listen: false).increment();
                },
                child: Text('Increment'),
              ),
            ],
          ),
        ),
      ),
    );
  }
}
```

* **`bloc`**
  * **介绍**：遵循单向数据流架构的状态管理库，将业务逻辑和 UI 分离，提高代码的可测试性和可维护性。
  * **用途**：适用于大型项目，尤其是业务逻辑复杂的场景。
  * **示例代码**：在 Flutter 中使用 `flutter_bloc` 库实现简单的计数器功能。

### 路由管理

* **`flutter_router`**
  * **介绍**：官方提供的路由管理方案，使用简单，支持命名路由和动态路由。
  * **用途**：适合小型到中型项目的路由管理。
  * **示例代码**：

```dart
import 'package:flutter/material.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      initialRoute: '/',
      routes: {
        '/': (context) => HomePage(),
        '/second': (context) => SecondPage(),
      },
    );
  }
}

class HomePage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('Home Page')),
      body: Center(
        child: ElevatedButton(
          onPressed: () {
            Navigator.pushNamed(context, '/second');
          },
          child: Text('Go to Second Page'),
        ),
      ),
    );
  }
}

class SecondPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('Second Page')),
      body: Center(
        child: ElevatedButton(
          onPressed: () {
            Navigator.pop(context);
          },
          child: Text('Go back'),
        ),
      ),
    );
  }
}
```

* **`get`**
  * **介绍**：功能强大的路由管理和状态管理一体化库，支持路由拦截、动画过渡等功能。
  * **用途**：简化项目的路由和状态管理，提高开发效率。

### 数据库

* **`sqflite`**
  * **介绍**：用于在 Flutter 应用中操作 SQLite 数据库的插件，支持增删改查等基本操作。
  * **用途**：适合存储本地数据，如用户信息、缓存数据等。
  * **示例代码**：

```dart
import 'package:sqflite/sqflite.dart';
import 'package:path/path.dart';

void createDatabase() async {
  var databasesPath = await getDatabasesPath();
  String path = join(databasesPath, 'demo.db');
  Database database = await openDatabase(path, version: 1,
      onCreate: (Database db, int version) async {
    await db.execute(
        'CREATE TABLE Test (id INTEGER PRIMARY KEY, name TEXT, value INTEGER)');
  });
}
```

* **`hive`**
  * **介绍**：轻量级、快速的键值对数据库，支持加密、监听数据变化等功能。
  * **用途**：适合存储简单的结构化数据，如配置信息、用户偏好等。

### UI 相关

* **`flutter_svg`**
  * **介绍**：用于在 Flutter 应用中显示 SVG 图片的插件，支持矢量图形的渲染。
  * **用途**：使应用能够使用高质量的矢量图标和图形，提高 UI 的美观度。
  * **示例代码**：

```dart
import 'package:flutter/material.dart';
import 'package:flutter_svg/flutter_svg.dart';

void main() {
  runApp(
    MaterialApp(
      home: Scaffold(
        body: Center(
          child: SvgPicture.asset('assets/images/icon.svg'),
        ),
      ),
    ),
  );
}
```

* **`carousel_slider`**
  * **介绍**：用于创建轮播图的插件，支持自定义轮播效果、指示器等。
  * **用途**：在应用中展示多张图片或内容的轮播效果。

### 权限管理

* **`permission_handler`**
  * **介绍**：用于在 Flutter 应用中请求和管理设备权限的插件，支持多种权限类型。
  * **用途**：确保应用能够正常访问设备的各种功能，如相机、麦克风、存储等。
  * **示例代码**：

```dart
import 'package:permission_handler/permission_handler.dart';

void requestPermission() async {
  var status = await Permission.camera.request();
  if (status.isGranted) {
    print('Camera permission granted');
  } else {
    print('Camera permission denied');
  }
}
```

### 本地化

* **`flutter_localizations`**
  * **介绍**：官方提供的本地化支持库，支持多语言和国际化。
  * **用途**：使应用能够根据用户的系统语言显示不同的文本内容。
  * **示例代码**：

```dart
import 'package:flutter/material.dart';
import 'package:flutter_localizations/flutter_localizations.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      localizationsDelegates: [
        GlobalMaterialLocalizations.delegate,
        GlobalWidgetsLocalizations.delegate,
        GlobalCupertinoLocalizations.delegate,
      ],
      supportedLocales: [
        const Locale('en', 'US'),
        const Locale('zh', 'CN'),
      ],
      home: Scaffold(
        appBar: AppBar(title: Text('Localization Example')),
        body: Center(
          child: Text('Hello, World!'),
        ),
      ),
    );
  }
}
```

### 图表绘制

* **`charts_flutter`**
  * **介绍**：由 Google 开发的图表库，支持多种类型的图表，如折线图、柱状图、饼图等。
  * **用途**：在应用中展示数据可视化图表。
  * **示例代码**：创建一个简单的折线图。

### 推送通知

* **`firebase_messaging`**
  * **介绍**：集成 Firebase 云消息服务的插件，用于在 Flutter 应用中实现推送通知功能。
  * **用途**：向用户发送实时消息和通知。

以上只是 Flutter 开发中常用的一部分包和插件，实际开发中可以根据项目需求选择合适的库。
