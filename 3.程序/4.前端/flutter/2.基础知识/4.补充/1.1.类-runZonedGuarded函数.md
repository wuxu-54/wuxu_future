# runZonedGuarded

`runZonedGuarded` 是 Dart 语言中的一个函数，它允许你运行一段代码，并捕获在该代码执行期间抛出的所有异常。这个函数通常用于 Flutter 应用程序中，以便在开发过程中能够捕获和处理异常，从而避免应用程序因为未处理的异常而崩溃。

`runZonedGuarded` 的基本用法如下：

```dart
runZonedGuarded<Future<Symbol>, Object>(
  // 要运行的代码，返回一个 Future
  () async {
    // 这里是你的 Dart 代码
  },
  // 异常处理回调函数
  (Object error, StackTrace stackTrace) {
    // 这里是处理异常的代码
    // 例如，你可以在这里打印错误信息或者上报错误
    print('Caught error: $error');
    print('Stack trace: $stackTrace');
  },
  // 可选参数，用于配置 Zone 的行为
  zoneSpecification: ZoneSpecification(
    // 这里可以定义一些 Zone 的行为，比如错误处理
  ),
);
```

在 Flutter 应用程序中，`runZonedGuarded` 经常与 `main()` 函数一起使用，以捕获在应用程序启动和运行期间可能发生的异常：

```dart
void main() {
  runZonedGuarded<Future<Symbol>, Object>(
    () async {
      // 在这里调用 runApp 或其他初始化代码
      runApp(MyApp());
    },
    // 异常处理逻辑
    (Object error, StackTrace stackTrace) {
      // 处理异常
    },
  );
}
```

使用 `runZonedGuarded` 可以提高应用程序的稳定性，因为它允许开发者在异常发生时执行一些清理工作，或者至少能够提供错误日志，这对于调试和错误跟踪非常有用。
