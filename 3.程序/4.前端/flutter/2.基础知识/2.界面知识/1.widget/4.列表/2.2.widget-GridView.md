
# GridView

在 Flutter 中，创建网格列表（Grid List）主要有两种方式：`GridView` 和 `GridView.builder`。它们都是通过继承 `SliverGrid` 来实现的，可以放置在 `CustomScrollView` 中以实现复杂的滚动效果。以下是这两种创建方式及其区别：

## 1. GridView

GridView 是最基本的网格列表创建方式，它接受一个 children 列表作为参数。所有网格项都会在布局时立即构建，**适用于网格项数量较少或网格项不经常变化的情况**。

```dart
GridView(
  scrollDirection: Axis.vertical, // 可以是 Axis.vertical 或 Axis.horizontal
  gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
    crossAxisCount: 2, // 网格的列数
    childAspectRatio: 3, // 网格子组件的宽高比
  ),
  children: <Widget>[
    Container(
      color: Colors.red,
      child: Center(child: Text('Item 1')),
    ),
    Container(
      color: Colors.blue,
      child: Center(child: Text('Item 2')),
    ),
    // 更多的子组件...
  ],
)
```

## 2. GridView.builder

`GridView.builder` 是一种更灵活的创建方式，它通过一个 `itemBuilder` 回调函数动态生成网格项。这种方式非常适合用于构建长网格列表或网格项数量未知的情况。它只在网格项进入视图时才会构建，因此更节省内存。

```dart
GridView.builder(
  scrollDirection: Axis.vertical,
  gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
    crossAxisCount: 2, // 网格的列数
    childAspectRatio: 3, // 网格子组件的宽高比
  ),
  itemCount: 100, // 设置网格项的数量
  itemBuilder: (context, index) {
    return Container(
      color: Colors.primaries[index % Colors.primaries.length],
      child: Center(child: Text('Item $index')),
    );
  },
)
```

## 区别

* 性能：`GridView` 对于短网格列表或静态内容非常合适，而 `GridView.builder` 适合长网格列表或动态内容，因为它采用了延迟加载的方式。
* 内存使用：`GridView.builder` 可以减少内存使用，因为它不会一次性构建所有网格项。
* 滚动行为：由于 `GridView.builder` 的按需构建特性，它可能会在滚动时提供更平滑的体验，尤其是在处理大量数据时。
* 构造函数参数：两种方式都需要指定 `gridDelegate` 来定义网格的布局，如列数和宽高比。

## 选择哪种方式？

* 如果你的网格列表项数量较少，或者列表项是预先知道且不经常变化的，使用 GridView。
* 如果你的网格列表项数量很多，或者列表项是动态生成的，使用 GridView.builder。

选择哪种方式取决于你的具体需求和性能考虑。在实际开发中，根据网格列表的特性和应用的性能要求来选择最合适的创建方式。
