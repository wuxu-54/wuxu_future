# 文本组件

Flutter 的文本组件 `Text` 是构建用户界面时最常用的组件之一，用于显示简单的样式化文本。以下是 `Text` 组件的详细说明，涵盖基础用法、样式控制、富文本、字体配置及常见场景。

---

## 一、基础用法

### 1. 显示简单文本

```dart
Text('Hello, Flutter!')
```

### 2. 设置文本样式（`TextStyle`）

通过 `style` 属性自定义字体、颜色、大小等：

```dart
Text(
  'Styled Text',
  style: TextStyle(
    fontSize: 24,
    color: Colors.blue,
    fontWeight: FontWeight.bold,
    fontStyle: FontStyle.italic,
    decoration: TextDecoration.underline,
    letterSpacing: 2.0,
  ),
)
```

### 3. 文本对齐（`textAlign`）

控制文本在父容器内的水平对齐方式：

```dart
Text(
  'Align Right',
  textAlign: TextAlign.right, // 可选：left, center, right, justify, start, end
)
```

### 4. 文本溢出处理（`overflow`）

当文本超出可用空间时，处理方式：

```dart
Text(
  'Long text that might overflow...',
  overflow: TextOverflow.ellipsis, // 可选：clip, fade, ellipsis
  maxLines: 2, // 限制最大行数
)
```

---

## 二、富文本（多样式组合）

使用 `Text.rich` 或 `TextSpan` 组合不同样式的文本：

```dart
Text.rich(
  TextSpan(
    text: 'Hello ',
    style: TextStyle(fontSize: 20),
    children: [
      TextSpan(
        text: 'Flutter',
        style: TextStyle(
          color: Colors.green,
          fontWeight: FontWeight.bold,
        ),
      ),
      TextSpan(text: '!'),
    ],
  ),
)
```

---

## 三、高级配置

### 1. 文本缩放（`textScaleFactor`）

调整文本的全局缩放比例（受系统字体大小设置影响）：

```dart
Text(
  'Scaled Text',
  textScaleFactor: 1.2, // 放大20%
)
```

### 2. 字体配置

**自定义字体：**

1. 在 `pubspec.yaml` 中添加字体：

    ```yaml
    flutter:
      fonts:
        - family: 'CustomFont'
          fonts:
            - asset: 'fonts/CustomFont-Regular.ttf'
            - asset: 'fonts/CustomFont-Bold.ttf'
              weight: 700
    ```

2. 在代码中使用：

    ```dart
    Text(
      'Custom Font',
      style: TextStyle(
        fontFamily: 'CustomFont',
        fontWeight: FontWeight.w700,
      ),
    )
    ```

**使用 Google Fonts 包：**

```dart
import 'package:google_fonts/google_fonts.dart';

Text(
  'Google Fonts Example',
  style: GoogleFonts.lato(textStyle: TextStyle(fontSize: 30)),
)
```

### 3. 文本选择与交互

启用文本选择（需在可交互的组件中，如 `SelectableText`）：

```dart
SelectableText(
  'Selectable Text',
  style: TextStyle(fontSize: 18),
  toolbarOptions: ToolbarOptions(copy: true, selectAll: true),
)
```

### 4. 语义化标签（`semanticsLabel`）

为无障碍功能提供更清晰的描述：

```dart
Text(
  '10',
  semanticsLabel: '10 unread messages',
)
```

---

## 四、常见使用场景

1. **简单标签**：显示静态文本，如标题、说明。
2. **动态数据**：结合数据绑定显示变量内容。

   ```dart
   Text('Count: $count')
   ```

3. **多语言支持**：通过 `Localizations` 加载本地化文本。
4. **复杂排版**：结合 `RichText` 和 `WidgetSpan` 嵌入图标或按钮。

   ```dart
   RichText(
     text: TextSpan(
       children: [
         TextSpan(text: 'Click '),
         WidgetSpan(
           child: Icon(Icons.add, size: 14),
         ),
         TextSpan(text: ' to add'),
       ],
     ),
   )
   ```

---

## 五、注意事项

- **性能优化**：避免频繁创建新的 `TextStyle` 对象，尽量复用。
- **长文本处理**：长文本建议使用 `Expanded` 或 `ListView` 包裹，避免溢出。
- **字体加载**：确保自定义字体路径正确，且在 `pubspec.yaml` 中声明。

通过灵活组合这些属性和组件，可以轻松实现从简单标签到复杂富文本的各种需求。
