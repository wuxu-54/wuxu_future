# Hero动画

Flutter 的 Hero 动画是一个非常有用的特性，它允许你在不同的路由（页面）之间进行平滑的动画过渡。这种动画效果在应用中创建了一种视觉上的连贯性，使得用户体验更加丰富和有趣。以下是 Hero 动画的详细解释：

## 理解 Hero 动画

Hero 动画通过在两个不同的 Widget 之间共享相同的 tag 来实现。当用户从一个页面导航到另一个页面时，如果两个页面上有一个或多个 Widget 拥有相同的 tag，则 Flutter 会自动创建一个动画，使得这些 Widget 在屏幕之间“飞行”。

## 使用 Hero Widget

要使用 Hero 动画，你需要在你的应用中使用 Hero Widget。以下是使用 Hero 的基本步骤：

1. 定义 Hero Widget

    在你的 Dart 代码中，用 Hero Widget 包裹你想要进行动画的 Widget，并赋予它一个唯一的 tag。

    ```dart
    Hero(
    tag: 'your_unique_tag', 
    child: YourWidget(), // 你想要进行动画的Widget
    )
    ```

2. 设置 Hero 目标

    在目标路由（即用户导航到的页面）上，再次使用 Hero Widget，但是这次不需要设置任何特殊的属性，Flutter 会自动处理动画。

    ```dart
    Hero(
    tag: 'your_unique_tag', // 与起始路由上的Hero Widget相同的tag
    child: YourDestinationWidget(), // 目标页面上的Widget
    )
    ```

3. 触发 Hero 动画

    当用户触发一个导航动作（如点击按钮）时，Flutter 会启动 Hero 动画，将起始路由上的 Widget 动画过渡到目标路由上的对应 Widget。

    ```dart
    ElevatedButton(
    onPressed: () {
        Navigator.of(context).push(MaterialPageRoute(
        builder: (context) => TargetRoute(),
        ));
    },
    child: Text('Navigate with Hero Animation'),
    )
    ```

## 自定义 Hero 动画

你可以通过设置 Hero Widget 的属性来自定义动画效果：

* tag: 用于在不同路由之间共享的标识符。
* child: 要进行动画的 Widget。
* flightDuration: 控制动画飞行阶段的持续时间。
* flightShuttleStyle: 自定义飞行过程中的样式，比如背景颜色、阴影等。
* createRectTween: 允许你自定义 Hero 动画的起始和结束矩形。

## Hero 动画的飞行过程

在 Hero 动画的飞行过程中，Flutter 会创建一个从起始 Widget 到目标 Widget 的过渡。这个过程中，起始 Widget 会缩放到目标 Widget 的大小，并移动到目标 Widget 的位置。

## 注意事项

* 确保 tag 在应用中是唯一的，以避免多个 Widget 之间产生意外的动画效果。
* Hero 动画不仅限于相同类型的 Widget 之间，也可以在不同类型的 Widget 之间进行，只要它们能够通过图形变换相互转换。
* 在某些情况下，你可能需要调整起始 Widget 和目标 Widget 的大小或形状，以确保动画效果符合预期。

Hero 动画的性能开销相对较低，因为它主要依赖于图形变换，而不是重绘整个 Widget。
通过使用 Hero 动画，你可以在 Flutter 应用中创建出流畅且富有吸引力的动画效果，从而提升用户的交互体验。
