# AnimatedContainer

`AnimatedContainer` 是 Flutter 中一个非常实用的动画 Widget，它可以用来创建平滑的过渡效果，当其父级 Widget 在构建时发生变化时。AnimatedContainer 会对其属性进行动画处理，比如大小、颜色、边距、形状等。

以下是如何使用 AnimatedContainer 的一些基本步骤：

## 1. 定义状态

你需要定义一个状态变量来控制 AnimatedContainer 的变化。这个状态可以是一个布尔值，表示是否触发动画，或者是一个数值，表示动画的当前状态。

```dart
bool _isButtonPressed = false;
```

## 2. 构建 AnimatedContainer

使用 `AnimatedContainer` 并定义其属性，比如 duration（动画时长）、curve（动画曲线）等。

```dart
AnimatedContainer(
  duration: Duration(milliseconds: 300),
  curve: Curves.easeOut,
  width: _isButtonPressed ? 200 : 100,
  height: _isButtonPressed ? 100 : 50,
  color: _isButtonPressed ? Colors.green : Colors.blue,
  child: _isButtonPressed
      ? Text('Pressed')
      : Text('Normal'),
)
```

## 3. 触发动画

你可以在用户交互时（比如点击按钮）切换状态变量的值，从而触发动画。

```dart
ElevatedButton(
  onPressed: () {
    setState(() {
      _isButtonPressed = !_isButtonPressed;
    });
  },
  child: AnimatedContainer(...),
)
```

## 4. 使用监听器

AnimatedContainer 也有一个 onEnd 参数，允许你在动画结束时执行一些操作。

```dart
AnimatedContainer(
  // ... 其他属性
  onEnd: () {
    // 动画结束后的回调
  },
)
```

---

## 注意事项

* AnimatedContainer 只有在其父级 Widget 重建时才会触发动画。这意味着，如果你希望动画能够响应某些数据的变化，你需要确保当数据变化时，父级 Widget 能够重建。
* 使用 AnimatedContainer 时要注意性能，因为频繁地重建 Widget 可能会导致性能问题。在可能的情况下，尽量只改变需要动画的属性。
* 过度使用 AnimatedContainer 可能会导致代码难以维护。对于复杂的动画，考虑使用 AnimationController 和 Tween 来获得更多的控制权。

AnimatedContainer 是一个简单且强大的工具，可以帮助你快速实现基本的动画效果。然而，对于更复杂的动画需求，你可能需要使用更底层的动画 API。
