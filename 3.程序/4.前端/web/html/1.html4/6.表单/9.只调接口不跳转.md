# 只调用接口不跳转

在HTML中，表单（`<form>`）提交默认会导致页面刷新和跳转。如果你希望在提交表单时不刷新页面或跳转，你可以使用JavaScript来拦截提交事件，并使用AJAX（Asynchronous JavaScript and XML）来异步地提交表单数据。这样，用户就可以在提交表单后留在当前页面上。

以下是一个使用JavaScript和AJAX提交表单而不刷新页面的示例：

```html
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>无刷新表单提交</title>
<script>
// 这个函数会在表单提交时被调用
function submitForm(event) {
    // 阻止表单的默认提交行为
    event.preventDefault();

    // 创建一个FormData对象，它允许你构建一个键值对集合，表示表单字段和它们的值
    var formData = new FormData(document.getElementById('myForm'));

    // 使用fetch API发送异步请求
    fetch('http://localhost:8080/testLogin', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json()) // 解析响应为JSON
    .then(data => {
        console.log(data); // 在控制台打印响应数据
        // 你可以在这里根据服务器的响应来更新页面内容
    })
    .catch(error => {
        console.error('Error:', error);
    });
}

</script>
</head>
<body>

<form id="myForm" onsubmit="submitForm(event)">
    <label for="username">用户名:</label>
    <input type="text" id="username" name="username"><br><br>
    <label for="password">密码:</label>
    <input type="password" id="password" name="password"><br><br>
    <input type="submit" value="登录">
</form>

</body>
</html>
```

## 解释

1. **表单标签**：定义了一个包含用户名和密码输入字段的表单。

2. **onsubmit事件处理器**：当表单提交时，会调用`submitForm`函数。

3. **submitForm函数**：
   - `event.preventDefault()`：阻止表单的默认提交行为。
   - `FormData`对象：构建一个包含表单数据的键值对集合。
   - `fetch` API：使用`fetch`发送一个异步的POST请求到服务器。你需要将URL替换为你的服务器端点。
   - `.then()`：处理响应，例如解析JSON数据或在控制台中打印数据。
   - `.catch()`：捕获并处理任何错误。

4. **更新页面内容**：根据服务器的响应，你可以使用JavaScript更新页面的某些部分，而不需要刷新整个页面。

确保你的服务器端点能够处理POST请求并返回适当的响应。此外，如果你的表单数据包含文件，`FormData`对象是处理文件上传的好方法。
