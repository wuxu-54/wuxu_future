# 路由的匹配

路由的path匹配，支持动态参数设定，支持正则表达式。

## 动态路由匹配

### 动态参数

路径中使用一个动态字段，此字段称为路径参数。动态路由参数使用`:param`来定义，如`/user/:id` 冒号后面的`id`就是**动态参数**，当导航设定同名参数时，会自动拼接到路径上。

示例：

```javascript
const routes = [
  {
    path: '/user/:userId',
    name: 'user-profile',
    component: UserProfile,
  },
  // 其他路由...
];
```

在这个例子中，:userId是一个动态参数，它将匹配/user/之后的任何值。下面示例是导航时，配置对应参数：

```html
<!-- 这里导航的path最终就是：/user/123 -->
<router-link :to="{ name: 'user-profile', params: { userId: '123' } }">View User Profile</router-link>
```

或使用编程式导航：

```javascript
this.$router.push({ name: 'user-profile', params: { userId: '123' } });
```

在路由的组件中动态参数可以通过`this.$route.params`来访问。

```js
export default {
  created() {
    //params 是个对象，携带了路由传过来的参数
    console.log(this.$route.params.id); // 假设路由路径是 /item/:id
  }
};
```

### 可选参数和参数匹配

有时你可能希望路由参数是可选的，或者定义参数的正则表达式来限制参数的匹配规则。你可以在参数定义后面加上一个问号`?`来表示参数是可选的，或者在路径参数后面的**括号**中加入 正则表达式，使用**正则表达式**来匹配特定的参数格式。

```javascript
const routes = [
  {
    path: '/user/:userId?',// 可选参数
    component: UserComponent,
  },
  {
    path: '/product/:productId(\\d+)', // 正则表达式匹配，productId必须是数字
    component: ProductComponent,
  },
  // 其他路由...
];
```

>`*`在技术上也标志着一个参数是可选的，但 `?` 参数不能重复。

### Sensitive 与 strict 路由配置

默认情况下，所有路由是不区分大小写的，并且能匹配带有或不带有尾部斜线的路由。例如，路由 `/users` 将匹配 `/users`、`/users/`、甚至 `/Users/`。这种行为可以通过 `strict` 和 `sensitive` 选项来修改，它们既可以应用在整个全局路由上，又可以应用于当前路由上：

```javascript
const router = createRouter({
  history: createWebHistory(),
  routes: [
    // 将匹配 /users/posva 而非：
    // - /users/posva/ 当 strict: true
    // - /Users/posva 当 sensitive: true
    { path: '/users/:id', sensitive: true },
    // 将匹配 /users, /Users, 以及 /users/42 而非 /users/ 或 /users/42/
    { path: '/users/:id?' },
  ],
  strict: true, // applies to all routes
})
```
