# meta属性

在Vue Router中，meta属性是一个可以附加在路由对象上的字段，它允许你为每个路由定义自定义的数据，也称为元数据。这些数据可以用于多种用途，如权限验证、面包屑导航、页面标题设置等。meta属性是完全自定义的，意味着你可以在其中存储任何你需要的信息。

以下是一些常见的使用场景：

## 1. 权限验证

你可以在路由的meta字段中添加一个标志，如requiresAuth，来表示该路由需要用户认证：

```js
const routes = [
  {
    path: '/dashboard',
    component: Dashboard,
    meta: {
      requiresAuth: true
    }
  },
  // 其他路由...
];
```

然后，你可以使用路由守卫来检查这个属性，以决定是否允许用户访问该路由。

```js
router.beforeEach((to, from, next) => {
  // `to` 和 `from` 都是 Route 对象
  // 这里的 `to` 是即将要进入的路由对象
  if (to.meta.requiresAuth) {
    // 检查用户是否登录
    if (store.state.isAuthenticated) {
      next();
    } else {
      next({ path: '/login' });
    }
  } else {
    next();
  }
});
```

## 2. 面包屑导航

在面包屑导航中，你可能需要知道当前路由的名称或标题。你可以在meta字段中添加这些信息：
>面包屑是指层次结构如【a>b>c】这种的布局，面包屑导航是一个常见的用户界面元素，用于帮助用户识别他们在网站或应用程序的层次结构中的位置，并提供一种快速回到上级页面的方法。。例如：三个页面层次结构是 a>b>c 实现这种面包屑结构页面的导航就是面包屑导航

```js
{
  path: '/dashboard/users',
  component: Users,
  meta: {
    breadcrumb: 'Users',
    title: 'User Management'
  }
}
```

## 3. 页面标题

为了动态设置页面标题，你可以在meta字段中定义一个title属性：

```js
{
  path: '/about',
  component: About,
  meta: {
    title: 'About Us'
  }
}
```

然后，你可以在路由守卫或组件内使用这个title来设置HTML的`<title>`标签。

## 4. 其他自定义数据

除了上述用途，meta字段可以用于存储任何自定义数据，比如：

* API端点
* 组件特定的配置
* 路由的国际化信息

```js
{
  path: '/items',
  component: ItemsList,
  meta: {
    API_ENDPOINT: '/api/items'
  }
}
```

## 使用meta属性

在路由守卫中，你可以访问meta属性来判断是否允许用户访问某个路由：

```js
router.beforeEach((to, from, next) => {
  if (to.meta.requiresAuth && !auth.isLoggedIn()) {
    next('/login');
  } else {
    next();
  }
});
```

在组件内部，你可以使用this.$route.meta来访问meta属性：

```js
export default {
  created() {
    const title = this.$route.meta.title;
    document.title = title;
  }
};
```

使用meta属性可以使得你的路由配置更加灵活和强大，让你能够以声明式的方式附加额外的信息到路由对象上，从而在应用的不同部分使用这些信息。
