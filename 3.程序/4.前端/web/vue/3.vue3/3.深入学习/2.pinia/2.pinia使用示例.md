# pinia 使用示例

Pinia 提供了一种简单直观的方式来管理 Vue 应用程序的状态。以下是一个 Pinia 的基本示例，展示了如何创建一个 Store，并在 Vue 组件中使用它。

步骤：

1. 创建 Store
2. 在 Vue 组件中使用 Store
3. 启动 Pinia

## 1.创建Store

首先，你需要定义一个 Store。在这个例子中，我们将创建一个名为 useCounterStore 的 Store，它将包含一个计数器状态和一个增加计数的方法。

```javascript
// counterStore.js
import { defineStore } from 'pinia';

// defineStore 定义一个Store。一般自定义hooks（其实就是全局函数）命名使用use前缀
export const useCounterStore = defineStore('counter', {
  state: () => ({
    count: 0
  }),
  actions: {
    increment() {
      this.count++;
    }
  }
});
```

## 2.在Vue组件中使用Store

接下来，在你的 Vue 组件中，你可以使用 useCounterStore 来访问和修改状态。

```html
<template>
  <div>
    <p>Count is: {{ count }}</p>
    <button @click="increment">Increment</button>
  </div>
</template>

<script setup>
//引入hooks
import { useCounterStore } from '@/stores/counterStore';

const counterStore = useCounterStore();

function increment() {
    //store 直接调用increment方法，其实最终调用到count变量
  counterStore.increment();
}
</script>
```

在这个组件中，我们导入了 useCounterStore，并在模板中使用了它的 count 状态和一个 increment 方法。当点击按钮时，increment 方法会被调用，从而增加计数器的值。

## 启动Pinia

在你的 Vue 应用程序入口文件（例如 main.js 或 main.ts）中，你需要创建 Pinia 实例并将其提供给 Vue 应用程序。

```javascript
import { createApp } from 'vue';
import { createPinia } from 'pinia';
import App from './App.vue';

const pinia = createPinia();
const app = createApp(App);

app.use(pinia);
app.mount('#app');
```

这样，Pinia 就准备好了，并且可以通过整个应用程序访问。

## 总结

这个简单的示例展示了如何使用 Pinia 来创建一个 Store，并在 Vue 组件中使用它来管理状态。Pinia 的 API 设计使得状态管理变得简单和直接，同时提供了强大的功能，如自动补全和 DevTools 支持，这些都是现代 Vue 应用程序开发的重要部分。通过这种方式，你可以轻松地在 Vue 应用程序中实现全局状态管理。
