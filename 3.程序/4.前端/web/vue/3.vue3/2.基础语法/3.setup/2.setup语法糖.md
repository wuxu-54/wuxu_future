# setup语法糖

`<script setup>`是Vue 3中引入的一个编译时语法糖，它旨在使使用Composition API的代码更加简洁和易于编写。通过`<script setup>`，你可以在单个文件组件（Single-File Component，SFC）中编写Composition API的逻辑，而不需要定义一个明确的setup函数。

这种语法糖提供了几个优势：

* 更少的样板代码：不需要编写返回对象来暴露给模板的变量和函数。
* 更好的类型推断：使用`<script setup>`时，Vue 3的编译器可以更好地推断出响应式引用和计算属性的类型，从而提供更好的类型提示和检查。
* 更简洁的模板：由于不需要在JavaScript部分定义变量和函数，模板可以直接使用在`<script setup>`中声明的变量和函数。

下面是一个使用`<script setup>`的例子：

```html
<template>
  <button @click="increment">Count is: {{ count }}</button>
</template>

<script setup>
import { ref } from 'vue';

const count = ref(0);

function increment() {
  count.value++;
}
</script>
```

在这个例子中，我们定义了一个响应式引用count和一个方法increment。在模板中，我们可以直接使用这些变量和函数，而不需要在JavaScript中返回它们。(`setup函数`是必须要返回的)

## props

`<script setup>`还支持使用`defineProps`来声明组件的props，这样可以进一步减少模板中的绑定数量：

```html
<template>
  <div>
    <p>Message is: {{ message }}</p>
  </div>
</template>

<script setup>
const message = defineProps(['message']);
</script>
```

在这个例子中，我们使用`defineProps`来声明一个名为`message`的prop。这样我们就可以在模板中直接使用`message`，而不需要在JavaScript中进行额外的声明。

## 总结

`<script setup>`是Vue 3中一个非常有用的语法特性，它使得使用Composition API的代码更加简洁和易于维护。如果你正在使用Vue 3，并且喜欢Composition API，那么`<script setup>`是值得尝试的。
