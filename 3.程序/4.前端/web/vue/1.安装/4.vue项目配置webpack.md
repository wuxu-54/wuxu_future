# 现有的 Vue 工程中接入 Webpack 打包工具

在现有的 Vue 工程中接入 Webpack 打包工具，通常需要以下步骤：

1. **安装 Node.js**：确保你的开发环境中安装了 Node.js，因为 Webpack 是基于 Node.js 的。

2. **安装 Vue CLI**：Vue CLI 是一个强大的命令行工具，可以快速地设置 Vue 项目和 Webpack。如果你还没有安装 Vue CLI，可以通过以下命令安装：

   ```sh
   npm install -g @vue/cli
   ```

   或者使用 `yarn`：

   ```sh
   yarn global add @vue/cli
   ```

3. **创建或更新 Vue 项目**：如果你已经有一个 Vue 项目，可以跳过这一步。如果没有，可以使用 Vue CLI 创建一个新的项目：

   ```sh
   vue create my-project
   ```

   按照提示选择所需的配置，包括 Babel、ESLint 等。

4. **安装 Webpack**：Vue CLI 创建的项目默认使用 Webpack，但如果你想手动安装或检查版本，可以使用以下命令：

   ```sh
   npm install --save-dev webpack webpack-cli
   ```

   或者使用 `yarn`：

   ```sh
   yarn add --dev webpack webpack-cli
   ```

5. **配置 Webpack**：Vue CLI 创建的项目会包含一个 `webpack.config.js` 文件，你可以根据需要对其进行配置。如果你需要手动创建或修改配置文件，可以在这个文件中设置入口文件、输出路径、加载器（loaders）、插件（plugins）等。

6. **添加 Vue Loader**：为了使 Webpack 能够处理 `.vue` 文件，你需要安装 `vue-loader` 和相关的 loader：

   ```sh
   npm install --save-dev vue-loader vue-template-compiler
   ```

   `vue-template-compiler` 是 Vue 2.x 所需的，Vue 3.x 则不需要。

7. **添加其他必要的 Loader 和 Plugin**：根据项目需求，你可能还需要安装其他 loader 和 plugin，比如 `css-loader`、`style-loader`、`vue-style-loader` 等，用于处理 CSS 文件。

8. **构建项目**：使用 Webpack 构建项目，可以通过以下命令：

   ```sh
   npm run build
   ```

   或者使用 `yarn`：

   ```sh
   yarn build
   ```

9. **启动开发服务器**：在开发过程中，可以使用 Webpack Dev Server 来实时预览和测试你的应用：

   ```sh
   npm run serve
   ```

   或者使用 `yarn`：

   ```sh
   yarn serve
   ```

请注意，Vue CLI 已经为你处理了大部分配置，所以如果你使用的是 Vue CLI 创建的项目，通常不需要手动配置 Webpack。如果你需要自定义 Webpack 配置，可以在项目的 `src` 目录下找到 `vue.config.js` 文件，并通过这个文件来扩展或覆盖默认的 Webpack 配置。

---

## `vue.config.js` 和 `webpack.config.js` 区别

`vue.config.js` 和 `webpack.config.js` 都是用于配置 Webpack 的文件，但它们在 Vue 项目中的作用和使用方式有所不同。

1. **vue.config.js**：
   - 这是 Vue CLI 项目中的配置文件。
   - 它是一个 JavaScript 文件，用于配置 Vue CLI 提供的默认 Webpack 行为。
   - 通过 `vue.config.js`，你可以扩展或修改默认的 Webpack 配置，而不需要直接修改 `webpack.config.js` 文件。
   - 这个文件通常用于配置 Vue CLI 生成的项目，包括但不限于：运行环境变量、构建配置、开发服务器配置、CSS 预处理器、插件和 loader 选项等。
   - `vue.config.js` 是 Vue CLI 的一部分，它允许开发者在不直接接触 Webpack 配置的情况下，通过一个更高层次的 API 来定制项目。

2. **webpack.config.js**：
   - 这是一个标准的 Webpack 配置文件，用于直接配置 Webpack。
   - 如果你不是通过 Vue CLI 创建的项目，而是手动设置 Webpack，那么你将需要创建并编辑这个文件。
   - `webpack.config.js` 包含了所有底层的 Webpack 配置，如入口(entry)、输出(output)、模块(module)规则、插件(plugins)、优化(optimization)等。
   - 这个文件通常更加复杂，因为它涉及到 Webpack 的所有细节配置。
   - 在 Vue CLI 项目中，`webpack.config.js` 通常是由 Vue CLI 根据 `vue.config.js` 中的配置自动生成的，开发者很少直接编辑它。

总结来说，`vue.config.js` 是 Vue CLI 提供的一个抽象层，它允许你以一种更简单、更 Vue 友好的方式来配置 Webpack，而不需要直接编辑底层的 `webpack.config.js` 文件。在 Vue CLI 项目中，`vue.config.js` 是推荐的方式来自定义构建过程，因为它提供了更好的可读性和易用性。如果你需要进行更深层次的定制，可能需要查看由 Vue CLI 生成的实际 `webpack.config.js` 文件，这通常可以通过在 `vue.config.js` 中使用 `configureWebpack` 或 `chainWebpack` 选项来实现。
