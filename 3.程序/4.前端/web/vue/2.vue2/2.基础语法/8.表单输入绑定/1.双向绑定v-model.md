# 双向绑定v-model

v-bind 是单向，想要数据实现双向响应式，使用`v-model`指令，用于数据双向绑定

## 常用

对于表单元素，大多使用双向绑定，监听用户输入的数据并传递给data块

注意：

1. v-model 会忽略表单中的属性初始值，而从data中声明。
2. 键盘输入并未写到UI时，v-model不会监听到，如果想处理可以使用input事件监听。（简单理解就是，pc输入中文，按回车才会写入到输入文本框中，期间v-model感知不到）
3. v-model 对于不同的元素使用不同的property(个人理解，不同表单元素有v-model会处理不同的属性及事件，了解就行，这玩意没记的必要)

    * text 和 textarea 元素使用 `value` property 和 `input` 事件；
    * checkbox 和 radio 使用 `checked` property 和 `change` 事件；
    * select 字段将` value `作为 prop 并将 `change` 作为事件。

## 文本

在文本区域插值 `<textarea>{{text}}</textarea>` 并不会生效，应用 `v-model`来代替

### 单行输入文本

例子：

```html
<input v-model="message" placeholder="edit me">
<p>Message is: {{ message }}</p>
```

### textarea标签

多行文本输入，例子：

```html
<span>Multiline message is:</span>
<p style="white-space: pre-line;">{{ message }}</p>
<br>
<textarea v-model="message" placeholder="add multiple lines"></textarea>
```

## 复选框

input type ：checkbox

可以指定标签属性：

```html
<input
  type="checkbox"
  v-model="toggle"
  true-value="yes"
  false-value="no"
>
<!-- 
    // 当选中时
    vm.toggle === 'yes'
    // 当没有选中时
    vm.toggle === 'no'
 -->
```

### 单选框

```html
<input type="checkbox" id="checkbox" v-model="checked">
<label for="checkbox">{{ checked }}</label>
```

### 多选框

多选框是增加了组类别，v-model绑定到数组中

```html
<input type="checkbox" id="jack" value="Jack" v-model="checkedNames">
<label for="jack">Jack</label>
<input type="checkbox" id="john" value="John" v-model="checkedNames">
<label for="john">John</label>
<input type="checkbox" id="mike" value="Mike" v-model="checkedNames">
<label for="mike">Mike</label>
<br>
<span>Checked names: {{ checkedNames }}</span>

<script>
new Vue({
  el: '...',
  data: {
    checkedNames: []
  }
})
</script>
```

## 单选按钮

input type ： radio

```html
<div id="example-4">
  <input type="radio" id="one" value="One" v-model="picked">
  <label for="one">One</label>
  <br>
  <input type="radio" id="two" value="Two" v-model="picked">
  <label for="two">Two</label>
  <br>
  <span>Picked: {{ picked }}</span>
</div>

<script>
new Vue({
  el: '#example-4',
  data: {
    picked: ''
  }
})
</script>
```

## 选择框`select`标签

### 单选

```html
<div id="example-5">
  <select v-model="selected">
    <option disabled value="">请选择</option>
    <option>A</option>
    <option>B</option>
    <option>C</option>
  </select>
  <span>Selected: {{ selected }}</span>
</div>

<script>
new Vue({
  el: '...',
  data: {
    selected: ''
  }
})
</script>
```

### 多选

多选是绑定到数组属性上

```html
<div id="example-6">
  <select v-model="selected" multiple style="width: 50px;">
    <option>A</option>
    <option>B</option>
    <option>C</option>
  </select>
  <br>
  <span>Selected: {{ selected }}</span>
</div>

<script>
new Vue({
  el: '#example-6',
  data: {
    selected: []
  }
})
</script>
```

### v-for 绑定案例

使用v-bind，这样可以响应，options中的value值变化。也可以不写，这样value就是写死固定的

```html
<select v-model="selected">
  <option v-for="option in options" v-bind:value="option.value">
    {{ option.text }}
  </option>
</select>
<span>Selected: {{ selected }}</span>

<script>
new Vue({
  el: '...',
  data: {
    selected: 'A',
    options: [
      { text: 'One', value: 'A' },
      { text: 'Two', value: 'B' },
      { text: 'Three', value: 'C' }
    ]
  }
})
</script>
```

---

## 值绑定

```html
<!-- 当选中时，`picked` 为字符串 "a" -->
<input type="radio" v-model="picked" value="a">

<!-- `toggle` 为 true 或 false -->
<input type="checkbox" v-model="toggle">

<!-- 当选中第一个选项时，`selected` 为字符串 "abc" -->
<select v-model="selected">
  <option value="abc">ABC</option>
</select>
```

这种绑定是静态的，可以使用v-bind指令，绑定到property上。
