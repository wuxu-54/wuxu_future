# 条件渲染

* v-if
* v-else
* v-else-if 2.1.0新增
* v-show

## `v-if`

`v-if` 条件性渲染。当true时，渲染在dom，false 从dom中移除。
`v-else` 必须跟在`v-if` 或 `v-else-if` 后。if为false走到这里。
`v-else-if` 必须跟在`v-if` 或 `v-else-if` 后。

例子：

```html
<div v-if="type === 'A'">A</div>
<div v-else-if="type === 'B'">B</div>
<div v-else>C</div>
```

注意： v-if 与 v-for 一起使用时，v-for 具有比 v-if 更高的优先级。但不推荐同时使用 v-if 和 v-for。原因在于它们的执行优先级以及性能考虑：

1. **执行优先级**：在 Vue 2 中，v-for 有比 v-if 更高的优先级。这意味着当两者同时用在同一个元素上时，Vue 会先进行列表渲染（v-for），然后对每个元素进行条件渲染（v-if）。这种情况下，即使某些元素最终不会被显示（因为 v-if 的条件不满足），Vue 依然会先创建这些元素的 DOM，然后再决定是否显示它们，这可能导致不必要的性能开销。
2. **性能考虑**：如果列表数据量很大，但只有少数几项满足 v-if 的条件，那么同时使用 v-for 和 v-if 会导致 Vue 先生成所有列表项的 DOM，然后再根据 v-if 条件决定是否显示，这会增加额外的计算和 DOM 操作，从而影响性能。

### 小技巧`<template>`元素使用

`<template>`元素使用，可以批量控制多个元素的渲染。

例子：

```html
<template v-if="loginType === 'username'">
  <label>Username</label>
  <input placeholder="Enter your username">
</template>
<template v-else>
  <label>Email</label>
  <input placeholder="Enter your email address">
</template>
```

## `Key`管理复用元素

上述代码，vue会有复用规则，两个条件下的元素是相同，在渲染时会复用。

那如果不想复用，怎么做？

采用`key`属性，来做管理

例子：

```html
<template v-if="loginType === 'username'">
  <label>Username</label>
  <input placeholder="Enter your username" key="username-input">
</template>
<template v-else>
  <label>Email</label>
  <input placeholder="Enter your email address" key="email-input">
</template>
```

解释：input 设定了不同值的key属性，此时vue渲染时认为他俩元素是独立的，不复用。

---

## `v-show`

是另一个根据条件展示元素的指令，用法与`v-if`大致相同。

与`v-if`区别

1. `v-show` 的元素始终会被渲染并保留在 DOM 中（操作css的display），而`v-if`是符号条件时才在DOM渲染
2. `v-if` 有更高的切换开销，而 `v-show` 有更高的初始渲染开销。因此，如果需要非常频繁地切换，则使用 `v-show` 较好；如果在运行时条件很少改变，则使用 `v-if` 较好。
3. `v-show` 不支持 `<template>` 元素，也不支持 `v-else`。
