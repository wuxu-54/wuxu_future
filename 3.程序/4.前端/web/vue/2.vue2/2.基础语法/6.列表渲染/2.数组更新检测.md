# 数组更新检测

`v-for` 引入的data中的数组，vue提供了方法进行响应式处理

## 变更方法

Vue 将被侦听的数组的变更方法进行了包裹，所以它们也将会触发视图更新

包裹的方法：

* push()
* pop()
* shift()
* unshift()
* splice()
* sort()
* reverse()

```javascript
example1.items.push({ message: 'Baz' })。
```

## 替换数组

上述的变更方法，在原始数组基础上做修改，而替换数组，是更换一个新的数组。

非更换方法，它们不会变更原始数组，而总是返回一个新数组：

* filter()
* concat()
* slice()

```javascript
example1.items = example1.items.filter(function (item) {
  return item.message.match(/Foo/)
})
```

>你可能认为这将导致 Vue 丢弃现有 DOM 并重新渲染整个列表。幸运的是，事实并非如此。Vue 为了使得 DOM 元素得到最大范围的重用而实现了一些智能的启发式方法，所以用一个含有相同元素的数组去替换原来的数组是非常高效的操作

## 注意事项

由于 JavaScript 的限制，Vue 不能检测数组和对象的变化。深入响应式原理中有相关的讨论。
