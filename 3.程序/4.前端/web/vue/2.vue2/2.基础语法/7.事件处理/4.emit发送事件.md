# $emit发送事件

在 Vue.js 中，`$emit` 是一个实例方法，用于在 Vue 组件上触发一个事件。当组件需要向外部（通常是父组件）发送数据或者通知时，这个方法非常有用。`$emit` 可以确保组件之间的通信是单向的，从而使得组件之间的关系更加清晰。

## 使用 `$emit`

`$emit` 方法的基本用法如下：

```javascript
this.$emit(eventName, data);
```

- `eventName`：触发的事件名称，字符串类型。
- `data`：（可选）传递给事件监听器的数据。

## 示例

假设我们有一个子组件 `ChildComponent`，当触发一个按钮点击事件时，我们希望向父组件发送一个自定义事件：

```vue
<!-- ChildComponent.vue -->
<template>
  <button @click="emitEvent">发射事件</button>
</template>

<script>
export default {
  methods: {
    emitEvent() {
      this.$emit('custom-event', 'Hello from child!');
    }
  }
};
</script>
```

在上述代码中，当按钮被点击时，`emitEvent` 方法会被调用，它会使用 `$emit` 触发一个名为 `custom-event` 的事件，并向监听器传递字符串 `'Hello from child!'`。

## 监听 `$emit` 事件

父组件可以通过 `v-on` 或 `@` 符号监听子组件触发的事件：

```vue
<!-- ParentComponent.vue -->
<template>
  <child-component @custom-event="handleCustomEvent"></child-component>
</template>

<script>
import ChildComponent from './ChildComponent.vue';

export default {
  components: {
    ChildComponent
  },
  methods: {
    handleCustomEvent(data) {
      console.log(data); // 输出: Hello from child!
    }
  }
};
</script>
```

在 `ParentComponent.vue` 中，我们使用 `@custom-event="handleCustomEvent"` 监听从 `ChildComponent` 发射的 `custom-event` 事件。当事件触发时，`handleCustomEvent` 方法会被调用，并且接收到子组件传递的数据。

## 总结

`$emit` 是 Vue 中实现组件间通信的关键方法之一，它允许子组件通过自定义事件与外部组件进行交互。通过使用 `$emit`，你可以构建松耦合的组件，使得代码更加模块化和可重用。
