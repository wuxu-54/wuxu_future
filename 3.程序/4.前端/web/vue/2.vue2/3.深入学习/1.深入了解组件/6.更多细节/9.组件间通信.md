# 组件间通信

在 Vue.js 中，除了 `$emit` 用于组件间通信，还有以下几种常用的通信方法：

1. **Props**
   - 父组件可以通过 `props` 向子组件传递数据。这是一种单向数据流，即数据只能从父组件流向子组件。

2. **Events ($on 和 $off)**
   - 子组件可以使用 `$emit` 向父组件发送事件，而父组件可以使用 `$on` 监听这些事件。这种方式允许双向通信，但通常用于父子组件间的通信。

3. **Custom Directives (vnode hooks)**
   - 自定义指令可以用于在渲染过程中插入自定义逻辑，实现复杂的组件间交互。

4. **$attrs 和 $listeners (or $emit)**
   - `$attrs` 包含父作用域中不作为 `props` 被识别（且获取）的属性绑定（`class` 和 `style` 除外），可以在子组件中通过 `v-bind="$attrs"` 传入。`$listeners` 包含了父作用域中的 (不含 `.native` 修饰器的) `v-on` 事件监听器。它可以用来传递一个事件监听器到子组件。

5. **provide/inject (provide/inject API)**
   - 这是一种更高级的通信方式，允许祖先组件向所有后代组件注入一个依赖，而不论组件层次有多深，并允许后代组件检索该依赖。

6. **Vuex**
   - 对于复杂应用，Vuex 是一个集中式管理状态的模式和库，可以用于组件间的共享状态管理。

7. **$root 和 $children**
   - 在某些情况下，你可能会用到 `$root` 访问根实例或使用 `$children` 数组访问子组件，但这种方式通常不推荐，因为它可能会导致组件之间的关系变得紧密耦合。

8. **$attrs with v-on**
   - 将非 `props` 的 `v-bind` 或 `v-on` 绑定通过 `$attrs` 和 `v-on` 传递给子组件。

9. **Slots**
   - 插槽（Slots）允许你分发内容给组件的插槽插槽模板，常用于创建具有插槽内容的组件。

10. **VNode Data**
    - 直接操作虚拟节点（VNode）的数据，这通常是 Vue 2.x 及其过渡系统的内部API，不推荐直接在应用代码中使用。

11. **Global Event Bus**
    - 通过创建一个新的 Vue 实例作为事件总线，组件可以使用 `$on`、`$once`、`$off` 和 `$emit` 方法进行通信。

12. **Contextual Methods**
    - 在函数式组件中，可以利用 `context` 对象访问 `attrs`、`listeners`、`slots` 等。

选择哪种通信方式取决于具体的应用场景和组件之间的关系。在决定使用哪种通信方式时，考虑组件的耦合度、可维护性以及性能是很重要的。通常，推荐优先使用 `props` 和 `events` 实现父子组件间的通信，对于复杂或多级的状态管理，则使用 Vuex。
