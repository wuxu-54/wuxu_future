# 支持条件渲染

在 React 中，你可以使用 `if` 语句、`&&` 和 `? : 运算符`等 JavaScript 语法有条件地渲染 JSX。组件`return null`表示不渲染

- 在 React 中，你可以使用 JavaScript 控制分支逻辑。
- 你可以使用 if 语句有条件地返回 JSX 表达式。
- 你可以有条件地将一些 JSX 保存到一个变量，然后使用大括号将其包含在其他 JSX 中。
- 在 JSX 中，`{cond ? <A /> : <B />}` 的意思是“如果 cond，则渲染 `<A />`，否则渲染 `<B />`”。
- 在 JSX 中，`{cond && <A />}` 的意思是“如果 `cond`，则渲染 `<A />`，否则什么也不做”。 cond不能是数字
- 快捷方式很常见，但如果你喜欢普通的 if，则不必使用它们。

```js
function Item({ name, isPacked }) {
  if (isPacked) { // 条件判断
    return null;
  }
  return <li className="item">{name}</li>;

// 也可以通过三元运算符：
//   return (
//   <li className="item">
//     {isPacked ? name + ' ✅' : name}
//   </li>
// );

// 使用逻辑运算符：
//   return (
//     <li className="item">
//       {name} {isPacked && '✅'}
//     </li>
//   );
}

export default function PackingList() {
  return (
    <section>
      <h1>Sally Ride's Packing List</h1>
      <ul>
        <Item 
          isPacked={true} 
          name="Space suit" 
        />
        <Item 
          isPacked={true} 
          name="Helmet with a golden leaf" 
        />
        <Item 
          isPacked={false} 
          name="Photo of Tam" 
        />
      </ul>
    </section>
  );
}
```

## 注意

**不要将数字放在 && 的左侧**。

为了测试条件，JavaScript 自动将左侧转换为布尔值。但是，如果左侧是 0，那么整个表达式都会得到该值 (0)，React 会愉快地渲染 0 而不是什么都没有。

例如，一个常见的错误是编写像 `messageCount && <p>New messages</p>` 这样的代码。很容易假设当`messageCount` 为 0 时它不渲染任何东西，但它确实渲染了 0 本身！

要修复它，请将左侧设置为布尔值：`messageCount > 0 && <p>New messages</p>`。

## 可以通过条件判断设定变量

你可以重新分配用 let 定义的变量（支持JSX），因此首先提供你要显示的默认内容

```js
function Item({ name, isPacked }) {
  let itemContent = name;//默认内容
  if (isPacked) {
    itemContent = ( // 支持JSX
      <del>
        {name + " ✅"}
      </del>
    );
  }
  return (
    <li className="item">
      {itemContent}
    </li>
  );
}

export default function PackingList() {
  return (
    <section>
      <h1>Sally Ride's Packing List</h1>
      <ul>
        <Item 
          isPacked={true} 
          name="Space suit" 
        />
        <Item 
          isPacked={true} 
          name="Helmet with a golden leaf" 
        />
        <Item 
          isPacked={false} 
          name="Photo of Tam" 
        />
      </ul>
    </section>
  );
}
```
