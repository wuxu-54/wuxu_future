# 构建组件

React 组件是一个 JavaScript 函数

## 组件约束

1. 必须大写开头：确保 JSX 正确识别组件。   html普通标签首字母都是小写，react要求组件首字母大写，以此来区分是组件还是普通标签
2. 遵循 PascalCase(驼峰命名)：提高代码可读性。
3. 语义化命名：让组件用途一目了然。

如果违反这些规则，React 可能会抛出类似 Uncaught Error: React.createElement: type is invalid 的错误。

为什么有这个规范？

这是 JSX 语法的设计决定的。JSX 编译时会将：

`<div>` 转换为 `React.createElement('div')`（HTML 标签）。
`<MyComponent>` 转换为 `React.createElement(MyComponent)`（自定义组件）。

如果组件名小写，JSX 会误认为是 HTML 标签，导致运行时错误。

## 定义组件

1. 导出组件

使用 `export default` 导出组件（也就是一个函数）

2. 定义函数

`function 组件名(组件属性作为参数){}`

3. 添加标记

即组件返回一组html标签数据，注意：如果不与return在同一行必须加上小括号，否则下一行后面的代码都被忽略。

```jsx
return (
    <div>
        123
    </div>
)
```

## 使用组件

使用就是html标签方式当做函数调用使用。html标签方式作为函数名调用，标签的属性作为函数的入参

```jsx
//定义组件
function MyComponent({text}){
    return (
        <div>
            {text}
        </div>
    );
}

//使用
export default function SecondComponent(){
    return (
        <MyComponent text="112"/> // MyComponent 标签作为调用，text当做入参
    );
}

```

## 组件嵌套要求

组件是常规的 JavaScript 函数，因此你可以将多个组件保存在同一个文件中。当组件相对较小或彼此紧密相关时，这很方便。如果此文件变得拥挤，你始终可以将 Profile 移至单独的文件。你很快就会在 关于导入的页面 上学习如何执行此操作。

因为 Profile 组件在 Gallery 内部渲染（甚至多次！），我们可以说 Gallery 是父组件，将每个 Profile 渲染为 “子级”。这是 React 魔力的一部分：你可以定义一个组件一次，然后在任意多处多次使用它。

### 易犯错误

组件可以渲染其他组件，但绝对不能嵌套它们的定义：

```js
export default function Gallery() {
  // 🔴 Never define a component inside another component!
  function Profile() {
    // ...
  }
  // ...
}
```

上面的代码片段是 **非常慢并且会导致错误**。改为在顶层定义每个组件：

```js
export default function Gallery() {
  // ...
}

// ✅ Declare components at the top level
function Profile() {
  // ...
}
```

当子组件需要来自父级的一些数据时，通过**属性传递** 而不是嵌套定义。
