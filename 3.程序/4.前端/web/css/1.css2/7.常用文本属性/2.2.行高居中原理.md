# 行高与元素高度相等时居中的原理

当元素的高度和 `line-height` 相等时，单行文本会在元素内垂直居中显示，这背后涉及到 CSS 中盒模型、`line-height` 的工作机制以及文本的基线等概念。
> 文本的基线、对齐原理等直接看视频学习

下面为你详细解释：

## 1. `line-height` 的本质和行框盒子

- **`line-height` 创造行框盒子**：在 CSS 里，`line-height` 属性的作用是为文本创建一个行框盒子（line box）。行框盒子是一个虚拟的矩形区域，它的高度由 `line-height` 的值决定。例如，当你设置 `line-height: 30px` 时，就为文本创造了一个高度为 30px 的行框盒子。
- **行框盒子包裹文本**：文本内容会被包含在行框盒子内部，而行框盒子会在垂直方向上为文本提供一定的空间。

## 2. 文本的基线和垂直对齐

- **基线的概念**：在排版中，基线（baseline）是字母如 `x` 底部所在的水平线，它是文本排版的一个重要参考线。大多数情况下，文本是基于基线进行排版和对齐的。
- **垂直对齐方式**：默认情况下，行内元素的垂直对齐方式是 `baseline`，也就是元素会以自身的基线与父元素的基线对齐。

## 3. 元素高度和 `line-height` 相等时的情况

- **空间分布均匀**：当元素的高度和 `line-height` 相等时，行框盒子的高度就和元素的高度一致。**由于行框盒子是围绕文本内容分布的，且在垂直方向上，行框盒子的额外空间会均匀地分布在文本的上方和下方。**
    >重点就是：行框盒子是围绕文本内容分布的，且在垂直方向上，行框盒子的额外空间会均匀地分布在文本的上方和下方。所以会居中显示文本
- **实现垂直居中**：这种均匀的空间分布使得文本在元素内部自然地呈现出垂直居中的效果。例如，一个高度为 50px 的元素，设置 `line-height: 50px`，此时行框盒子高度也是 50px，文本上下方的额外空间相等，从而实现了单行文本在元素内的垂直居中。

## 示例代码及效果验证

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <style>
       .centered-text {
            height: 50px;
            line-height: 50px;
            background-color: #f0f0f0;
            text-align: center; /* 为了同时展示水平居中效果 */
        }
    </style>
</head>

<body>
    <div class="centered-text">这是单行垂直居中的文本</div>
</body>

</html>
```

在上述示例中，`div` 元素的高度和 `line-height` 都设置为 50px，你可以看到其中的单行文本实现了垂直居中显示。

综上所述，元素高度和 `line-height` 相等时单行文本垂直居中，是因为行框盒子高度与元素高度一致，且额外空间均匀分布在文本上下方，进而实现了视觉上的垂直居中效果。

## 我来总结两句

1. 明确行高概念：官方指两行文字间基线的距离。我们可以认为成一个放在元素内的盒子，元素的高即为height，盒子的高即为line-height。可以根据下图，更好的理解

    ![行高概念](./%E8%A1%8C%E9%AB%98%E6%A6%82%E5%BF%B5.jpeg)

2. 由上面概念及图示可知，4线即为文字本身高度。
3. 行盒子会平均分配文字高以外的空间，此为间距。记住公式：`盒子的高度=文字高度+上下间距`。 `上、下间距（百分百相等的）= （盒子高度-文字高度）/2` 。
4. 综上：
    - 当盒子高度不等于元素本身高时，盒子会处于元素的顶部；
    - 当盒子高度等于元素本身高时，盒子自动分配间距，此时文本垂直居中。

    ![行高](./%E8%A1%8C%E9%AB%98.png)
