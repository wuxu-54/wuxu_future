# 处理Object类

以下是将Gson解析的`Object`转换为具体类的**5种核心方式**，精简总结：

## 1. 强制类型转换（Primitive/String）

```java
if (obj instanceof String) {
    String str = (String) obj;
}
```

## 2. 转回JSON字符串再解析

```java
String json = gson.toJson(obj);
MyClass myClass = gson.fromJson(json, MyClass.class);
```

## 3. 通过JsonElement解析嵌套结构

```java
JsonElement element = gson.toJsonTree(obj);
if (element.isJsonObject()) {
    String field = element.getAsJsonObject().get("field").getAsString();
}
```

## 4. 处理泛型集合（List/Map）

```java
Type listType = new TypeToken<List<String>>(){}.getType();
List<String> list = gson.fromJson(gson.toJson(obj), listType);
```

## 5. 自定义反序列化器（复杂场景）

```java
Gson gson = new GsonBuilder()
    .registerTypeAdapter(MyClass.class, new JsonDeserializer<MyClass>() {
        @Override
        public MyClass deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) {
            // 自定义解析逻辑
        }
    })
    .create();
```

## 关键选择原则

- **简单类型**：优先用方式1
- **嵌套结构**：用方式2或3
- **泛型集合**：用方式4
- **复杂/定制需求**：用方式5
