# App程序的启动

## Application的启动

![Alt text](%E9%9D%9E%E7%B3%BB%E7%BB%9FAPP%E5%90%AF%E5%8A%A8-Application%E7%9A%84%E5%88%9B%E5%BB%BA.png)

## Activity的启动

1. AMS始终是系统进程的，所有app进程与AMS的操作，都是通过binder通信。
2. 从启动Activity开始分析。
    * launcher桌面图标启动  ：zygote fork应用，ActivityThread.main() ，bindApplication(),ApplicationThread.launchActivity
    * 本地app页面启动，直接launchActivity

launcherActivity ，AMS handler 写入命令：onActivity


ActivityStartController 启动流程控制，创建ActvityStarter

ActvityStarter：封装创建Activity所需的所有信息的类。

ActivityStackSupervisor  负责创建、管理和销毁任务栈。Android 12以后被移除
