# 核心服务

Android 系统级服务是运行在 `system_server` 进程中、负责核心系统功能的关键模块，它们通过 Binder 机制为应用层提供接口。以下是主要系统级服务模块及其功能的总结，以表格形式呈现：

| 服务名称（Service）         | 核心功能                                                                 | 所属模块/典型源码路径                                                                 | 关键作用领域                 |
|---------------------------|--------------------------------------------------------------------------|--------------------------------------------------------------------------------------|------------------------------|
| **ActivityManagerService（AMS）** | 管理 Activity 生命周期、任务栈、进程（创建/销毁/优先级）、内存回收、权限验证。 | `frameworks/base/services/core/java/com/android/server/am/`                          | 组件与进程管理               |
| **PackageManagerService（PMS）** | 负责 APK 安装/卸载/更新、解析 AndroidManifest.xml、管理权限、应用信息查询。   | `frameworks/base/services/core/java/com/android/server/pm/`                          | 应用包管理                   |
| **WindowManagerService（WMS）** | 管理窗口创建/销毁/排版、窗口焦点、屏幕旋转、Surface 分配（与渲染系统交互）。 | `frameworks/base/services/core/java/com/android/server/wm/`                          | 窗口与UI管理                 |
| **InputManagerService（IMS）** | 接收并分发输入事件（触摸、按键、传感器等），管理输入焦点。                   | `frameworks/base/services/core/java/com/android/server/input/`                       | 输入事件处理                 |
| **PowerManagerService（PMS）** | 管理设备电源状态（休眠/唤醒）、亮度调节、电量统计、低功耗模式（如Doze）。     | `frameworks/base/services/core/java/com/android/server/power/`                       | 电源与功耗管理               |
| **NotificationManagerService（NMS）** | 管理通知的展示/取消、通知渠道、权限控制、状态栏交互。                         | `frameworks/base/services/core/java/com/android/server/notification/`                 | 通知管理                     |
| **TelephonyManagerService**  | 处理电话呼叫、短信、移动网络（4G/5G）、SIM卡管理、信号强度监控。              | `frameworks/opt/telephony/src/java/com/android/internal/telephony/`                   | 通信（电话/短信）            |
| **WifiManagerService**      | 管理 WiFi 连接/断开、扫描、热点、网络配置、与基站交互。                       | `frameworks/base/wifi/java/com/android/server/wifi/`                                 | 无线网络管理                 |
| **BluetoothManagerService** | 管理蓝牙开关、设备配对、数据传输、BLE（低功耗蓝牙）通信。                     | `frameworks/base/services/core/java/com/android/server/bluetooth/`                    | 蓝牙通信管理                 |
| **LocationManagerService（LMS）** | 整合 GPS、基站、WiFi 定位信息，提供位置服务，管理定位权限。                    | `frameworks/base/services/core/java/com/android/server/location/`                     | 定位服务                     |
| **AudioService**            | 管理音频播放/录制、音量调节、音频路由（扬声器/耳机）、音效设置。               | `frameworks/base/services/core/java/com/android/server/audio/`                        | 音频管理                     |
| **StorageManagerService（SMS）** | 管理内部/外部存储、分区挂载、存储权限、磁盘空间监控、文件系统加密。           | `frameworks/base/services/core/java/com/android/server/storage/`                      | 存储管理                     |
| **AlarmManagerService**     | 提供定时任务服务（一次性/周期性），唤醒设备执行任务（如闹钟、后台同步）。       | `frameworks/base/services/core/java/com/android/server/alarm/`                        | 定时任务与唤醒               |
| **JobSchedulerService**     | 管理延迟/条件触发的后台任务（如网络可用时同步数据），优化后台任务资源占用。   | `frameworks/base/services/core/java/com/android/server/job/`                          | 后台任务调度                 |
| **ConnectivityService**     | 管理网络连接（WiFi/移动数据/以太网）、网络切换、流量统计、网络权限控制。       | `frameworks/base/services/core/java/com/android/server/connectivity/`                 | 网络连接管理                 |
| **ClipboardManagerService** | 管理系统剪贴板，提供数据复制/粘贴功能，控制剪贴板访问权限。                   | `frameworks/base/services/core/java/com/android/server/clipboard/`                    | 剪贴板管理                   |

## 总结说明：

1. **核心特性**：所有系统服务均通过 Binder 接口向应用层提供服务（应用通过 `Context.getSystemService()` 获取），确保跨进程通信的安全性和效率。  
2. **依赖关系**：服务间存在协同（如 AMS 与 WMS 共同管理 Activity 窗口；PMS 与 AMS 协同处理应用进程创建）。  
3. **扩展性**：部分服务支持插件化扩展（如 Telephony 可适配不同运营商模块），但核心逻辑由系统框架维护。  

通过这些服务，Android 实现了对设备硬件、应用生命周期、用户交互等核心场景的统一管理，是系统稳定性和安全性的基础。
