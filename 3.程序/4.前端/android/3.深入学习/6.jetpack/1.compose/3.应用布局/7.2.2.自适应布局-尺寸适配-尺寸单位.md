# 尺寸单位

在 Jetpack Compose 中，尺寸单位主要使用 **逻辑像素单位**（与 Android 传统 View 系统中的 `dp/sp` 概念相似），但语法更简洁。以下是核心概念：

---

## 1. **密度无关像素 - `dp`**

- **作用**：用于布局尺寸（宽/高/边距等）
- **语法**：`.dp` 后缀
- **特性**：根据屏幕密度自动缩放

```kotlin
Box(
    modifier = Modifier
        .size(100.dp)      // 宽高各 100dp
        .padding(16.dp)    // 内边距 16dp
) { ... }
```

---

## 2. **缩放无关像素 - `sp`**

- **作用**：专用于**文字大小**
- **语法**：`.sp` 后缀
- **特性**：根据系统字体缩放设置调整大小

```kotlin
Text(
    text = "Hello Compose",
    fontSize = 18.sp,  // 字体大小
    modifier = Modifier.padding(8.dp)
)
```

---

## 3. **像素 - `px`（不推荐）**

- **作用**：直接使用物理像素（极少用）
- **风险**：在不同密度的屏幕上显示不一致

```kotlin
// 仅在特殊场景（如绘制精确像素线）使用
val lineWidth = 1.px
```

---

## 4. **百分比与相对尺寸**

通过 `Modifier` 实现相对布局：

```kotlin
Box(Modifier.fillMaxWidth(0.8f)) // 占据父容器的 80% 宽度
Box(Modifier.fillMaxHeight())    // 100% 父容器高度
```

---

## 5. **获取屏幕尺寸**

通过 `LocalConfiguration` 获取屏幕信息：

```kotlin
val configuration = LocalConfiguration.current
val screenWidthDp = configuration.screenWidthDp.dp
val screenHeightDp = configuration.screenHeightDp.dp
```

---

## 6. **单位转换**

在自定义绘制等场景中，需将 `dp` 转换为像素：

```kotlin
val density = LocalDensity.current
val paddingPx = with(density) { 16.dp.toPx() } // dp → 像素
```

---

## ⚠️ 重要原则

1. **优先使用 `dp`**：确保在不同屏幕密度下一致
2. **文字必须用 `sp`**：尊重用户字体设置
3. **避免 `px`**：除非处理 1 物理像素的线等特殊需求
4. **利用相对布局**：`fillMaxSize`/`weight` 等减少硬编码尺寸

---

## 示例：组合使用

```kotlin
Column(
    modifier = Modifier
        .fillMaxWidth()
        .padding(24.dp)
) {
    Text(
        text = "Jetpack Compose",
        fontSize = 24.sp,
        modifier = Modifier.padding(bottom = 16.dp)
    )
    Box(
        modifier = Modifier
            .height(1.dp)  // 1dp 高的分割线
    )
}
```

通过逻辑像素单位（`dp/sp`），Compose 自动处理屏幕适配问题，开发者只需关注设计逻辑尺寸即可。
