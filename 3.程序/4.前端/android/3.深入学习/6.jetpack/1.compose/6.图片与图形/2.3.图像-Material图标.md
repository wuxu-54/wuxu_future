
# Material 图标  

原地址：<https://developer.android.google.cn/develop/ui/compose/graphics/images/material?hl=zh-cn>  

## 一、核心概念与设计规范  

### 1.1 Material 图标定义  

- **矢量图形**：遵循 **Material Design 3** 规范的单色图标，通过数学路径描述形状，支持无限缩放且不失真。  
- **核心优势**：  
  - **一致性**：与 Android 系统及全球数百万应用的视觉语言统一。  
  - **灵活性**：可动态调整颜色、大小、透明度，适配不同场景。  
  - **轻量性**：矢量格式文件体积小，内存占用低。  

### 1.2 设计准则  

- **单色设计**：图标仅包含一种主色（支持通过主题动态切换），复杂图标通过 **描边宽度** 区分层级（如 `Outlined` 图标）。  
- **视觉重量均衡**：所有图标在相同尺寸下视觉密度一致，避免某一图标显得过粗或过细。  
- **动态适配**：自动响应系统主题（浅色/深色模式）和无障碍设置（如高对比度模式）。  

## 二、使用 Material 图标  

### 2.1 导入图标库  

- **依赖添加**：Compose 内置 Material 图标库，无需额外依赖，直接导入 `androidx.compose.material.icons.Icons`。  
- **图标分类**：  
  - `Icons.Filled`：实心填充图标（如 `Home`、`Search`）。  
  - `Icons.Outlined`：描边轮廓图标（如 `HomeOutlined`、`SearchOutlined`）。  
  - `Icons.Rounded`：圆角风格图标（如 `HomeRounded`）。  
  - `Icons.Sharp`：棱角分明的锐利风格图标（如 `HomeSharp`）。  

### 2.2 基础使用示例  

```kotlin  
import androidx.compose.material.icons.Icons  
import androidx.compose.material.icons.filled.Home  
import androidx.compose.ui.Modifier  
import androidx.compose.ui.graphics.Color  
import androidx.compose.ui.unit.dp  

// 简单使用（默认样式）  
Image(  
    imageVector = Icons.Filled.Home,  
    contentDescription = "主页图标",  
    modifier = Modifier.size(24.dp)  
)  

// 自定义颜色和大小  
Image(  
    imageVector = Icons.Outlined.Home,  
    contentDescription = null, // 装饰性图标，无需描述  
    tint = Color.Red,  
    modifier = Modifier.size(36.dp)  
)  
```  

## 三、样式自定义与属性配置  

### 3.1 核心可配置属性  

| **属性**          | **说明**                                                                 | **示例**                                                                 |  
|-------------------|--------------------------------------------------------------------------|--------------------------------------------------------------------------|  
| `tint`            | 图标颜色（支持主题颜色或自定义色值），矢量图专属特性（位图不支持）。      | `tint = MaterialTheme.colorScheme.primary`                               |  
| `modifier`        | 控制图标尺寸、旋转、裁剪等，推荐使用 `size()` 修饰符设置大小。            | `modifier = Modifier.size(48.dp).rotate(180f)`                          |  
| `alpha`           | 透明度（0.0 完全透明，1.0 完全不透明）。                                  | `alpha = 0.5f`                                                           |  
| `contentDescription` | 无障碍描述，功能性图标（如导航按钮）需提供，装饰性图标设为 `null`。     | `contentDescription = stringResource(id = R.string.home_description)`    |  

### 3.2 颜色适配最佳实践  

- **主题集成**：通过 `MaterialTheme.colorScheme` 获取动态颜色，确保图标在浅色/深色模式下自动切换。  

  ```kotlin  
  tint = MaterialTheme.colorScheme.onSurfaceVariant  
  ```  

- **高对比度场景**：利用 `LocalContentColor` 本地组合，适配系统无障碍设置。  

  ```kotlin  
  val contentColor = LocalContentColor.current  
  Image(imageVector = ..., tint = contentColor)  
  ```  

## 四、与系统组件集成  

### 4.1 在按钮中使用图标  

- **文本按钮 + 图标**：通过 `Icon` 组件或 `Image` 组件与 `Text` 组合。  

  ```kotlin  
  Button(  
      onClick = { /* 点击事件 */ },  
      contentPadding = PaddingValues(12.dp)  
  ) {  
      Image(  
          imageVector = Icons.Filled.Send,  
          contentDescription = "发送",  
          modifier = Modifier.size(18.dp),  
          tint = Color.White  
      )  
      Spacer(modifier = Modifier.width(8.dp))  
      Text("发送消息")  
  }  
  ```  

### 4.2 底部导航栏图标  

- **适配选中/未选中状态**：通过 `tint` 属性动态切换颜色（结合 `isSelected` 状态）。  

  ```kotlin  
  BottomNavigationItem(  
      icon = {  
          Image(  
              imageVector = if (isSelected) Icons.Filled.Home else Icons.Outlined.Home,  
              contentDescription = "主页"  
          )  
      },  
      selected = isSelected,  
      onClick = { /* 切换页面 */ }  
  )  
  ```  

## 五、流程图  

```mermaid  
flowchart TD  
    A[使用 Material 图标流程] --> B[选择图标类型]  
    B --> C[Filled/Outlined/Rounded/Sharp 风格]  
    C --> D[导入图标库]  
    D --> E[配置基础属性]  
    E --> F[设置尺寸（modifier.size()）]  
    E --> G[定义无障碍描述（contentDescription）]  
    E --> H[自定义样式]  
    H --> I[颜色（tint，关联主题色）]  
    H --> J[透明度（alpha）]  
    H --> K[旋转/裁剪（modifier 修饰符）]  
    E --> L[集成到组件（按钮、导航栏等）]  
    L --> M[动态状态适配（选中/未选中颜色切换）]  
```  

## 六、最佳实践与注意事项  

### 6.1 性能优化  

- **矢量图优势**：优先使用 `ImageVector` 格式图标，避免重复创建位图对象导致的内存开销。  
- **缓存机制**：Compose 自动缓存矢量图路径，无需手动处理资源释放。  

### 6.2 无障碍设计  

- **功能性图标**：必须提供 `contentDescription`，描述图标代表的功能（如“搜索”“返回”）。  
- **装饰性图标**：纯视觉元素（如分隔线图标）设为 `contentDescription = null`，避免干扰屏幕阅读器。  

### 6.3 资源管理  

- **图标命名规范**：遵循 `[功能]_filled/outlined/rounded/sharp` 命名，便于团队协作和维护。  
- **图标搜索工具**：使用 [Material Icons 官网](https://material.io/resources/icons) 查找图标名称和样式。  

## 七、关键代码示例汇总  

| **场景**               | **代码示例**                                                                 |  
|------------------------|------------------------------------------------------------------------------|  
| 基础图标显示           | `Image(imageVector = Icons.Filled.Home, contentDescription = "主页")`         |  
| 自定义颜色与大小       | `Image(..., tint = Color.Blue, modifier = Modifier.size(32.dp))`             |  
| 适配主题颜色           | `tint = MaterialTheme.colorScheme.secondary`                                 |  
| 装饰性图标（无描述）    | `contentDescription = null`                                                  |  
| 按钮中组合图标与文本    | 见 [图标文档](https://developer.android.google.cn/reference/kotlin/androidx/compose/material/icons/package-summary) |
