# Jetpack Compose 组件架构图

## 1. 整体组件结构

```mermaid
mindmap
  root((Compose组件))
    基础组件
      Text
      Image
      Box
      Spacer
      Divider
    交互组件
      按钮系列
        Button
        TextButton
        IconButton
        FloatingActionButton
      表单系列
        Checkbox
        RadioButton
        Switch
        Slider
      标签系列
        Chip
        FilterChip
        InputChip
      日期选择器
        DatePicker
        DatePickerDialog
    布局组件
      基础布局
        Row
        Column
        Box
      列表布局
        LazyColumn
        LazyRow
        LazyVerticalGrid
        LazyHorizontalGrid
        PullToRefresh
    容器组件
      Scaffold
      Card
      Dialog系列
        AlertDialog
        Dialog
        DatePickerDialog
      BottomSheet系列
        ModalBottomSheet
        PersistentBottomSheet
      Menu系列
        DropdownMenu
        OverflowMenu
    指示组件
      Badge
      ProgressIndicator系列
        CircularProgressIndicator
        LinearProgressIndicator
      Snackbar
      Tooltip
```

## 2. 导航组件结构

```mermaid
graph TB
    Nav[导航组件] --> Top[顶部导航]
    Nav --> Bottom[底部导航]
    Nav --> Side[侧边导航]
    
    Top --> TopBar[TopAppBar]
    TopBar --> Standard[标准TopAppBar]
    TopBar --> Center[居中TopAppBar]
    TopBar --> Small[小型TopAppBar]
    TopBar --> Medium[中型TopAppBar]
    TopBar --> Large[大型TopAppBar]
    
    Bottom --> BNB[BottomNavigation]
    Bottom --> BNI[BottomNavigationItem]
    
    Side --> Drawer[NavigationDrawer]
    Side --> Rail[NavigationRail]
```

## 3. 交互流程图

### 3.1 列表渲染流程

```mermaid
flowchart LR
    A[数据源] --> B[LazyList初始化]
    B --> C[计算可见区域]
    C --> D[仅渲染可见项]
    D --> E[滑动监听]
    E --> F{是否需要更新?}
    F -- 是 --> G[回收不可见项]
    G --> H[创建新可见项]
    H --> E
    F -- 否 --> E
```

### 3.2 下拉刷新流程

```mermaid
flowchart TD
    A[检测下拉手势] --> B{超过阈值?}
    B -- 否 --> A
    B -- 是 --> C[显示刷新指示器]
    C --> D[触发刷新回调]
    D --> E[执行数据刷新]
    E --> F[更新UI]
    F --> G[隐藏指示器]
```

### 3.3 对话框显示流程

```mermaid
flowchart TD
    A[触发显示] --> B[创建Dialog]
    B --> C[动画展示]
    C --> D{用户操作}
    D -- 确认 --> E[执行确认回调]
    D -- 取消 --> F[执行取消回调]
    E --> G[关闭对话框]
    F --> G
    G --> H[动画隐藏]
```

## 4. 资源管理

```mermaid
graph LR
    Resources[资源管理] --> Strings[字符串资源]
    Resources --> Colors[颜色资源]
    Resources --> Dimens[尺寸资源]
    Resources --> Drawables[图片资源]
    Resources --> Themes[主题资源]
    
    Strings --> S1[stringResource]
    Colors --> C1[colorResource]
    Dimens --> D1[dimensionResource]
    Drawables --> Dr1[imageResource]
    Drawables --> Dr2[vectorResource]
    Themes --> T1[MaterialTheme]
```

## 5. Scaffold 布局结构

```mermaid
graph TB
    Scaffold --> TopBar[顶部应用栏]
    Scaffold --> Content[主要内容]
    Scaffold --> BottomBar[底部导航栏]
    Scaffold --> FAB[悬浮按钮]
    Scaffold --> Drawer[抽屉导航]
    
    TopBar --> Title[标题]
    TopBar --> Actions[操作按钮]
    TopBar --> NavIcon[导航图标]
    
    Content --> Main[主界面]
    
    BottomBar --> NavItems[导航项]
    
    Drawer --> DrawerHeader[抽屉头部]
    Drawer --> DrawerBody[抽屉内容]
    
    FAB --> FABContent[FAB内容]
```

以上架构图使用了思维导图和流程图的方式展示了 Jetpack Compose 组件的层次结构、交互流程和关系。每个图都突出显示了不同角度的组件关系，便于理解整个组件体系。
