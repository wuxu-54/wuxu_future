# ColorStateList

换肤时，需要注意ColorStateList类型资源，即Selector

## 简介

在Android开发中，`ColorStateList`是一个用于定义不同状态下视图颜色的类。它允许开发者为按钮、开关、文本视图等控件设置在不同状态下（如默认、按下、聚焦、禁用等）显示的颜色。

`ColorStateList`通常与状态描述符数组一起使用，状态描述符定义了颜色应该何时被使用。状态描述符可以是以下几种：

- `android:state_focused` - 当视图获得焦点时。
- `android:state_hovered` - 当视图被悬停时（对于支持悬浮操作的设备）。
- `android:state_pressed` - 当视图被按下时。
- `android:state_selected` - 当视图被选中时。
- `android:state_checkable` - 当视图是可勾选的（如开关或复选框）。
- `android:state_checked` - 当视图被勾选时。
- `android:state_enabled` - 当视图是启用状态时。
- `android:state_window_focused` - 当窗口获得焦点时。

### 创建ColorStateList

你可以使用不同的方法来创建`ColorStateList`：

1. **使用XML资源文件**：
   在XML资源文件中定义颜色状态列表，例如`res/color/button_states.xml`：

   ```xml
   <selector xmlns:android="http://schemas.android.com/apk/res/android">
       <item android:state_pressed="true" android:color="#FF0000"/> <!-- Pressed -->
       <item android:state_focused="true" android:color="#00FF00"/> <!-- Focused -->
       <item android:state_hovered="true" android:color="#0000FF"/> <!-- Hovered -->
       <item android:color="#FFFFFF"/> <!-- Default -->
   </selector>
   ```

   然后在代码中通过资源ID引用：

   ```java
   ColorStateList colorStateList = ContextCompat.getColorStateList(context, R.color.button_states);
   ```

2. **在代码中创建**：
   直接在Java或Kotlin代码中创建`ColorStateList`：

   ```java
   int defaultColor = Color.WHITE;
   int pressedColor = Color.RED;
   ColorStateList colorStateList = new ColorStateList(
       new int[][]{
           new int[]{android.R.attr.state_pressed}, // pressed
           new int[]{android.R.attr.state_focused}, // focused
           new int[]{} // default
       },
       new int[]{
           pressedColor,
           defaultColor,
           defaultColor
       }
   );
   ```

### 使用ColorStateList

创建了`ColorStateList`之后，你可以将它应用到任何支持它的视图属性上，比如按钮的文本颜色或背景颜色：

```java
Button button = findViewById(R.id.myButton);
button.setTextColor(colorStateList);
// 或者设置背景颜色
button.setBackgroundTintList(colorStateList);
```

使用`ColorStateList`可以增强用户界面的交互性，通过颜色变化提供反馈，让用户知道他们的操作是否成功，或者控件是否被选中或激活。
