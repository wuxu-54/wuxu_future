# getIdentifier方法

`Resources.getIdentifier()` 方法是 Android 开发中用于动态获取资源 ID 的一个非常有用的工具。这个方法允许你根据资源的名称和类型，以及资源所在的包名，在运行时获取资源的 ID。这在使用配置文件、主题或需要动态访问资源时非常有用。

## 使用 `Resources.getIdentifier()` 方法

该方法的基本语法如下：

```java
int getIdentifier(String name, String defType, String defPackage);
```

- `name`：资源的名称。
- `defType`：资源的类型（如 `"string"`、`"drawable"`、`"color"` 等）。如果资源名称中已经包含了类型，这个参数可以为空或者不提供。
- `defPackage`：资源所在的包名。如果资源名称是绝对名称（包含了包名），这个参数可以为空或者不提供。

## 具体解释

当你有一个资源名称，但不知道它的 ID 时，你可以使用 `getIdentifier()` 来获取。这个方法非常有用，特别是当你处理不同版本的资源或第三方库的资源时，因为这些资源的 ID 可能在你的项目中没有直接暴露。

## 示例

假设你有一个颜色资源 `primary_color` 在 `colors.xml` 文件中，并且你想动态地获取这个颜色资源的 ID。

**colors.xml**:

```xml
<resources>
    <color name="primary_color">#3F51B5</color>
</resources>
```

你可以这样使用 `getIdentifier()` 方法来获取它的 ID：

```java
// 获取Context，这可以是你的Activity或任何其他Context对象
Context context = ...;

// 使用getIdentifier()获取颜色资源ID
int colorId = context.getResources().getIdentifier("primary_color", "color", context.getPackageName());

// 现在你可以使用这个ID来获取颜色值
int color = ContextCompat.getColor(context, colorId);
```

如果你知道资源的完整名称（包括包名），则可以省略 `defPackage` 参数：

```java
int resourceId = context.getResources().getIdentifier("com.example.yourapp:color/primary_color", null, null);
```

在这个例子中，`com.example.yourapp` 是应用的包名，`:color/primary_color` 是资源类型和名称。

## 注意事项

- 确保提供正确的资源名称和类型，否则 `getIdentifier()` 将返回 0。
- 如果资源不存在，`getIdentifier()` 也会返回 0。因此，在使用返回的 ID 之前，最好进行检查。
- 在 Android Studio 中，你可以使用 `@` 符号来自动完成资源名称和类型，这有助于减少错误。
