# R文件生成

在Android开发中，资源ID是用于唯一标识应用中资源的整数值。这些ID由构建工具在编译过程中生成，并在R文件中声明：

## 资源ID结构

资源ID通常是一个32位的整数值，其结构如下：

```txt
0xPPTTEEEE
```

- **PP**：高16位，表示资源所属的包。对于应用程序自身的资源，这通常是`0x7F`，表示资源属于应用的私有资源ID范围。如果是框架资源，则可能是`0x01`。

- **TT**：中间8位，表示资源类型。每种资源类型有一个固定的值
  - drawable (0x01) - 图片、图标等视觉元素。
  - layout (0x02) - XML布局文件。
  - color (0x03) - 颜色资源。
  - string (0x04) - 字符串资源。
  - id (0x05) - 视图的ID。
  - integer (0x06) - 整型数值资源。
  - bool (0x07) - 布尔型资源。
  - dimen (0x08) - 尺寸资源，如字体大小、边距等。
  - style (0x09) - 样式资源。
  - anim (0x0A) - 动画资源。
  - menu (0x0B) - 菜单资源。
  - raw (0x0C) - 原始文件资源。
  - attr (0x0D) - 属性资源，用于定义样式和主题中的属性。
  - fraction (0x0E) - 分数资源，用于尺寸比例。
  - array (0x0F) - 数组资源。
  - plurals (0x10) - 复数字符串资源。
  - mipmap (0x11) - 特殊的drawable资源，用于不同密度的图标。
  - xml (0x12) - XML资源文件。

- **EEEE**：低8位，表示该资源类型下的资源ID。这个值在每种资源类型中是唯一的，用于区分同一类型的不同资源。

## 资源ID生成规则

1. **资源类型**：资源类型是由资源类型的名称决定的，如`drawable`、`layout`、`string`等。每种资源类型有一个预设的整数值。

2. **资源名称**：资源的名称在编译时被转换成一个唯一的整数值。这个转换是由构建工具（如AAPT）完成的。

3. **资源ID的分配**：在同一个资源类型中，资源ID是顺序分配的。例如，第一个drawable资源的ID可能是`0x7F020000`，第二个是`0x7F020001`，以此类推。

4. **资源ID的唯一性**：由于资源类型和资源名称的组合是唯一的，因此每个资源的ID也是唯一的。

5. **资源ID的范围**：Android系统为不同的资源分配了不同的ID范围。应用程序的资源ID通常从`0x7F000000`开始，以确保它们与系统资源ID不冲突。

6. **资源ID的声明**：在R文件中，资源ID被声明为静态常量，如下所示：

   ```java
   public static final int drawable_icon = 0x7F020000;
   public static final int layout_activity_main = 0x7F030000;
   ```

7. **资源文件的命名**：资源文件的命名对资源ID的生成没有直接影响，因为资源ID是基于资源类型和资源名称的组合生成的。但是，资源文件的命名应遵循Android的命名规范，以小写字母和下划线为宜。

8. **资源ID的变更**：当添加、删除或重命名资源时，R文件中的资源ID会相应地更新。因此，不应该手动修改R文件，因为这会导致资源ID的不一致。

通过以上规则，Android的构建系统能够为每个资源生成一个唯一的标识符，使得开发者可以在代码中通过这些ID来引用资源，而不必关心资源文件的具体路径或名称。
