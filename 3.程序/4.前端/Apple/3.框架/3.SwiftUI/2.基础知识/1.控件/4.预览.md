# 预览

- `#Preview`标记
- `PreviewProvider`

## `#Preview`标记

使用`#Preview`标记可以直接预览

```swift
#Preview {
   这里写要预览的控件
}
```

## PreviewProvider

在SwiftUI中，`PreviewProvider` 是一个协议，它允许你为视图提供一个预览。这在开发过程中非常有用，因为它可以让你在Xcode的Canvas中即时查看视图的外观，而无需运行整个应用程序。

### 如何使用 `PreviewProvider`

要使用 `PreviewProvider`，你需要遵循以下步骤：

1. **确保你的视图遵循 `PreviewProvider` 协议**：这通常意味着你的视图需要是一个遵循 `View` 协议的结构体或类。

2. **实现 `static var previews: some View` 属性**：这个属性返回一个或多个视图的预览。

### 示例

下面是一个简单的示例，展示如何为一个视图提供预览：

```swift
import SwiftUI

struct ContentView: View, PreviewProvider { // 遵循 PreviewProvider 协议
    var body: some View {
        Text("Hello, SwiftUI!")
            .padding()
            .background(Color.blue)
            .foregroundColor(.white)
            .cornerRadius(10)
    }

    static var previews: some View { // 提供预览
        ContentView()
    }
}

@main
struct MyApp: App {
    var body: some Scene {
        WindowGroup {
            ContentView()
        }
    }
}
```

在这个例子中，`ContentView` 遵循了 `PreviewProvider` 协议，并实现了 `static var previews: some View` 属性。这使得 `ContentView` 在Xcode的Canvas中可以被预览。

### 预览环境变量

你还可以为预览提供不同的环境变量，比如不同的设备类型或颜色方案。这可以通过在 `PreviewProvider` 的实现中使用 `.environment` 修饰符来完成。

### 示例：使用不同的环境变量

```swift
struct ContentView_Previews: PreviewProvider {
    static var previews: some View {
        Group {
            ContentView()
                .previewLayout(.sizeThatFits)
                .environment(\.colorScheme, .light) // 浅色模式预览

            ContentView()
                .previewLayout(.sizeThatFits)
                .environment(\.colorScheme, .dark) // 深色模式预览
        }
    }
}
```

在这个例子中，我们创建了一个名为 `ContentView_Previews` 的结构体来提供预览，并使用 `.environment(\.colorScheme, .light)` 和 `.environment(\.colorScheme, .dark)` 来分别为浅色模式和深色模式提供预览。

通过使用 `PreviewProvider`，你可以在开发过程中更轻松地测试和调整你的SwiftUI视图。
