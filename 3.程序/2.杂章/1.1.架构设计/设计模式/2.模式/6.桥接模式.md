# 桥接模式

类型：结构型

目的：将抽象部分与其实现部分分离，使它们可以独立地变化，避免使用继承导致的类过多、过于复杂等问题，提高灵活性。简单来说：设定抽象，真正的实现逻辑由另一个类来做，此为桥接。

关键核心：

1. **抽象类**：定义一个抽象类，作为系统的一部分。
2. **实现类**：定义一个或多个实现类，与抽象类通过聚合（而非继承）关联。

## 结构

桥接模式通常包含以下角色：

- **Abstraction（抽象类）**：定义抽象类的接口，包含一个指向Implementor接口的引用。
- **Implementor（实现类接口）**：定义实现类的接口（也称桥接接口），Abstraction将通过这个接口与具体的实现类交互。
- **ConcreteAbstraction（具体抽象类）**：实现Abstraction接口，组合一个Implementor接口的对象，并通过它实现具体的行为。
- **ConcreteImplementor（具体实现类）**：实现Implementor接口的具体类。

## 优缺点

- 优点：
  - **解耦抽象与实现**：桥接模式将抽象部分和实现部分分离，使它们可以独立地变化。
  - **扩展性**：可以独立地扩展抽象和实现，增加新的实现类和抽象类不会影响其他类。
  - **复用性**：提高了实现类的复用性，因为它们被解耦，可以被多个抽象类使用。
- 缺点：
  - **增加系统的复杂性**：桥接模式增加了系统的理解与设计难度，可能会使系统更加复杂。
  - **使用场景限制**：桥接模式适用于有多种可能会变化的维度，如果变化维度不多，使用桥接模式可能是一种过度设计。

## 使用场景

- 如果一个类存在两个独立变化的维度，且这两个维度都需要独立进行扩展。
- 如果希望将一个类的抽象部分和实现部分分离，使得它们可以独立地变化。
- 如果需要通过抽象类和它的实现类之间的多重组合来配置对象。

## 使用建议

- 当系统需要在抽象化角色和具体化角色之间增加灵活性时，考虑使用桥接模式。
- 对于不希望使用继承或因多层次继承导致类数量急剧增加的系统，桥接模式特别适用。
- 当一个类存在两个独立变化的维度，且这两个维度都需要扩展时，使用桥接模式。

## 注意事项

- 桥接模式适用于两个独立变化的维度，确保它们可以独立地扩展和变化。

## 示例

```java
// 实现类接口
interface Implementor {
    void operation();
}

// 具体实现类
class ConcreteImplementor implements Implementor {
    @Override
    public void operation() {
        System.out.println("ConcreteImplementor operation");
    }
}

// 抽象类
abstract class Abstraction {
    protected Implementor implementor;

    public Abstraction(Implementor implementor) {
        this.implementor = implementor;
    }

    abstract void execute();
}

// 具体抽象类
class ConcreteAbstraction extends Abstraction {
    public ConcreteAbstraction(Implementor implementor) {
        super(implementor);
    }

    @Override
    void execute() {
        implementor.operation();
        System.out.println("ConcreteAbstraction execute");
    }
}

// 客户端代码
public class Client {
    public static void main(String[] args) {
        Implementor implementor = new ConcreteImplementor();
        Abstraction abstraction = new ConcreteAbstraction(implementor);
        abstraction.execute();
    }
}
```

上述示例表明了桥接模式核心实现方式即：【抽象类与接口】抽象出方法，其持有【桥接接口实现类】的实例，将具体实现交个【桥接接口实现类】，由【桥接接口实现类】负责真正的实现。
