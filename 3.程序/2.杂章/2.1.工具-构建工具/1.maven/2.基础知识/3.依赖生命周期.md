# 依赖生命周期

Maven 是一个流行的 Java 项目管理和构建自动化工具，它使用 `pom.xml` 文件来管理项目的构建、报告和依赖。在 Maven 中，依赖生命周期指的是依赖在项目构建过程中的各个阶段如何被处理。

Maven 定义了以下依赖生命周期阶段：

1. **validate**:
   - 在实际构建之前执行，用于验证项目结构和配置。

2. **initialize**:
   - 初始化构建环境，例如设置属性。

3. **generate-sources**:
   - 生成包含在编译中使用的源代码。

4. **process-sources**:
   - 处理源代码，例如过滤源代码。

5. **generate-resources**:
   - 生成构建资源，例如配置文件。

6. **process-resources**:
   - 复制和处理资源到目标目录，准备打包。

7. **compile**:
   - 编译项目的源代码。

8. **process-classes**:
   - 处理编译生成的类文件。

9. **generate-test-sources**:
   - 生成测试源代码。

10. **process-test-sources**:
    - 处理测试源代码。

11. **test-compile**:
    - 编译测试源代码。

12. **process-test-classes**:
    - 处理测试编译生成的类文件。

13. **test**:
    - 运行测试。

14. **prepare-package**:
    - 准备打包，例如生成 MANIFEST 文件。

15. **package**:
    - 将编译的代码打包成 JAR、WAR 或其他格式。

16. **pre-integration-test**:
    - 准备集成测试环境。

17. **integration-test**:
    - 执行集成测试。

18. **post-integration-test**:
    - 完成集成测试后的清理工作。

19. **verify**:
    - 验证包的完整性。

20. **install**:
    - 将包安装到本地仓库，供其他项目作为依赖使用。

21. **deploy**:
    - 将最终的包部署到远程仓库。

Maven 还定义了三种依赖范围，它们指定了依赖在哪些阶段可用：

- **compile**:
  - 编译依赖，对所有阶段可见，是默认的依赖范围。

- **provided**:
  - 提供依赖，只在编译和测试阶段可见，运行时需要外部提供。

- **test**:
  - 测试依赖，只在测试编译和测试阶段可见。

- **system**:
  - 系统依赖，与 provided 类似，但需要显式指定系统路径。

- **runtime**:
  - 运行时依赖，对运行时和测试阶段可见。

- **import**:
  - 导入依赖，用于合并多个 POM 文件。

通过合理配置依赖范围，可以控制依赖在项目构建和运行时的行为，从而优化构建过程和最终产物。
