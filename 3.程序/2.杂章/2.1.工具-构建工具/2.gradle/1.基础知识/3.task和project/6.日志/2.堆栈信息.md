# 堆栈信息

在Gradle中，获取堆栈信息对于调试构建过程中出现的错误是非常重要的。以下是几种获取堆栈信息的方法：

## 使用 `--stacktrace` 选项

当你在构建过程中遇到错误时，可以使用 `--stacktrace` 选项来获取错误的堆栈跟踪信息。这可以帮助你更精确地定位问题所在。使用方法如下：

```shell
gradle <task> --stacktrace
```

或者如果你使用的是 `gradlew` 脚本：

```shell
gradlew <task> --stacktrace
```

这里的 `<task>` 是你想要执行的Gradle任务。

## 使用 `--full-stacktrace` 选项

如果你需要更完整的堆栈信息，可以使用 `--full-stacktrace` 选项。这将输出完整的堆栈跟踪，但可能会包含大量信息，有时候并不需要这么多细节。使用方法如下：

```shell
gradle <task> --full-stacktrace
```

或者：

```shell
gradlew <task> --full-stacktrace
```

## 使用 `--info` 或 `--debug` 选项

除了获取堆栈信息外，如果你需要更多的日志输出来理解构建过程中发生了什么，可以使用 `--info` 或 `--debug` 选项。这些选项将提供更详细的日志输出，帮助你更好地理解Gradle的构建过程：

```shell
gradle <task> --info
```

或者：

```shell
gradlew <task> --info
```

```shell
gradle <task> --debug
```

或者：

```shell
gradlew <task> --debug
```

## 注意事项

- 使用 `DEBUG` 日志级别可能会暴露敏感信息，如环境变量、私有仓库凭证等，因此在公共CI服务上应避免使用 `DEBUG` 日志级别。
- 有些CI服务会尝试从日志中删除敏感凭据，但这个过程并不完美，通常只删除预配置的秘密的确切匹配项。

通过这些方法，你可以有效地获取Gradle构建过程中的堆栈信息，以便于调试和解决问题。
