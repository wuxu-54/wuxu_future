# settings.gradle.kts

以下是 `settings.gradle.kts` 文件的代码：

```kotlin
pluginManagement {
    repositories {
        google {
            content {
                includeGroupByRegex("com\\.android.*")
                includeGroupByRegex("com\\.google.*")
                includeGroupByRegex("androidx.*")
            }
        }
        mavenCentral()
        gradlePluginPortal()
    }
}
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        google()
        mavenCentral()
    }
}

rootProject.name = "wuxu_shadow"
include(":app")
```

这段代码位于 `settings.gradle.kts` 文件中，定义了 Gradle 构建配置的多个重要部分。以下是逐段解释：

## 1. `pluginManagement` 块

```kotlin
pluginManagement {
    repositories {
        google {
            content {
                includeGroupByRegex("com\\.android.*")
                includeGroupByRegex("com\\.google.*")
                includeGroupByRegex("androidx.*")
            }
        }
        mavenCentral()
        gradlePluginPortal()
    }
}
```

- **`pluginManagement`**：用于管理插件的仓库和版本。
- **`repositories`**：定义了插件解析时使用的仓库。
  - **`google { ... }`**：配置 Google Maven 仓库，并通过正则表达式过滤特定依赖组（如 `com.android.*`、`com.google.*` 和 `androidx.*`）。
  - **`mavenCentral()`**：添加 Maven Central 仓库，这是常用的公共 Maven 仓库。
  - **`gradlePluginPortal()`**：添加 Gradle 插件门户，这是官方的 Gradle 插件仓库。

## 2. `dependencyResolutionManagement` 块

```kotlin
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        google()
        mavenCentral()
    }
}
```

- **`dependencyResolutionManagement`**：用于管理项目的依赖解析行为。
- **`repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)`**：设置仓库模式为 `FAIL_ON_PROJECT_REPOS`，这意味着如果项目中有自定义仓库配置，构建会失败，确保所有子项目使用统一的仓库配置。
- **`repositories`**：定义了依赖解析时使用的仓库。
  - **`google()`**：添加 Google Maven 仓库。
  - **`mavenCentral()`**：添加 Maven Central 仓库。

## 3. 项目配置

```kotlin
rootProject.name = "wuxu_shadow"
include(":app")
```

- **`rootProject.name = "wuxu_shadow"`**：设置根项目的名称为 `wuxu_shadow`。
- **`include(":app")`**：包含名为 `app` 的子模块，表示该模块是项目的一部分。

## 总结

这段代码的主要作用是：

- 配置 Gradle 使用哪些仓库来解析插件和依赖。
- 确保所有子项目使用一致的仓库配置，避免因自定义仓库导致的不一致性。
- 设置项目的根名称并包含子模块 `app`，以便进行多模块构建管理。

---
